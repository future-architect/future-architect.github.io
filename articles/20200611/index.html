<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <!--
    ███████╗██╗░░░██╗████████╗██╗░░░██╗██████╗░███████╗
    ██╔════╝██║░░░██║╚══██╔══╝██║░░░██║██╔══██╗██╔════╝
    █████╗░░██║░░░██║░░░██║░░░██║░░░██║██████╔╝█████╗░░
    ██╔══╝░░██║░░░██║░░░██║░░░██║░░░██║██╔══██╗██╔══╝░░
    ██║░░░░░╚██████╔╝░░░██║░░░╚██████╔╝██║░░██║███████╗
    ╚═╝░░░░░░╚═════╝░░░░╚═╝░░░░╚═════╝░╚═╝░░╚═╝╚══════╝
    ████████╗███████╗░█████╗░██╗░░██╗
    ╚══██╔══╝██╔════╝██╔══██╗██║░░██║
    ░░░██║░░░█████╗░░██║░░╚═╝███████║
    ░░░██║░░░██╔══╝░░██║░░██╗██╔══██║
    ░░░██║░░░███████╗╚█████╔╝██║░░██║
    ░░░╚═╝░░░╚══════╝░╚════╝░╚═╝░░╚═╝
    ██████╗░██╗░░░░░░█████╗░░██████╗░
    ██╔══██╗██║░░░░░██╔══██╗██╔════╝░
    ██████╦╝██║░░░░░██║░░██║██║░░██╗░
    ██╔══██╗██║░░░░░██║░░██║██║░░╚██╗
    ██████╦╝███████╗╚█████╔╝╚██████╔╝
    ╚═════╝░╚══════╝░╚════╝░░╚═════╝░
    Welcome engineer.
    https://www.future.co.jp/recruit/
  -->
  
  <title>Grep, Git grepの便利オプション | フューチャー技術ブログ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  <meta name="description" content="春の入門祭り🌸の第9弾です はじめにこんにちは、TIGメディアユニット岸本卓也です。普段の業務ではアプリ領域を担当しており、JavaやJSと戯れつつ日々を過ごしています。 私は最近プロジェクトが変わり、キャッチアップを進めています。その中でソースコードを検索するために、IDEの検索機能以外に grep や git grep を使いました。そこでよく使った・または便利だったオプションを紹介し">
<meta property="og:type" content="article">
<meta property="og:title" content="Grep, Git grepの便利オプション | フューチャー技術ブログ">
<meta property="og:url" content="https://future-architect.github.io/articles/20200611/index.html">
<meta property="og:site_name" content="フューチャー技術ブログ">
<meta property="og:description" content="春の入門祭り🌸の第9弾です はじめにこんにちは、TIGメディアユニット岸本卓也です。普段の業務ではアプリ領域を担当しており、JavaやJSと戯れつつ日々を過ごしています。 私は最近プロジェクトが変わり、キャッチアップを進めています。その中でソースコードを検索するために、IDEの検索機能以外に grep や git grep を使いました。そこでよく使った・または便利だったオプションを紹介し">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://future-architect.github.io/images/20200611/top.png">
<meta property="article:published_time" content="2020-06-11T00:53:08.000Z">
<meta property="article:modified_time" content="2022-07-04T14:47:52.976Z">
<meta property="article:tag" content="grep">
<meta property="article:tag" content="ShellScript">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://future-architect.github.io/images/20200611/top.png">
  
  <link rel="alternate" href="/atom.xml" title="フューチャー技術ブログ" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes='180x180' href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes='57x57' href="/apple-touch-icon-57x57.png">
  <link rel="canonical" href="https://future-architect.github.io/articles/20200611/">
  <meta content="grep,ShellScript,Git" name="keywords">
  <meta content="岸本卓也" name="author">
  <link rel="preload" as="image" href="/banner.jpg" />
  <link rel='manifest' href='/manifest.webmanifest'/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" href="/metronic/assets/style.css">
  <link rel="stylesheet" href="/css/theme-styles.css">
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="corporate">
  <div class="wrap" itemscope itemtype="https://schema.org/TechArticle">
  <!-- BEGIN HEADER -->
<header class="header">
	<div class="header-overlay">
		<div class="header-menu"></div>
		<div class="header-title"><a href="/">Future Tech Blog</a></div>
		<div class="header-title-sub">フューチャー技術ブログ</div>
	</div>
</header>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/articles/">Blog</a></li>
    <li class="active">Post</li>
  </ul>
  <section id="main" class="margin-top-30">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programmingカテゴリ</a>
  </div>


    <h2 itemprop="name" class="article-title">Grep, Git grepの便利オプション
  
  <a target="_blank" rel="noopener" href="https://github.com/future-architect/tech-blog/edit/master/source/_posts/20200611-春祭り9-grep.md" title="Suggest Edits" class="github-edit"><i class="github-edit-icon"></i></a>
  
</h2>

    <div class="row">
  <main class="col-md-9 blog-posts">
    <article id="post-20200611-春祭り9-grep" class="article article-type-post blog-item" itemscope itemprop="blogPost">
      <div class="article-inner">
        
        <header class="article-header">
          <ul class="blog-info">
            <li class="blog-info-item"><a href="/articles/2020/" class="publish-date"><time datetime="2020-06-11T00:53:08.000Z" itemprop="datePublished">2020.06.11</time></a>
</li>
            <li class="blog-info-item"><li><a href="/authors/%E5%B2%B8%E6%9C%AC%E5%8D%93%E4%B9%9F" title="岸本卓也さんの記事一覧へ" class="post-author">岸本卓也</a></li></li>
            <li class="blog-info-item">
  
    
    <a href="/tags/grep/" title="grepタグの記事へ" class="tag-list-link">grep</a>
  
    
    <a href="/tags/ShellScript/" title="ShellScriptタグの記事へ" class="tag-list-link">ShellScript</a>
  
    
    <a href="/tags/Git/" title="Gitタグの記事へ" class="tag-list-link">Git</a>
  

</li>
          </ul>
          </header>
        
        <div class="article-entry" itemprop="articleBody">
          
            <img src="/images/20200611/top.png" loading="lazy">


<p><a href="/articles/20200529/">春の入門祭り</a>🌸の第9弾です</p>
<h1 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h1><p>こんにちは、TIGメディアユニット岸本卓也です。普段の業務ではアプリ領域を担当しており、JavaやJSと戯れつつ日々を過ごしています。</p>
<p>私は最近プロジェクトが変わり、キャッチアップを進めています。その中でソースコードを検索するために、IDEの検索機能以外に <code>grep</code> や <code>git grep</code> を使いました。そこでよく使った・または便利だったオプションを紹介します。</p>
<p>なお、Windowsでは初期状態ではgrepコマンドがありませんが、インストールする方法はいくつかあります。gitを使うためにインストールするGit for WindowsのGit Bashでもgrepコマンドが使えますので、Windowsユーザーの方はお試しください。</p>
<h1 id="grepの基本"><a href="#grepの基本" class="headerlink" title="grepの基本"></a>grepの基本</h1><p>grepは指定された検索パターンに一致する部分を検索するコマンドラインプログラムです。次の形式で実行します。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド実行形式</span></span><br><span class="line">grep [オプション...] [検索パターン] [検索対象のファイル...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: sample.txtファイルの中からFutureという文字列を含む行を検索する。</span></span><br><span class="line">grep <span class="string">&#x27;Future&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>

<p>このように検索パターン (≒検索したい文字列) と検索対象のファイルを指定して実行すると、検索パターンにマッチする行がコンソールに出力されます。</p>
<p>検索対象のファイルが複数ある場合は、次のようにファイルを列挙します。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 複数のファイルを対象に検索する。</span></span><br><span class="line">grep <span class="string">&#x27;Future&#x27;</span> sample.txt sample2.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: ワイルドカードで複数ファイルを指定する。</span></span><br><span class="line">grep <span class="string">&#x27;Future&#x27;</span> *</span><br></pre></td></tr></table></figure>


<h1 id="検索パターン"><a href="#検索パターン" class="headerlink" title="検索パターン"></a>検索パターン</h1><p>grepの検索パターンには正規表現を使うことができ、正規表現を使うことで非常に強力な検索ができます。正規表現は検索パターンを表現する特殊な文字列で、ワイルドカードのようなものです。</p>
<p>正規表現には普通の文字とメタ文字 (&#x3D;特別な意味を持つ文字) があるので、ここではメタ文字の内よく使うものを紹介します。よく使う順に記載します。</p>
<ul>
<li>任意の1文字: <code>.</code> (ドット)</li>
<li>量指定子: その直前の文字が何回繰り返すかを指定します。<ul>
<li>0回以上: <code>*</code></li>
<li>1回以上: <code>+</code></li>
<li>0回または1回: <code>?</code></li>
<li>n回: <code>&#123;n&#125;</code></li>
</ul>
</li>
<li>アンカー: 行頭または行末にマッチします。<ul>
<li>行頭: <code>^</code></li>
<li>行末: <code>$</code></li>
</ul>
</li>
<li>エスケープ: <code>\</code> メタ文字を普通の文字として指定したい場合にメタ文字の直前に指定します。</li>
<li>ブラケット式: <code>[]</code> []で囲んだ中に指定した文字のいずれか1文字を表します。文字を列挙する以外に <code>-</code> (ハイフン) を使った範囲指定も可能です。</li>
<li>部分式 (グループ)、後方参照<ul>
<li>部分式 (グループ): <code>()</code> 正規表現の一部を <code>(</code> と <code>)</code> で囲むと部分式 (グループ) を定義できます。</li>
<li>後方参照: <code>\n</code> (grepの場合、nは1～9までの数字) <code>n</code> 番目の部分式にマッチした文字列と同じ文字列にマッチします。</li>
</ul>
</li>
<li>単語の境界: 単語の境界にマッチします。<ul>
<li>単語の境界: <code>\b</code></li>
<li>単語の始まり: <code>\&lt;</code></li>
<li>単語の終わり: <code>\&gt;</code></li>
</ul>
</li>
</ul>
<p>これらのメタ文字のいくつかを使った正規表現の例は次のとおりです。</p>
<ul>
<li><code>Hack.+Future</code>: <code>Hack</code> という文字列に続いて任意の文字が1個以上あり、それに続いて <code>Future</code> という文字列がある部分にマッチします。例えば <code>Hack to the Future</code> にマッチします。</li>
<li><code>BT&#123;2&#125;F</code>: <code>BTTF</code> という文字列にマッチします。</li>
<li><code>Future$</code>: 行末の <code>Future</code> という文字列にマッチします。</li>
<li><code>[0-9]&#123;4&#125;</code>: 任意の数字が4個続く部分にマッチします。例えば <code>1989</code> にマッチします。</li>
<li><code>Dr\. [a-zA-Z]+</code>: <code>Dr. </code> という文字列に続いてアルファベットが1文字以上続く部分にマッチします。例えば <code>Dr. Emmett</code> にマッチします。</li>
<li><code>(\&lt;[bB]uffalo\&gt; ?)&#123;8&#125;</code>: <code>buffalo</code> という単語が8回続く文字列にマッチします。例えば <code>Buffalo buffalo Buffalo buffalo buffalo buffalo Buffalo buffalo</code> にマッチします。</li>
</ul>
<p>正規表現はgrepに限らずエディタやプログラミング言語など様々な場所で使うことができますが、正規表現の細かな仕様は実装によって結構異なります。したがって、正規表現の詳細は各実装のドキュメントを参照する必要があります。</p>
<ul>
<li>Grepの正規表現: <a target="_blank" rel="noopener" href="https://www.gnu.org/software/grep/manual/grep.html#Regular-Expressions">GNU grep manual: 3 Regular Expressions</a><br>Grepの基本正規表現 (BRE)、拡張正規表現 (ERE) はこちらが参考になります。</li>
<li>Perlの正規表現: <a target="_blank" rel="noopener" href="http://perldoc.jp/docs/perl/5.18.1/perlre.pod">perlre - Perl の正規表現 - perldoc.jp</a><br>grepは <code>-P</code> オプションでPerl互換正規表現 (PCRE) を使うことができますが、その詳細は上記には記載されていません。PCREはこちらが参考になります。</li>
<li>Javaの正規表現: <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/jp/11/docs/api/java.base/java/util/regex/Pattern.html">Pattern (Java SE 11 &amp; JDK 11 )</a><br>grepとは関係ありませんが、正規表現のバリエーションの一例です。</li>
<li>Vimの正規表現: <a target="_blank" rel="noopener" href="https://vim-jp.org/vimdoc-ja/pattern.html#pattern-overview">pattern - Vim日本語ドキュメント</a><br>grepとは関係ありませんが、正規表現のバリエーションの一例です。</li>
</ul>
<h1 id="よく使うオプション"><a href="#よく使うオプション" class="headerlink" title="よく使うオプション"></a>よく使うオプション</h1><p>grepには様々なオプションがあり、オプションを指定することで検索動作を変えることができます。ここではそのオプションの内よく使うものを紹介します。よく使う順に記載します。</p>
<h2 id="大文字-x2F-小文字の違いを無視-i"><a href="#大文字-x2F-小文字の違いを無視-i" class="headerlink" title="大文字&#x2F;小文字の違いを無視: -i"></a>大文字&#x2F;小文字の違いを無視: <code>-i</code></h2><p>grepはデフォルトでは大文字&#x2F;小文字も含めて厳密に一致する文字を検索するため、検索パターン <code>future</code> は文字列 <code>Future</code> にマッチしません。 <code>-i</code> を指定すると大文字&#x2F;小文字の違いを無視して検索するため、 <code>Future</code> にもマッチします。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: futureにマッチするが、Futureにはマッチしない。</span></span><br><span class="line">grep <span class="string">&#x27;future&#x27;</span> sample.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: future, Futureどちらにもマッチする。</span></span><br><span class="line">grep -i <span class="string">&#x27;future&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>

<p>大文字&#x2F;小文字の違いを無視して広めに検索したい時によく使います。</p>
<h2 id="フォルダを再帰的に検索-r"><a href="#フォルダを再帰的に検索-r" class="headerlink" title="フォルダを再帰的に検索: -r"></a>フォルダを再帰的に検索: <code>-r</code></h2><p>前述の通り、検索対象ファイルは複数列挙できますが、フォルダ階層が切られたソースを検索する場合にファイルを1個ずつ指定するのは面倒です。そのような場合に <code>-r</code> オプションとともに検索対象ファイルではなくフォルダを指定すると、指定されたフォルダに存在するファイルと、サブフォルダがあればその中に存在するファイルも再帰的に検索します。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: some_dirフォルダから再帰的に、配下に存在するファイルを対象に検索する。</span></span><br><span class="line">grep -r <span class="string">&#x27;Future&#x27;</span> some_dir/</span><br></pre></td></tr></table></figure>

<p>なお、フォルダ指定を省略するとカレントディレクトリから検索するため、私はよく <code>grep -ir &#39;future&#39;</code> といった形で使います。</p>
<h2 id="特定のファイルだけ検索-include"><a href="#特定のファイルだけ検索-include" class="headerlink" title="特定のファイルだけ検索: --include"></a>特定のファイルだけ検索: <code>--include</code></h2><p>フォルダ指定で検索する場合は指定したフォルダ配下のすべてのファイルが検索されますが、これを限定したいことがあります。そのような場合に  <code>--include</code> オプションで検索対象とするファイル名の条件を指定できます。ファイル名の条件にはglobパターンを使えます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: some_dirフォルダから再帰的に、配下に存在する拡張子.vueのファイルを対象に検索する。</span></span><br><span class="line">grep -r --include=<span class="string">&#x27;*.vue&#x27;</span> <span class="string">&#x27;Future&#x27;</span> some_dir/</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 検索対象にしたいファイル名の条件が複数ある場合はオプションを複数回指定する。</span></span><br><span class="line">grep -r --include=<span class="string">&#x27;*.vue&#x27;</span> --include=<span class="string">&#x27;*.js&#x27;</span> <span class="string">&#x27;Future&#x27;</span> some_dir/</span><br></pre></td></tr></table></figure>

<h2 id="特定のファイル-x2F-フォルダを除外-exclude-exclude-dir"><a href="#特定のファイル-x2F-フォルダを除外-exclude-exclude-dir" class="headerlink" title="特定のファイル&#x2F;フォルダを除外: --exclude, --exclude-dir"></a>特定のファイル&#x2F;フォルダを除外: <code>--exclude</code>, <code>--exclude-dir</code></h2><p>上記とは逆に、検索対象から除外するファイルを指定することもできます。除外するファイル名は <code>--exclude</code> オプション、フォルダ単位で除外するには <code>--exclude-dir</code> オプションで条件を指定でき、どちらもglobパターンを使えます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: some_dirフォルダから再帰的に、配下に存在する拡張子.log以外のファイルを対象に検索する。</span></span><br><span class="line">grep -r --exclude=<span class="string">&#x27;*.log&#x27;</span> <span class="string">&#x27;Future&#x27;</span> some_dir/</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: some_dirフォルダから再帰的に、logフォルダ以外の配下に存在するファイルを対象に検索する。</span></span><br><span class="line">grep -r --exclude-dir=<span class="string">&#x27;log&#x27;</span> <span class="string">&#x27;Future&#x27;</span> some_dir/</span><br></pre></td></tr></table></figure>

<h2 id="拡張正規表現を使う-E"><a href="#拡張正規表現を使う-E" class="headerlink" title="拡張正規表現を使う: -E"></a>拡張正規表現を使う: <code>-E</code></h2><p>grepの検索パターンはデフォルトでは基本正規表現 (BRE) として解釈されます。BREでは <code>?</code>, <code>+</code>, <code>&#123;</code>, <code>|</code>, <code>(</code>, <code>)</code> の文字はメタ文字ではなく普通の文字です。BREでこれらをメタ文字として機能させるには <code>\?</code>, <code>\+</code>, <code>\&#123;</code>, <code>\|</code>, <code>\(</code>, <code>\)</code> と指定する必要があります <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>。</p>
<p>一方、拡張正規表現 (ERE) ではこれらの文字は単体でメタ文字として機能します。したがって、検索パターンによってEREにした方がスッキリ書ける場合は <code>-E</code> オプションを指定することで検索パターンをEREとして解釈させることができます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: BRE</span></span><br><span class="line">grep <span class="string">&#x27;[0-9]\&#123;4\&#125;&#x27;</span> sample.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: ERE</span></span><br><span class="line">grep -E <span class="string">&#x27;[0-9]&#123;4&#125;&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>

<p> マッチした周辺行も出力: <code>-A num</code>, <code>-B num</code>, <code>-num</code> (<code>-C num</code>)</p>
<p>検索パターンがどのような状況で使われているか、知りたいことがあります。そのような場合に、マッチした行に加えてその周辺の行を出力するオプションがあります。</p>
<ul>
<li>マッチした行の後 num 行も出力: <code>-A num</code></li>
<li>マッチした行の前 num 行も出力: <code>-B num</code></li>
<li>マッチした行の前後 num 行も出力: <code>-num</code> (<code>-C num</code>)</li>
</ul>
<h2 id="行番号を出力-n"><a href="#行番号を出力-n" class="headerlink" title="行番号を出力: -n"></a>行番号を出力: <code>-n</code></h2><p>行番号が必要であれば <code>-n</code> オプションでマッチした行の行番号を出力できます。</p>
<h2 id="ファイル名を出力しない-h"><a href="#ファイル名を出力しない-h" class="headerlink" title="ファイル名を出力しない: -h"></a>ファイル名を出力しない: <code>-h</code></h2><p>検索対象のファイルが複数ある場合、デフォルトでは検索結果にファイル名が出力されます。単一ファイルの検索時同様にファイル名なしの出力にするには <code>-h</code> オプションを指定します。</p>
<p>検索結果をパイプで繋いで処理したい場合によく使います。</p>
<h2 id="ファイル名だけ出力-l"><a href="#ファイル名だけ出力-l" class="headerlink" title="ファイル名だけ出力: -l"></a>ファイル名だけ出力: <code>-l</code></h2><p>デフォルトでは検索結果にはマッチした行テキストが出力されます。これの代わりにマッチするデータがあるファイル名だけ表示するには <code>-l</code> オプションを指定します。</p>
<h2 id="文字コードShift-JISのファイルを検索"><a href="#文字コードShift-JISのファイルを検索" class="headerlink" title="文字コードShift_JISのファイルを検索"></a>文字コードShift_JISのファイルを検索</h2><p>grepは文字コードUTF-8のファイルならマルチバイト文字も検索できます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 日本語を検索する。</span></span><br><span class="line">grep <span class="string">&#x27;フューチャー&#x27;</span> sample.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 絵文字を検索する。</span></span><br><span class="line">grep -P <span class="string">&#x27;🤠&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>

<p>ただ、Windowsにおいては文字コードShift_JISのファイルを相手にすることもまだまだ多いものの、grepは単純にはShift_JISのファイルを検索できません。そのような場合は、次のように文字コードShift_JISの検索パターンを指定すると検索できます。ただし、正規表現が使えません。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 文字コードShift_JISのファイルを対象に検索する。</span></span><br><span class="line">grep -aF $(<span class="built_in">echo</span> <span class="string">&#x27;フューチャー&#x27;</span> | iconv -t SJIS) sample_sjis.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 検索結果の文字化けを解消するには、検索結果の文字コードを変換する。</span></span><br><span class="line">grep -aF $(<span class="built_in">echo</span> <span class="string">&#x27;フューチャー&#x27;</span> | iconv -t SJIS) sample_sjis.txt | iconv -f SJIS</span><br></pre></td></tr></table></figure>

<p>この例ではコマンド置換 (<code>$(...)</code> の部分、grepではなくシェルの機能) により文字コードShift_JISに変換するコマンドを実行してその結果を検索パターンに指定しています。</p>
<p>各オプションの意味とその意図は次のとおりです。</p>
<ul>
<li><code>-a</code>: バイナリファイルもテキストとして検索します。<br>Shift_JISのファイルはgrepにバイナリファイルと認識され、検索結果にマッチした行テキストが出力されないことがあります。 <code>-a</code> を指定するとバイナリファイルもテキスト扱いで検索してマッチした行テキストが出力されます。</li>
<li><code>-F</code>: 検索パターンを正規表現として解釈せず普通の文字列として扱います。<br>Shift_JISの検索文字列の一部はメタ文字として解釈されてしまい、エラーになることがあります。そのような場合は <code>-F</code> オプションを指定して検索パターンをただの文字列として指定するとエラーを解消できます。</li>
</ul>
<h2 id="マッチしない行を検索-v"><a href="#マッチしない行を検索-v" class="headerlink" title="マッチしない行を検索: -v"></a>マッチしない行を検索: <code>-v</code></h2><p>検索パターンを含まない行を検索したい (NOT条件のような) 場合は <code>-v</code> オプションを指定します。</p>
<h2 id="複数の検索パターン-e"><a href="#複数の検索パターン-e" class="headerlink" title="複数の検索パターン: -e"></a>複数の検索パターン: <code>-e</code></h2><p>複数の検索パターンのいずれかを含む行を検索したい (OR条件のような) 場合はいくつか方法がありますが、 <code>-e</code> オプションで検索パターンを複数指定する方法が簡単です。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: HackまたはBackという文字列を含む行を検索する。</span></span><br><span class="line">grep -e <span class="string">&#x27;Hack&#x27;</span> -e <span class="string">&#x27;Back&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>

<h2 id="検索パターンをファイルで指定-f"><a href="#検索パターンをファイルで指定-f" class="headerlink" title="検索パターンをファイルで指定: -f"></a>検索パターンをファイルで指定: <code>-f</code></h2><p>検索パターンは <code>-f</code> オプションを使ってファイルで指定できます。検索パターンを指定するファイルは1行に1個の検索パターンを記述します。このとき、検索パターンを指定するファイルの改行コードは <code>LF</code> にする必要があります。改行コードに <code>CR</code> が含まれていると意図した検索ができません。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: ファイルから検索パターンを読み取って検索する。</span></span><br><span class="line">grep -f patterns.txt sample.txt</span><br></pre></td></tr></table></figure>

<p>このオプションは次の例のように、別のコマンドの結果を検索パターンとして使う時に指定することが多いです。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 別コマンドの結果を検索パターンとして指定し、検索する。</span></span><br><span class="line">grep -r --include=<span class="string">&#x27;*.vue&#x27;</span> -f &lt;(grep -Eo <span class="string">&#x27;[EWI][0-9]+&#x27;</span> some-resource.yml) some_dir/</span><br></pre></td></tr></table></figure>

<p>この例ではプロセス置換 (<code>&lt;(...)</code> の部分、grepではなくシェルの機能) により別のコマンドの結果を検索パターンファイルとして指定しています。</p>
<h2 id="最短一致検索"><a href="#最短一致検索" class="headerlink" title="最短一致検索"></a>最短一致検索</h2><p>検索パターンで紹介した量指定子の <code>*</code> や <code>+</code> はマッチする部分ができるだけ長くなるようにマッチされます (最長一致検索)。例えば、検索パターン <code>H.*e</code> は文字列 <code>Hack to the Future</code> の全体にマッチします。そうではなく、1個目の <code>e</code> までマッチさせる (最短一致検索) 場合は、 <code>-P</code> オプションを指定し、Perl互換正規表現 (PCRE) のメタ文字 <code>*?</code> や <code>+?</code> を使います。検索パターン <code>H.*?e</code> は文字列 <code>Hack to the Future</code> に対して <code>Hack to the</code> の部分にマッチします。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 最短一致検索する。</span></span><br><span class="line">grep -P <span class="string">&#x27;H.*?e&#x27;</span> sample.txt</span><br></pre></td></tr></table></figure>


<h1 id="git-grep"><a href="#git-grep" class="headerlink" title="git grep"></a>git grep</h1><p>gitのサブコマンドにはgitリポジトリを検索するgit grepコマンドがあります。単にワークツリーを検索するだけであればgrepを使えば良いですが、コミット内を検索したい場合にはgit grepを使う必要があります。git grepはワークツリーとコミット内のどちらも検索できます。</p>
<p>git grepは名前にgrepが含まれている通りgrepと似ており、使い方がgrepとほぼ同じでオプションも同じように使えるものが多いです。ここでは前述したgrepのオプションとは異なる部分と、git grep特有の便利機能を紹介します。</p>
<h2 id="特定のファイルだけ検索"><a href="#特定のファイルだけ検索" class="headerlink" title="特定のファイルだけ検索"></a>特定のファイルだけ検索</h2><p>git grepには <code>--include</code> オプションがありません。代わりに、git grepではコマンドライン引数の最後に検索対象のファイルを限定する「パス仕様」を指定できます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: カレントディレクトリから再帰的に、配下に存在する拡張子.vueのファイルを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> -- <span class="string">&#x27;*.vue&#x27;</span></span><br></pre></td></tr></table></figure>

<p>この例では <code>&#39;*.vue&#39;</code> の部分がパス仕様で、 <code>--</code> はそれより後ろの引数がパス仕様であることを明示するために指定します。</p>
<p>なお、git grepは <code>-r</code> オプションの動作がデフォルトのため、オプション無しでもフォルダを再帰的に検索します。</p>
<h3 id="特定のファイル-x2F-フォルダを除外"><a href="#特定のファイル-x2F-フォルダを除外" class="headerlink" title="特定のファイル&#x2F;フォルダを除外"></a>特定のファイル&#x2F;フォルダを除外</h3><p><code>--include</code> と同様にgit grepには <code>--exclude</code>, <code>--exclude-dir</code> オプションが無いため、コマンドライン引数の最後で除外するパス仕様を指定します。除外するパスは先頭に <code>:^</code> または <code>:!</code> という文字 (どちらも同じ意味) を付けて指定します。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: カレントディレクトリから再帰的に、配下に存在する拡張子.log以外のファイルを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> -- <span class="string">&#x27;:^*.log&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: カレントディレクトリから再帰的に、logフォルダ以外の配下に存在するファイルを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> -- <span class="string">&#x27;:^*/log/*&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="他ブランチ-x2F-全ブランチ検索"><a href="#他ブランチ-x2F-全ブランチ検索" class="headerlink" title="他ブランチ&#x2F;全ブランチ検索"></a>他ブランチ&#x2F;全ブランチ検索</h2><p>gitは機能や修正毎にブランチを分けて開発することが多いため、他ブランチを対象に検索したいことがあります。そのような場合はコマンドライン引数でブランチを指定して検索できます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: dev/awesome-featureブランチを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> dev/awesome-feature</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: リモートブランチを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> origin/dev/awesome-feature</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 検索対象のブランチを複数指定する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> dev/awesome-feature dev/pretty-feature</span><br></pre></td></tr></table></figure>

<p>また、もっと広く検索するために全ブランチを対象に検索したいことがあります。そのような場合、私は次のように検索しています。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 全リモートブランチを対象に検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> $(git show-ref | <span class="built_in">cut</span> -d<span class="string">&#x27; &#x27;</span> -f2 | grep <span class="string">&#x27;/origin/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 全リモートブランチを対象に、特定のパターンのファイルのみ検索する。</span></span><br><span class="line">git grep <span class="string">&#x27;Future&#x27;</span> $(git show-ref | <span class="built_in">cut</span> -d<span class="string">&#x27; &#x27;</span> -f2 | grep <span class="string">&#x27;/origin/&#x27;</span>) -- <span class="string">&#x27;*.vue&#x27;</span> <span class="string">&#x27;:^*.log&#x27;</span></span><br></pre></td></tr></table></figure>


<h1 id="さいごに"><a href="#さいごに" class="headerlink" title="さいごに"></a>さいごに</h1><p>当記事では、私がよく使うgrepオプションやgit grepの機能を紹介しました。grepは他のコマンドと組み合わせるとさらに強力に使うことができます。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># コマンド例: 別コマンドの結果を検索する。</span></span><br><span class="line">hoge | grep <span class="string">&#x27;Future&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: 3日以内に更新されたログファイルを対象に検索する。</span></span><br><span class="line">find . -maxdepth 2 -<span class="built_in">type</span> f -name <span class="string">&#x27;*.log&#x27;</span> -mtime -3 -print0 | xargs -0 grep <span class="string">&#x27;Future&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># コマンド例: grepで検索されたファイルを対象に置換処理する。</span></span><br><span class="line">perl -pi -e <span class="string">&#x27;s/foo([-\/])/bar$&#123;1&#125;/g&#x27;</span> $(grep -rl <span class="string">&#x27;foo[-/]&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>当blog過去記事の <a href="/articles/20160527/">grepのLT</a> では、「find, while, cut, …もgrepのオプションだよね？」といった衝撃の発表もされていて面白い内容ですのでよろしければそちらも参照ください。</p>
<h1 id="参考リンク"><a href="#参考リンク" class="headerlink" title="参考リンク"></a>参考リンク</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.gnu.org/software/grep/manual/">GNU Grepのマニュアル</a></li>
<li><a target="_blank" rel="noopener" href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html">POSIXの正規表現仕様</a><br>GNU Grepのマニュアルに記載のないBRE, EREの仕様はこちらが参考になります。</li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-grep">git-grepのドキュメント</a></li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefpathspecapathspec">gitglossaryのドキュメント (パス仕様の詳細)</a></li>
</ul>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;"><a target="_blank" rel="noopener" href="https://www.gnu.org/software/grep/manual/grep.html#Basic-vs-Extended">GNU grep manual: 3.6 Basic vs Extended Regular Expressions</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div>
          
        </div>
        <footer>
          <section class="social-area">
          <!-- シェアボタン START -->
  <ul class="social-button">
    
    <!-- Twitter -->
    <li>
      <a class="social-btn twitter-btn" target="_blank" href="https://twitter.com/share?url=https://future-architect.github.io/articles/20200611/&related=twitterapi%2Ctwitter&text=Grep,%20Git%20grep%E3%81%AE%E4%BE%BF%E5%88%A9%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%20%7C%20%E3%83%95%E3%83%A5%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E6%8A%80%E8%A1%93%E3%83%96%E3%83%AD%E3%82%B0" rel="nofollow noopener">
        <i></i><span class="social-btn-label">ツイート</span>
      </a>
    </li>
    <!-- Facebook -->
    <li>
      <a class="social-btn fb-btn" target="_blank" href="http://www.facebook.com/share.php?u=https://future-architect.github.io/articles/20200611/&t=Grep,%20Git%20grep%E3%81%AE%E4%BE%BF%E5%88%A9%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3" rel="nofollow noopener">
        <i></i><span class="social-btn-label">シェア</span>
      </a>
    </li>
    <!-- hatebu -->
    <li>
      <a class="social-btn hatebu-btn" target="_blank" href="https://b.hatena.ne.jp/entry/s/future-architect.github.io/articles/20200611/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">2</span>
      </a>
    </li>
    <!-- pocket -->
    <li>
      <a class="social-btn pocket-btn" target="_blank" href="https://getpocket.com/save?url=https://future-architect.github.io/articles/20200611/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">5</span>
      </a>
    </li>
    
  </ul>
<!-- シェアボタン END -->

          </section>
          <aside>
            <section class="related-post margin-bottom-40 nav">
              <h2 id="related"><a href="#related" class="headerlink" title="関連記事"></a>関連記事</h2>
              
  <div class="widget">
    <ul class="nav related-post-link"><li class="related-posts-item"><span>2021.04.06</span><span class="snscount">&#9825;20</span><a href=/articles/20210406/ title="シェルスクリプトで前提とするシェルは、大抵のコンピューターにインストールされていることが多いbashを選択することが多いと思います。当記事ではそのbashを対象に、意外と色々あるシェルの展開処理の概要をまとめました。">Bashのシェル展開</a></li><li class="related-posts-item"><span>2022.08.18</span><span class="snscount">&#9825;4</span><a href=/articles/20220818a/ title="複数のVPNを切り替える際に、認証情報を入力することが面倒で、パスワードを間違えると、再度入力しないといけなくなり、わずかでありながらも、仕事する中の小さなストレスだと感じています。今回は、コマンドでスムーズに複数のVPNを切り替える方法を紹介します。コマンドを紹介する前に、なぜ複数VPNを使っているかを話します。">MacのVPNをコマンドでスムーズに切り替えよう</a></li><li class="related-posts-item"><span>2022.04.21</span><span class="snscount">&#9825;23</span><a href=/articles/20220421a/ title="業務を進める上では日々多くの技術情報を調べる必要がありますが、無策に調べると時間を浪費したりイマイチな解決策を採用してしまう可能性があります。そこで、本稿では普段私がやっている方法を中心に、調べる上でのポイントを紹介します。">技術情報の調べ方</a></li><li class="related-posts-item"><span>2022.02.21</span><span class="snscount">&#9825;2</span><a href=/articles/20220221a/ title="こんにちは、TIG コアテクノロジーユニットの田中です。ファイルの最終更新日時を上書きするスクリプトをGroovyで書く機会があったので紹介します。* Groovy 4.0.0* JVM 1.8.0_121* Perl 5.32.1">Groovyスクリプトで、ファイルの最終更新日時をgit clone/pullの日時ではなく、commit日時にしてみた</a></li><li class="related-posts-item"><span>2021.04.20</span><span class="snscount">&#9825;18</span><a href=/articles/20210420b/ title="Gitを使っての開発で、指定のツールや好みのGitクライアントを使っていると思います。ターミナルの黒画面でGitコマンドを使うのはちょっと不安、GUI画面から画面を確認しながらGitを操作したい方向けの記事です。GitのBranch作成やCheckout, Commit, Pushまで使えた方向けに、次の段階としてRebase, Cherry Pickなどの実行方法を説明します。">GUI GitツールのRebase, Cherry pick</a></li><li class="related-posts-item"><span>2021.04.05</span><span class="snscount">&#9825;4</span><a href=/articles/20210405/ title="突然ですが、みなさんは「あんなコマンドあったらいいのにな」と思ったことはありませんか。めったにないと思いますが、せっかくなので本日はオリジナルコマンドの作成方法を記します。">オプション付きのオリジナルコマンドを作成しよう</a></li></ul>
  </div>
            </section>
            <section class="reference-post margin-bottom-40 nav">
              
  <div class="card">
    <div id="reference" class="reference-lede"><a href="#reference" class="headerlink" title="参照されている記事"></a>この記事を参照している記事</div>
    <ul class="reference-post-link"><li class="reference-posts-item"><a href=/articles/20210330/ title="CSVデータをAWKで処理する例を紹介します。">CSVと親しくなるAWK術</a></li><li class="reference-posts-item"><a href=/articles/20200529/ title="本記事はフューチャー技術ブログでの企画のお知らせになります。6/1〜25の「春の入門祭り🌸」と題して、土日を除く毎日、記事を公開いたします。">春の入門祭り🌸連載を始めます</a></li></ul>
  </div>
            </section>
          </aside>
        </footer>
      </div>
    </article>
  </main>
  <aside class="col-md-3 blog-sidebar">
    <!-- START SIDEBAR  -->


<section class="toc-section">
  <h2 class="margin-top-30">目次</h2>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><span class="toc-text">はじめに</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#grep%E3%81%AE%E5%9F%BA%E6%9C%AC"><span class="toc-text">grepの基本</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A4%9C%E7%B4%A2%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><span class="toc-text">検索パターン</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3"><span class="toc-text">よく使うオプション</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E6%96%87%E5%AD%97-x2F-%E5%B0%8F%E6%96%87%E5%AD%97%E3%81%AE%E9%81%95%E3%81%84%E3%82%92%E7%84%A1%E8%A6%96-i"><span class="toc-text">大文字&#x2F;小文字の違いを無視: -i</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E5%86%8D%E5%B8%B0%E7%9A%84%E3%81%AB%E6%A4%9C%E7%B4%A2-r"><span class="toc-text">フォルダを再帰的に検索: -r</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A0%E3%81%91%E6%A4%9C%E7%B4%A2-include"><span class="toc-text">特定のファイルだけ検索: --include</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB-x2F-%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E9%99%A4%E5%A4%96-exclude-exclude-dir"><span class="toc-text">特定のファイル&#x2F;フォルダを除外: --exclude, --exclude-dir</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%A1%E5%BC%B5%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%82%92%E4%BD%BF%E3%81%86-E"><span class="toc-text">拡張正規表現を使う: -E</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E7%95%AA%E5%8F%B7%E3%82%92%E5%87%BA%E5%8A%9B-n"><span class="toc-text">行番号を出力: -n</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%AA%E3%81%84-h"><span class="toc-text">ファイル名を出力しない: -h</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%A0%E3%81%91%E5%87%BA%E5%8A%9B-l"><span class="toc-text">ファイル名だけ出力: -l</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89Shift-JIS%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E6%A4%9C%E7%B4%A2"><span class="toc-text">文字コードShift_JISのファイルを検索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%AA%E3%81%84%E8%A1%8C%E3%82%92%E6%A4%9C%E7%B4%A2-v"><span class="toc-text">マッチしない行を検索: -v</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A4%87%E6%95%B0%E3%81%AE%E6%A4%9C%E7%B4%A2%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-e"><span class="toc-text">複数の検索パターン: -e</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A4%9C%E7%B4%A2%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A7%E6%8C%87%E5%AE%9A-f"><span class="toc-text">検索パターンをファイルで指定: -f</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD%E4%B8%80%E8%87%B4%E6%A4%9C%E7%B4%A2"><span class="toc-text">最短一致検索</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git-grep"><span class="toc-text">git grep</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A0%E3%81%91%E6%A4%9C%E7%B4%A2"><span class="toc-text">特定のファイルだけ検索</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB-x2F-%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E9%99%A4%E5%A4%96"><span class="toc-text">特定のファイル&#x2F;フォルダを除外</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%96%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81-x2F-%E5%85%A8%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E6%A4%9C%E7%B4%A2"><span class="toc-text">他ブランチ&#x2F;全ブランチ検索</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB"><span class="toc-text">さいごに</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><span class="toc-text">参考リンク</span></a></li></ol>
</section>

<section class="category">
<h2 class="margin-top-30">カテゴリー</h2>
<div class="widget">
  <ul class="nav sidebar-categories margin-bottom-40">
  
  <li class=""><a href="/categories/Programming/">Programming (342)</a></li>
<li class=""><a href="/categories/Infrastructure/">Infrastructure (198)</a></li>
<li class=""><a href="/categories/Culture/">Culture (84)</a></li>
<li class=""><a href="/categories/DataScience/">DataScience (44)</a></li>
<li class=""><a href="/categories/IoT/">IoT (31)</a></li>
<li class=""><a href="/categories/DB/">DB (20)</a></li>
<li class=""><a href="/categories/Business/">Business (19)</a></li>
<li class=""><a href="/categories/%E8%AA%8D%E8%A8%BC%E8%AA%8D%E5%8F%AF/">認証認可 (18)</a></li>
<li class=""><a href="/categories/Management/">Management (13)</a></li>
<li class=""><a href="/categories/VR/">VR (12)</a></li>
<li class=""><a href="/categories/DevOps/">DevOps (12)</a></li>
<li class=""><a href="/categories/Design/">Design (11)</a></li>
<li class=""><a href="/categories/Security/">Security (6)</a></li>

  </ul>
</div>

</section>
<section class="podcast-link">
<h2 class="margin-top-30">Tech Cast</h2>

  <div class="class="widget-wrap">
  <div class="widget">
    <ul class="nav techcast">
      <li><a href="https://anchor.fm/futuretechcast/episodes/35-MLOps-e1qe4st" title="フューチャーがお届けするポッドキャストです。#35 MLOpsエンジニアって何やるの？（後編）" target="_blank" rel="noopener"><span class="newitem">NEW</span> #35 MLOpsエンジニアって何やるの？（後編）</a></li>
<li><a href="https://anchor.fm/futuretechcast/episodes/34-MLOps-e1polbj" title="フューチャーがお届けするポッドキャストです。#34 MLOpsエンジニアって何やるの？（前編）" target="_blank" rel="noopener"> #34 MLOpsエンジニアって何やるの？（前編）</a></li>
<li><a href="https://anchor.fm/futuretechcast/episodes/33-IT-e1pcaon" title="フューチャーがお届けするポッドキャストです。#33 ヘルスケアグループリーダーの中元さんと語る「医療業界におけるITコンサルとビジネスイノベーション」（後編）" target="_blank" rel="noopener"> #33 ヘルスケアグループリーダーの中元さんと語る「医療業界におけるITコンサルとビジネスイノベーション」（後編）</a></li>
    </ul>
  </div>
  </div>
  
</section>
<section class="advent-calendar">
<h2 class="margin-top-30">アドベントカレンダー</h2>
<div class="widget">
  <ul class="nav-flex">
    <li><a href="http://qiita.com/advent-calendar/2022/future" title="フューチャー Advent Calendar 2022 #Qiita" target="_blank" rel="noopener">2022年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2021/future" title="フューチャー Advent Calendar 2021 #Qiita" target="_blank" rel="noopener">2021年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2020/future" title="フューチャー Advent Calendar 2020 #Qiita" target="_blank" rel="noopener">2020年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2019/future" title="フューチャー Advent Calendar 2019 #Qiita" target="_blank" rel="noopener">2019年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2018/future" title="フューチャー Advent Calendar 2018 #Qiita" target="_blank" rel="noopener">2018年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2017/future" title="フューチャー Advent Calendar 2017 #Qiita" target="_blank" rel="noopener">2017年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2016/future" title="フューチャー Advent Calendar 2016 #Qiita" target="_blank" rel="noopener">2016年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2015/future" title="フューチャー Advent Calendar 2015 #Qiita" target="_blank" rel="noopener">2015年</a></li>
  </ul>
</div>

</section>
<!-- END SIDEBAR -->

  </aside>
</div>

  </section>
</div>

      <!-- BEGIN PRE-FOOTER -->
    <footer>
      <div class="pre-footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>About Us</h2>
              <p>経営とITをデザインする、フューチャーの技術ブログです。業務で利用している幅広い技術について紹介します。<br /><br /><a target="_blank" rel="noopener" href="http://www.future.co.jp/">http://www.future.co.jp/</a></p>
              <div class="social-btn twitter-btn twitter-follow-btn">
                <a href="https://twitter.com/intent/follow?screen_name=future_techblog " target="_blank" rel="nofollow noopener">
                  <i></i><span class="tw-btn-label">フューチャー技術ブログをフォロー</span>
                </a>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-4 pre-footer-col">
              <h2>Contact</h2>
              <address class="margin-bottom-40">
                <a href="https://www.future.co.jp/recruit/recruit/rec-fresh/" title="新卒採用" target="_blank" rel="noopener">新卒採用</a><br>
                <a href="https://www.future.co.jp/recruit/recruit/rec-career/" title="キャリア採用" target="_blank" rel="noopener">キャリア採用</a><br>
                <a href="https://www.future.co.jp/contact_us/" title="お問い合わせページ" target="_blank" rel="noopener">お問い合わせ</a><br>
                <a href="https://www.future.co.jp/architect/socialmediapolicy/" title="ソーシャルメディアポリシー" target="_blank" rel="noopener">メディアポリシー</a><br><br>
                <a href="mailto:techblog@future.co.jp">techblog@future.co.jp</a>
              </address>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>Contents</h2>
              <a href="https://future-architect.github.io/coding-standards/" title="Future Enterprise Coding Standards" target="_blank" rel="noopener">コーディング規約</a><br>
              <a href="https://future-architect.github.io/typescript-guide/" title="仕事ですぐに使えるTypeScript" target="_blank" rel="noopener">仕事ですぐに使えるTypeScript</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>Event</h2>
              <a href="https://future.connpass.com/" title="経営とITをデザインするフューチャーの勉強会です" target="_blank" rel="noopener">connpass</a><br>
              <a href="https://www.future.co.jp/futureinsightseminar/" title="フューチャーインサイトセミナー" target="_blank" rel="noopener">Webセミナー</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>SNS</h2>
              <a href="https://github.com/future-architect" title="Future's official open source repositories" target="_blank" rel="noopener">GitHub</a><br>
              <a href="https://qiita.com/organizations/future" title="フューチャーのQiita Organizationです" target="_blank" rel="noopener">Qiita</a><br>
              <a href="https://note.future.co.jp/" title="フューチャーの公式note" target="_blank" rel="noopener">未来報</a><br>
              <a href="https://www.youtube.com/channel/UCJUSwYYd0CkGgmEKAW7QVpw" title="フューチャーYoutubeチャネル" target="_blank" rel="noopener">Youtube</a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-sm-6 padding-top-10">
              &copy; 2022 フューチャー技術ブログ<br>
            </div>
          </div>
        </div>
      </div>
    </footer>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X1C28R8H0M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-X1C28R8H0M');
  gtag('config', 'UA-74047147-1'); // 過渡期対応
</script>

  </div>
</body>
</html>
