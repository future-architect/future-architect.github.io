<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <!--
    ███████╗██╗░░░██╗████████╗██╗░░░██╗██████╗░███████╗
    ██╔════╝██║░░░██║╚══██╔══╝██║░░░██║██╔══██╗██╔════╝
    █████╗░░██║░░░██║░░░██║░░░██║░░░██║██████╔╝█████╗░░
    ██╔══╝░░██║░░░██║░░░██║░░░██║░░░██║██╔══██╗██╔══╝░░
    ██║░░░░░╚██████╔╝░░░██║░░░╚██████╔╝██║░░██║███████╗
    ╚═╝░░░░░░╚═════╝░░░░╚═╝░░░░╚═════╝░╚═╝░░╚═╝╚══════╝
    ████████╗███████╗░█████╗░██╗░░██╗
    ╚══██╔══╝██╔════╝██╔══██╗██║░░██║
    ░░░██║░░░█████╗░░██║░░╚═╝███████║
    ░░░██║░░░██╔══╝░░██║░░██╗██╔══██║
    ░░░██║░░░███████╗╚█████╔╝██║░░██║
    ░░░╚═╝░░░╚══════╝░╚════╝░╚═╝░░╚═╝
    ██████╗░██╗░░░░░░█████╗░░██████╗░
    ██╔══██╗██║░░░░░██╔══██╗██╔════╝░
    ██████╦╝██║░░░░░██║░░██║██║░░██╗░
    ██╔══██╗██║░░░░░██║░░██║██║░░╚██╗
    ██████╦╝███████╗╚█████╔╝╚██████╔╝
    ╚═════╝░╚══════╝░╚════╝░░╚═════╝░
    Welcome engineer.
    https://www.future.co.jp/recruit/
  -->
  
  <title>買い物で人をつなぐ | フューチャー技術ブログ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  <meta name="description" content="Stable Diffusion先生に出力してもらったコンセプトアート はじめにこのブログは、Google社によるパートナー企業向けのアプリケーション モダナイゼーションに関するテクニカルブログ投稿の集中キャンペーン兼大人の夏休みの宿題の成果になります。 Google社から、初夏某所、下記のようなお題でテックブログを書いてみませんか？というお誘いが来ました。 1234567サーバーレス製品を活">
<meta property="og:type" content="article">
<meta property="og:title" content="買い物で人をつなぐ | フューチャー技術ブログ">
<meta property="og:url" content="https://future-architect.github.io/articles/20220831b/index.html">
<meta property="og:site_name" content="フューチャー技術ブログ">
<meta property="og:description" content="Stable Diffusion先生に出力してもらったコンセプトアート はじめにこのブログは、Google社によるパートナー企業向けのアプリケーション モダナイゼーションに関するテクニカルブログ投稿の集中キャンペーン兼大人の夏休みの宿題の成果になります。 Google社から、初夏某所、下記のようなお題でテックブログを書いてみませんか？というお誘いが来ました。 1234567サーバーレス製品を活">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://future-architect.github.io/images/20220831b/Stable_Diffusion先生に出力してもらったコンセプトアート.png">
<meta property="og:image" content="https://future-architect.github.io/images/20220831b/ビジネスモデル.png">
<meta property="og:image" content="https://future-architect.github.io/images/20220831b/全体概要図.png">
<meta property="og:image" content="https://future-architect.github.io/images/20220831b/位置情報のリアルタイム更新.png">
<meta property="og:image" content="https://future-architect.github.io/images/20220831b/マッチングサービス.png">
<meta property="article:published_time" content="2022-08-30T15:00:01.000Z">
<meta property="article:modified_time" content="2023-06-07T02:25:54.478Z">
<meta property="article:tag" content="買い物">
<meta property="article:tag" content="GoogleCloud">
<meta property="article:tag" content="社会問題">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://future-architect.github.io/images/20220831b/Stable_Diffusion先生に出力してもらったコンセプトアート.png">
  
  <link rel="alternate" href="/atom.xml" title="フューチャー技術ブログ" type="application/atom+xml">
  
  <link rel="icon" href="/logo.svg" sizes="any" type="image/svg+xml">
  <link rel="mask-icon" href="/logo.svg" sizes="any" color="#0bd">
  <link rel="icon alternate" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes='180x180' href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes='57x57' href="/apple-touch-icon-57x57.png">
  <link rel="canonical" href="https://future-architect.github.io/articles/20220831b/">
  <meta content="買い物,GoogleCloud,社会問題" name="keywords">
  <meta content="原木翔" name="author">
  <link rel="preload" as="image" href="/banner.jpg" />
  <link rel='manifest' href='/manifest.webmanifest'/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" href="/metronic/assets/style.css">
  <link rel="stylesheet" href="/css/theme-styles.css">
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="corporate">
  <div class="wrap" itemscope itemtype="https://schema.org/TechArticle">
  <!-- BEGIN HEADER -->
<header class="header">
	<div class="header-overlay">
		<div class="header-menu"></div>
		<div class="header-title"><a href="/">Future Tech Blog</a></div>
		<div class="header-title-sub">フューチャー技術ブログ</div>
	</div>
</header>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/articles/">Blog</a></li>
    <li class="active">Post</li>
  </ul>
  <section id="main" class="margin-top-30">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Business/">Businessカテゴリ</a>
  </div>


    <h2 itemprop="name" class="article-title">買い物で人をつなぐ
  
  <a target="_blank" rel="noopener" href="https://github.com/future-architect/tech-blog/edit/master/source/_posts/20220831b_買い物で人をつなぐ.md" title="Suggest Edits" class="github-edit"><i class="github-edit-icon"></i></a>
  
</h2>

    <div class="row">
  <main class="col-md-9 blog-posts">
    <article id="post-20220831b_買い物で人をつなぐ" class="article article-type-post blog-item" itemscope itemprop="blogPost">
      <div class="article-inner">
        
        <header class="article-header">
          <ul class="blog-info">
            <li class="blog-info-item"><a href="/articles/2022/" class="publish-date"><time datetime="2022-08-30T15:00:01.000Z" itemprop="datePublished">2022.08.31</time></a>
</li>
            <li class="blog-info-item"><li><a href="/authors/%E5%8E%9F%E6%9C%A8%E7%BF%94" title="原木翔さんの記事一覧へ" class="post-author">原木翔</a></li></li>
            <li class="blog-info-item">
  
    
    <a href="/tags/買い物/" title="買い物タグの記事へ" class="tag-list-link">買い物</a>
  
    
    <a href="/tags/GoogleCloud/" title="GoogleCloudタグの記事へ" class="tag-list-link">GoogleCloud</a>
  
    
    <a href="/tags/社会問題/" title="社会問題タグの記事へ" class="tag-list-link">社会問題</a>
  

</li>
          </ul>
          </header>
        
        <div class="article-entry" itemprop="articleBody">
          
            <img src="/images/20220831b/Stable_Diffusion先生に出力してもらったコンセプトアート.png" alt="" width="940" height="627" loading="lazy">

<p>Stable Diffusion先生に出力してもらったコンセプトアート</p>
<h2 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h2><p>このブログは、Google社によるパートナー企業向けのアプリケーション モダナイゼーションに関するテクニカルブログ投稿の集中キャンペーン兼大人の夏休みの宿題の成果になります。</p>
<p>Google社から、初夏某所、下記のようなお題でテックブログを書いてみませんか？というお誘いが来ました。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">サーバーレス製品を活用し、下記のテーマから選択いただいた社会課題を解決するためのアプリケーションアーキテクチャを投稿してください。</span><br><span class="line"></span><br><span class="line">●対象テーマ: サーバーレス技術を活用した社会課題の解決策</span><br><span class="line">○空き家問題</span><br><span class="line">○買い物難民問題</span><br><span class="line">○東京一極集中</span><br><span class="line">○フードロス問題</span><br></pre></td></tr></table></figure>

<p>そこでFutureの村田、鈴木、原木の有志三人で定期的に検討会を開き、「買い物難民問題」を解決するためにどのようなサービス、アーキテクチャが好ましいか検討しました。</p>
<h2 id="お題「買い物難民問題」とそのモチベーション"><a href="#お題「買い物難民問題」とそのモチベーション" class="headerlink" title="お題「買い物難民問題」とそのモチベーション"></a>お題「買い物難民問題」とそのモチベーション</h2><p>私たちのチームでは「買い物難民問題」を選択しました。理由としては、私が今住んでいる関東郊外のとある地域には周囲五キロにスーパーがないという、まさに「買い物難民」当事者だったこと、だからこそ、生協やネットスーパーのようなサービスが今どきあるから既に「問題」じゃないのでは？といった疑問に答えられると思ったからです。</p>
<p>「買い物難民問題」という言葉を聞いたことがないという人は少ないと思います。しかし、この問題について調べる前の私たちがそうであったように、単純に「買い物」ができるようになれば解決する話ではないことを知る人はそう多くないのではないでしょうか。</p>
<p>「買い物難民問題」に関して、当事者からヒアリングを行った経済産業委員会調査室の笹井かおり氏による『「買い物難民」問題 ～その現状と解決に向けた取組～』を読むと、単純に解決できない難しさの一端が見えてきます。</p>
<p>本資料では、関東近辺の高度経済成長期時代に山間部に造成されたニュータウン住民を取り上げています。</p>
<ul>
<li>高齢者数が全体の1&#x2F;4を占める</li>
<li>過去に地域内にあったスーパーが不採算のまま撤退</li>
<li>70代の住人は家族のために細い未舗装路を自転車で20~30分かけてスーパーで移動している</li>
<li>元々山を切り開いたところなので道路環境が悪い(GoogleMapで見る限り、坂も多そう)</li>
<li>現役時代には、都心に通勤し、早朝に家を出て深夜に帰宅する生活を送っていたという高齢者が多い。 <strong>したがって、住民は地域との接点が薄く、住民同士の横の付き合いも希薄なため、住民の連携が不足している。</strong></li>
<li>今後、高齢の夫婦だけの世帯 や一人暮らしの住民が更に増加することが想定されるため、団地の外まで買い物に行けなくなる人が増加するおそれがある<br>※ブログ著者強調</li>
</ul>
<p>こうしてみると、買い物難民は買いたいものが買えればOKでは決してありません。当時の時代背景ではあまり重視されてこなかった、地域コミュニティといったコミュニケーションの乏しさから来る「関係性の希薄さ」が「買い物難民であること」と表裏一体で問題であることが見えてくるのではないでしょうか。また、それが社会問題として全体化しているとはいえ、地域性の強い問題であり、人によって感度の違いはあると思います。</p>
<p>これらを踏まえた上で、私たちのチームでは全員にとって買い物難民問題を捉えやすくするために、地域の格差を取り払い(かつ将来現実化するかもしれない！？）世界を想定して、「買い物を通じて人との繋がりを生み出す」ための仕組みを考えてみました。</p>
<h2 id="舞台設定"><a href="#舞台設定" class="headerlink" title="舞台設定"></a>舞台設定</h2><p>これから話す世界では、現実にはない、どこか少し不思議な世界です。そこでは自動運転が発達しており、キャンピングカーのような移動躯体に乗って生活することが当たり前の世界です。「お隣さん」という概念がもはや古くなって久しく、一か所に集まらないことが普通になった世界で、顔を突き合わせたコミュニケーションは過去のものになっていました。</p>
<p>しかし、こちらの世界で「昭和レトロ」が流行っているように、あちらの世界でも昔のものが形を変えて何度もリバイバルすることはよくあります。最近耳にしたのが、昔ながらのコミュニケーション方法、つまり知らない人と直接会って会話を交わすことが一部で圧倒的な人気を得ているという情報でした…</p>
<h2 id="サービス概要"><a href="#サービス概要" class="headerlink" title="サービス概要"></a>サービス概要</h2><p>私たちのチームでは、「買い物」x「人との繋がり」x「(あちらの世界の)レトロ」という軸で、買い物をきっかけに人との繋がりを生み出す新しいサービスを提案します。</p>
<img src="/images/20220831b/ビジネスモデル.png" alt="ビジネスモデル" width="940" height="529" loading="lazy">

<h2 id="主なシステム要件"><a href="#主なシステム要件" class="headerlink" title="主なシステム要件"></a>主なシステム要件</h2><ul>
<li>各ユーザーは手元のアプリから「欲しいもの」「受け取りたいエリア」「受け取りたい時間帯」「一緒に受け取りたい他のユーザーの属性情報」を登録できる</li>
<li>アプリは複数のユーザー「受け取りたいエリア」をベースに、配達先を設定する</li>
<li>自動宅配車が欲しい物を指定の時間・場所へ届け、各ユーザーはそこにて交流の機会を得る</li>
<li>各ユーザーに別途入力されたプロフィール情報を元に、交流のテーマを設定する<br>※たとえば自家製パンの製造を趣味にしている人で集まることで食材などをある程度共通化する</li>
<li>一定人数が揃わないと空けることができないコンポーネントなどを設けることで「まとめ買い」による販売を促進する</li>
</ul>
<h2 id="システム全体の概要図"><a href="#システム全体の概要図" class="headerlink" title="システム全体の概要図"></a>システム全体の概要図</h2><img src="/images/20220831b/全体概要図.png" alt="全体概要図" width="940" height="529" loading="lazy">

<h3 id="ポイント1-位置情報のリアルタイム更新"><a href="#ポイント1-位置情報のリアルタイム更新" class="headerlink" title="ポイント1: 位置情報のリアルタイム更新"></a>ポイント1: 位置情報のリアルタイム更新</h3><img src="/images/20220831b/位置情報のリアルタイム更新.png" alt="位置情報のリアルタイム更新" width="940" height="433" loading="lazy">

<p>本サービスでは物理的に直接会えることが重要なので、地理情報を予め分割した状態で永続層に持たせることで、「ユーザーの現在の場所」「商品受け取り場所(合流地点)」を更新、索引できるようにする必要があります。</p>
<p>位置情報の検索処理を検討する上で、課題の一つがどのように位置情報をデータベースに格納すれば効率的か？ということです。”移動躯体”がラピュタのように空を飛んでいるのではなく、地上を走行することを考えた場合、地上データは密にデータを管理する必要がありますが、海上や湖上という場所はそんなに必要ないかもしれません。</p>
<p>こちらの世界で、マッチングサービスとして稼働しているTinderでは、Googleが提供しているジオメトリライブラリである<a target="_blank" rel="noopener" href="https://s2geometry.io/">S2 Geometry Library</a>を活用することでジオシャーディング(地理情報のインデックス化)を行い、Elasticsearch クラスターに入れているようです。そのロジック自体非常に興味深い内容ではあるのですが、本ブログでは割愛させていただきます。なにかしらの方法でジオシャーディングを行ったデータをデータベースに格納し、ビジネスサービス用アプリケーションと繋がっているとします。</p>
<p>ここでは、「ユーザ（ここでは移動躯体）」の位置情報は定期的にクラウドと同期され、Google Cloud上にデジタルツイン(現実世界の情報がクラウド上に再現されること)が構築される状態を実現します。定期的な位置情報の更新に合わせ、各ユーザの所属するジオシャードは常に更新される仕組みを考えました。</p>
<p>デジタルツインを実現するためには、定期的な位置情報更新が必要ですが、それを裏で支えるために、パフォーマンスはなくてはならないポイントです。位置情報は利用者に合わせて同期的に送られるため、ビジネスのスケールに応じて多くのトラフィックを処理しなくてはいけないかもしれません。そのためにキューイングをクライアントとデータベースの間に噛ませることで、混雑を緩和させます。</p>
<p>こちらの世界で身近なところでいえば、タクシー用のシステムは上記要件と近しいと思われます。たとえば、タクシーアプリ『Go』を開発しているチームではアーキテクチャを公開しており、中でも位置情報を捌く「動態収集・配信システム」は興味深い実装をしています。メインシステムはGoogle Cloud上で動かしていますが、ManagedServiceであるGoogle Cloud Pub&#x2F;Subを使わずに、Pub&#x2F;SubをGKE上のアプリケーション、キュー情報をMemorystore for Redisで管理するようにしています。おそらく、Pub&#x2F;Subにおいてデータ加工等の業務要件があり、採用できなかったのだと思われます。現在でしたらCloud Pub&#x2F;Subとネイティブ結合されたDataflowを用いるなど別の選択肢がありえたかもしれません。</p>
<p>以上を踏まえて、本サービスでは位置情報の更新処理にあたり、Cloud Pub&#x2F;SubサービスとElastic Cloud(ElasticSearchのManagedService、 非GoogleCloud)を採用させていただきました。</p>
<h3 id="ポイント2-マッチングサービス"><a href="#ポイント2-マッチングサービス" class="headerlink" title="ポイント2: マッチングサービス"></a>ポイント2: マッチングサービス</h3><img src="/images/20220831b/マッチングサービス.png" alt="マッチングサービス" width="940" height="498" loading="lazy">

<p>今回のシステムの要は、「買い物」を契機としたマッチングサービスです。上記で検討した位置情報検索サービスを元に付近のユーザーを探し、一緒に買い物をする場所を提供します。</p>
<p>単に近い場所にいるユーザーであればいいというわけではありません。マッチングするための要素として最も重要視しているのが、「買い物」対象について同じ指向を持つユーザー同士を引き合わすための仕組みです。※あえて嗜好ではなく指向と書いています</p>
<p>異なる食文化が摩擦を生み出す経験は、私もかつて卵焼きに砂糖を入れたことで、すれ違いという苦い思いをしたのでよくわかるのですが、それゆえにすり合わせは重要です。「買い物」を契機としてユーザー同士がつながりをもってもらうために、買い物対象はある程度傾向が同じであることが望ましいです。ビジネスサイドから見ても、多くの重複があることで食材の品種をある程度絞れるので、効率的な調達や配送ができることからメリットは大きいでしょう。</p>
<p>それでは、マッチングサービスの実装はどうなるのでしょうか？Googleのテックブログでは、今回によく似た事例として「Vertex AI を利用して強化学習レコメンデーション アプリケーションをビルドする」として強化学習を行うための仕組みが紹介されています。この仕組みでは、ユーザーが試行を重ねることで精度を上げられるため、聞き放題のような試行回数を気軽に重ねられるシステムでは非常に有効ですが、本サービスでは残念ながらそのままブログの内容を流用できません。しかし、本質的なところは同じです。ユーザーの指向を特徴量として抽出したりベクトル化した上で、似たユーザーを引き合わすことが目標になります。</p>
<p>プラットフォーム上ではどんなレコメンデーションアルゴリズムを動かせば良いでしょうか。今回のブログでは、その詳細まで踏み込みませんが、参考文献をいくつか取り上げます。</p>
<p>たとえば、Alibabaクラウドのテックブログ「Basic Concepts and Architecture of a Recommender System」ではマルチチャンネルマッチング(複数のレコメンデーションアルゴリズムを元に三者協議する仕組み)とランキング(マッチングの条件にあてはまるものを優先度に応じて並び替えること)がEコマースにおいて重要だと伸べています。</p>
<p>今大きな隆盛を見せているディープラーニングも候補に入るでしょう。<a target="_blank" rel="noopener" href="https://techblog.zozo.com/entry/deep-learning-recommendation-improvement">ZOZOさんのテックブログ</a>ではディープラーニングを活用したレコメンデーション用アルゴリズムをいくつか紹介していますが、こちらも参考になりそうです。</p>
<p>マッチングの中には禁忌の組み合わせが考えられます。マッチングサービスにおいて論争になりそうな組み合わせ(先ほどの卵焼きにおける塩&#x2F;砂糖問題)はルールベースで記載しておいて、ファインチューニングで定期的にモデルから取り除く努力が必要そうです。</p>
<p>上記を踏まえて、本サービスでは下記のような処理を検討しました。</p>
<ol>
<li>注文を受注する「注文サービス」から、ユーザーの購買履歴やサービスの閲覧ログなどを「パーソナルデータ」として保存します</li>
<li>パーソナルデータから、ユーザーを特定する機微情報などを取り除いた「レコメンド向け購買データ」をBigQueryに保存します<br> a.	このデータはマッチングサービス以外にも、購買予測や調達システムなどでも使用します</li>
<li>「レコメンド向け購買データ」をVertex AIの機械学習処理にかけて、どういった購買履歴を持つユーザー同士なら親和性が高くなりそうか、推論エンジンを作成します</li>
<li>注文後、マッチングを待つ「マッチングウェイティングサービス」から、下記条件で絞り込みを行い、マッチングを成立させます<br> a. 「ジオシャード」から取得した位置情報<br> b. 推論エンジンによるユーザー親和性判定</li>
</ol>
<h2 id="その他のポイント"><a href="#その他のポイント" class="headerlink" title="その他のポイント"></a>その他のポイント</h2><p>本ブログでは書ききれなかった、アプリケーションアーキテクチャの考察ポイントであった議論をこちらで供養します</p>
<ul>
<li>「グループマッチング」と「受取地点・時間確定」の順番</li>
</ul>
<p>今回のサービスは、「グループマッチング」した後で、「受取地点・時間確定」を決めていましたが、その逆もありえたかと思います。単純に落ち合う場所を最初に確保するだけではなく、街コンのようにテーマを決めた上で参加するような形式も今後このサービスが発展した上でありえるかもしれないと議論になりました。</p>
<p>最終的に「この世界では皆が自由なんだ。場所に縛られたくない」という、異世界転生者の一言で「グループマッチング」→「受取地点・時間確定」の順番になりました。</p>
<ul>
<li>自動運転車の走行を支えるためのシステム。あるいは自動運転を裏で支える機械学習プラットフォームのデザイン</li>
</ul>
<p>機械学習のモデル構築は重要な作業ですが、そもそもそのためのトレーニング環境をいかに自動化するかというのも大きなポイントです。たとえば、「<a target="_blank" rel="noopener" href="https://cloud.google.com/blog/ja/products/containers-kubernetes/how-cruise-tests-its-avs-on-a-google-cloud-platform">自律走行車のための継続的インテグレーションと継続的デリバリーを Google Cloud で構築する</a>」を見ると、現実かゲームか？と見間違うような仮想環境、そして道路上で起こりうるイベントを人手を介さずに自動で構築し、自律走行のためにトレーニング環境として活用しているかわかります。E2Eテストの延長線上に広がっている世界に戦慄しました。</p>
<ul>
<li>「支払い」を支えるためのシステムデザイン</li>
</ul>
<p>PSP(決済代行業者、クレジットカード会社とユーザーの間に入って決済処理を代わりに行ってくれる企業)を用いて決済を行った場合、ユーザーが買い物をした後決済が完了するまでには一定の待ち時間が発生します。それをどういったロジックで吸収するのか、アーキテクチャ図を元に議論しました。</p>
<ul>
<li>地図における最適な経路を決めるナビゲーションシステムのデザイン</li>
<li>買い物対象を、JITで調達するためのサプライチェーンマネジメントシステムのデザイン</li>
<li>無人配送車から商品を安全に受け取るための本人確認&#x2F;認証に関するシステムデザイン</li>
</ul>
<p>今回は議論できませんでしたが、興味深いテーマです。</p>
<h2 id="最後に"><a href="#最後に" class="headerlink" title="最後に"></a>最後に</h2><p>以上、「買い物を通じて人と人を繋ぐ」サービスとそのアプリケーションアーキテクチャの紹介でした。</p>
<p>今回の取り組みで最初に論点になったのが、こちらの世界で既にある既存サービスとの競合をいかに避けるかという点でした。最終的に異世界転生でいいんじゃないか？という発想で解決しましたが、その結果、自由にシステムデザインを行うことができて良かったのではないかと思います。</p>
<p>最後に、こちらの世界で行われている取り組み、事業を紹介します。</p>
<p>「買い物難民問題」でよく問題が表面化するのが、「採算が取れずに近所のスーパーが撤退してしまった」ことです。その隙間を埋める一つに、一事業所のカバー領域が広く、人口密度が低い田舎であっても採算を確保できるネットスーパーがあります。しかし、すべての人の助けになるかといえば難しく、一部のデジタル化から取り残された高齢者、地方密着型スーパーのような新たな追加投資が難しい事業者の淘汰という新たな問題が生じました。</p>
<p>そこで最近名前を聞くようになったのが、「<a target="_blank" rel="noopener" href="https://www.tokushimaru.jp/">とくし丸</a>」です。「<a target="_blank" rel="noopener" href="https://www.itmedia.co.jp/business/articles/2206/11/news022.html">移動スーパー「とくし丸」はなぜ“独走”しているのか　1000台突破の舞台裏</a>」にあるように、地方のスーパーと協業したフランチャイズモデルを確立することで、採算性という大きなネックを解決しつつ、ネットスーパーではフォローできなかった人たちへの支えとなりました。</p>
<p>もちろん、官公庁でも「買い物難民問題」を座して解決を待っているわけではありません。農林水産省では「<a target="_blank" rel="noopener" href="https://www.maff.go.jp/j/shokusan/eat/syoku_akusesu.html">食料品アクセス（買い物弱者・買い物難民等）問題ポータルサイト</a>」を立ち上げて、解決に向けた施策を実施、事業支援を行っています。<a target="_blank" rel="noopener" href="https://www.maff.go.jp/j/shokusan/eat/access_jirei.html">地域に応じた各地での買い物支援の取組</a>では、様々な事例が紹介されており、今回のサービスでも、ビジネスの種として参考にさせていただきました。</p>
<p>中でも印象深かったのが兵庫県神河町・寺前楽座 「 まちの灯り 」 の事例です。地区唯一のスーパーが運営難により閉店後、地元企業や住民出資により運営会社「株式会社 寺前村振興公社」を自ら設立し、再建されたスーパーになります。</p>
<blockquote>
<p>消えたまちの灯りを取り戻すべく屋号は「まちの灯り」に決定。また寺前11集落全世帯から1万円を支援金として募り、地区住民自ら意識を持ってスーパーの経営、運営にあたるべく代表を一人、監査役として同公社に配置されたそう。<br>引用元: <a target="_blank" rel="noopener" href="https://iimono.town/topic/life/18862/">https://iimono.town/topic/life/18862/</a></p>
</blockquote>
<p>さらには前のスーパーが閉店したときに勤めていた店長・従業員全員を新しい店舗でも再雇用したとのことで、地域でスーパーを守っていくという強い意志が感じられる取り組みでした。</p>
<p>再建後、四年経ちましたが、Googleの口コミでも、小さめなスーパーだが地域に密着した良いスーパーだと評判は良いようです。そこ目当てで旅行するには敷居が少々高そうですが、最寄りの寺前駅から播但線で更に北上すれば、天空の城で有名な竹田城跡があります。寄り道にはちょうどいいのではないでしょうか。</p>
<h2 id="参考資料"><a href="#参考資料" class="headerlink" title="参考資料"></a>参考資料</h2><ul>
<li>Basic Concepts and Architecture of a Recommender System<ul>
<li><a target="_blank" rel="noopener" href="https://www.alibabacloud.com/blog/basic-concepts-and-architecture-of-a-recommender-system_596642">https://www.alibabacloud.com/blog/basic-concepts-and-architecture-of-a-recommender-system_596642</a></li>
</ul>
</li>
<li>ディープラーニングを活用したレコメンドエンジン改善への取り組み<ul>
<li><a target="_blank" rel="noopener" href="https://techblog.zozo.com/entry/deep-learning-recommendation-improvement">https://techblog.zozo.com/entry/deep-learning-recommendation-improvement</a></li>
</ul>
</li>
<li>Vertex AI を利用して強化学習レコメンデーション アプリケーションをビルドする<ul>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/blog/ja/topics/developers-practitioners/build-reinforcement-learning-recommendation-application-using-vertex-ai">https://cloud.google.com/blog/ja/topics/developers-practitioners/build-reinforcement-learning-recommendation-application-using-vertex-ai</a></li>
</ul>
</li>
<li>Geosharded Recommendations Part 1: Sharding Approach<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/tinder/geosharded-recommendations-part-1-sharding-approach-d5d54e0ec77a">https://medium.com/tinder/geosharded-recommendations-part-1-sharding-approach-d5d54e0ec77a</a></li>
</ul>
</li>
<li>技術書典頒布のタクシーアプリ『GO』アーキテクチャ図録を一挙解説<ul>
<li><a target="_blank" rel="noopener" href="https://lab.mo-t.com/blog/mot-online-techtalk-7">https://lab.mo-t.com/blog/mot-online-techtalk-7</a></li>
</ul>
</li>
</ul>

          
        </div>
        <footer>
          <section class="social-area">
          <!-- シェアボタン START -->
  <ul class="social-button">
    
    <!-- Twitter -->
    <li>
      <a class="social-btn twitter-btn" target="_blank" href="https://twitter.com/share?url=https://future-architect.github.io/articles/20220831b/&related=twitterapi%2Ctwitter&text=%E8%B2%B7%E3%81%84%E7%89%A9%E3%81%A7%E4%BA%BA%E3%82%92%E3%81%A4%E3%81%AA%E3%81%90%20%7C%20%E3%83%95%E3%83%A5%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E6%8A%80%E8%A1%93%E3%83%96%E3%83%AD%E3%82%B0" rel="nofollow noopener">
        <i></i><span class="social-btn-label">22</span>
      </a>
    </li>
    <!-- Facebook -->
    <li>
      <a class="social-btn fb-btn" target="_blank" href="http://www.facebook.com/share.php?u=https://future-architect.github.io/articles/20220831b/&t=%E8%B2%B7%E3%81%84%E7%89%A9%E3%81%A7%E4%BA%BA%E3%82%92%E3%81%A4%E3%81%AA%E3%81%90" rel="nofollow noopener">
        <i></i><span class="social-btn-label">シェア</span>
      </a>
    </li>
    <!-- hatebu -->
    <li>
      <a class="social-btn hatebu-btn" target="_blank" href="https://b.hatena.ne.jp/entry/s/future-architect.github.io/articles/20220831b/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">2</span>
      </a>
    </li>
    <!-- pocket -->
    <li>
      <a class="social-btn pocket-btn" target="_blank" href="https://getpocket.com/save?url=https://future-architect.github.io/articles/20220831b/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">2</span>
      </a>
    </li>
    
  </ul>
<!-- シェアボタン END -->

          </section>
          <aside>
            <section class="related-post margin-bottom-40 nav">
              <h2 id="related"><a href="#related" class="headerlink" title="関連記事"></a>関連記事</h2>
              
  <div class="widget">
    <ul class="nav related-post-link"><li class="related-posts-item"><span>2023.06.26</span><span class="snscount">&#9825;43</span><a href=/articles/20230626a/ title="CNCF の Knative を基盤として利用している Cloud Run と CNCF の各種ビルドツール ko, skaffold、Cloud Deploy を用いたうえで、アプリケーションのビルドからデプロイまでを行います。">Cloud Run に ko と skaffold を使ってデプロイまでやってみる</a></li><li class="related-posts-item"><span>2023.06.22</span><span class="snscount">&#9825;7</span><a href=/articles/20230622a/ title="CNCFのホスト対象にCloudサービスに関係するプロジェクトは多いですが、全てではありません。オンプレミス環境に関するプロダクトも数多く存在します。今回はそんなオンプレミス環境向けのCNCF sandboxプロジェクトの1つ、Tinkerbellを紹介します。">Tinkerbellについて</a></li><li class="related-posts-item"><span>2023.05.26</span><span class="snscount">&#9825;4</span><a href=/articles/20230526a/ title="AWS Kinesis Data StreamとAWS Lambdaを組み合わせたデータストリーミングを扱うシステムで、Lambdaが処理に失敗した場合のリカバリー運用を考える機会がありました。一般的に、Kinesisのようなメッセージングやイベント駆動型のシステムでは、DLQという仕組みを設けます。">AWS Kinesisから呼び出されるLambdaのリカバリー処理について</a></li><li class="related-posts-item"><span>2023.05.18</span><span class="snscount">&#9825;8</span><a href=/articles/20230518b/ title="SLOconfという、Nobl9社が主催する、サービスレベル目標（SLO）に特化したカンファレンスがあります。今までオンラインでやってきたのですが、三回目になる今回、初めてオフラインで開催&世界各地でローカルなコミュニティイベントを同時開催する運びになりました。">SLOconf Tokyo 2023というコミュニティイベントに参加しました</a></li><li class="related-posts-item"><span>2023.02.21</span><span class="snscount">&#9825;197</span><a href=/articles/20230221a/ title="「実践Redis入門」は、2023年現在AWSのAmazon EMR開発チーム、システム開発エンジニアとして働いている林 昌吾さんという方が書かれた『Redisの基礎から、実践、運用や調査に役立つ仕様などの詳細について解説した入門書です。』入門書とありますが、単なる機能紹介にとどまらず...">「実践Redis入門」所感 ~「E.G.コンバット」の観点から語る~</a></li><li class="related-posts-item"><span>2023.02.10</span><span class="snscount">&#9825;10</span><a href=/articles/20230210a/ title="こんにちは！筋肉エンジニアの渡邉です。最近はGCP/GKEについて勉強しています。今回はGitHubへのPushをトリガーにCloudBuildを起動し、プライベートエンドポイントのみのGKEへデプロイする基盤を作りましたので、共有したいと思います。GCPリソースはTerraformで作成しています。">CloudBuildを使ってプライベートエンドポイントのみのGKEへデプロイ</a></li></ul>
  </div>
            </section>
            <section class="reference-post margin-bottom-40 nav">
              
            </section>
          </aside>
        </footer>
      </div>
    </article>
  </main>
  <aside class="col-md-3 blog-sidebar">
    <!-- START SIDEBAR  -->


<section class="toc-section">
  <h2 class="margin-top-30">目次</h2>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><span class="toc-text">はじめに</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%8A%E9%A1%8C%E3%80%8C%E8%B2%B7%E3%81%84%E7%89%A9%E9%9B%A3%E6%B0%91%E5%95%8F%E9%A1%8C%E3%80%8D%E3%81%A8%E3%81%9D%E3%81%AE%E3%83%A2%E3%83%81%E3%83%99%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"><span class="toc-text">お題「買い物難民問題」とそのモチベーション</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%88%9E%E5%8F%B0%E8%A8%AD%E5%AE%9A"><span class="toc-text">舞台設定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E6%A6%82%E8%A6%81"><span class="toc-text">サービス概要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E3%81%AA%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E8%A6%81%E4%BB%B6"><span class="toc-text">主なシステム要件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E5%85%A8%E4%BD%93%E3%81%AE%E6%A6%82%E8%A6%81%E5%9B%B3"><span class="toc-text">システム全体の概要図</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%881-%E4%BD%8D%E7%BD%AE%E6%83%85%E5%A0%B1%E3%81%AE%E3%83%AA%E3%82%A2%E3%83%AB%E3%82%BF%E3%82%A4%E3%83%A0%E6%9B%B4%E6%96%B0"><span class="toc-text">ポイント1: 位置情報のリアルタイム更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%882-%E3%83%9E%E3%83%83%E3%83%81%E3%83%B3%E3%82%B0%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9"><span class="toc-text">ポイント2: マッチングサービス</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"><span class="toc-text">その他のポイント</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><span class="toc-text">最後に</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99"><span class="toc-text">参考資料</span></a></li></ol>
</section>

<section class="category">
<h2 class="margin-top-30">カテゴリー</h2>
<div class="widget">
  <ul class="nav sidebar-categories margin-bottom-40">
  
  <li class=""><a href="/categories/Programming/">Programming (407)</a></li>
<li class=""><a href="/categories/Infrastructure/">Infrastructure (244)</a></li>
<li class=""><a href="/categories/Culture/">Culture (88)</a></li>
<li class=""><a href="/categories/DataScience/">DataScience (60)</a></li>
<li class=""><a href="/categories/IoT/">IoT (34)</a></li>
<li class=""><a href="/categories/DB/">DB (23)</a></li>
<li class=""><a href="/categories/DevOps/">DevOps (21)</a></li>
<li class=""><a href="/categories/Business/">Business (21)</a></li>
<li class=""><a href="/categories/%E8%AA%8D%E8%A8%BC%E8%AA%8D%E5%8F%AF/">認証認可 (20)</a></li>
<li class=""><a href="/categories/Management/">Management (15)</a></li>
<li class=""><a href="/categories/VR/">VR (13)</a></li>
<li class=""><a href="/categories/Security/">Security (13)</a></li>
<li class=""><a href="/categories/Design/">Design (11)</a></li>

  </ul>
</div>

</section>
<section class="podcast-link">
<h2 class="margin-top-30">Tech Cast</h2>

  <div class="class="widget-wrap">
  <div class="widget">
    <ul class="nav techcast">
      <li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/38-AIAI-e22h1v0" title="フューチャーがお届けするポッドキャストです。#38 AIグループリーダー加藤さんに聞く「AIチームのミッションと展望」" target="_blank" rel="noopener"> #38 AIグループリーダー加藤さんに聞く「AIチームのミッションと展望」</a></li>
<li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/37-e227p84" title="フューチャーがお届けするポッドキャストです。#37 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（後編）" target="_blank" rel="noopener"> #37 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（後編）</a></li>
<li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/36-e1rdbcu" title="フューチャーがお届けするポッドキャストです。#36 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（前編）" target="_blank" rel="noopener"> #36 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（前編）</a></li>
    </ul>
  </div>
  </div>
  
</section>
<section class="advent-calendar">
<h2 class="margin-top-30">アドベントカレンダー</h2>
<div class="widget">
  <ul class="nav-flex">
    <li><a href="http://qiita.com/advent-calendar/2022/future" title="フューチャー Advent Calendar 2022 #Qiita" target="_blank" rel="noopener">2022年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2021/future" title="フューチャー Advent Calendar 2021 #Qiita" target="_blank" rel="noopener">2021年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2020/future" title="フューチャー Advent Calendar 2020 #Qiita" target="_blank" rel="noopener">2020年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2019/future" title="フューチャー Advent Calendar 2019 #Qiita" target="_blank" rel="noopener">2019年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2018/future" title="フューチャー Advent Calendar 2018 #Qiita" target="_blank" rel="noopener">2018年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2017/future" title="フューチャー Advent Calendar 2017 #Qiita" target="_blank" rel="noopener">2017年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2016/future" title="フューチャー Advent Calendar 2016 #Qiita" target="_blank" rel="noopener">2016年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2015/future" title="フューチャー Advent Calendar 2015 #Qiita" target="_blank" rel="noopener">2015年</a></li>
  </ul>
</div>

</section>
<!-- END SIDEBAR -->

  </aside>
</div>

  </section>
</div>

      <!-- BEGIN PRE-FOOTER -->
    <footer>
      <div class="pre-footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>About Us</h2>
              <p>経営とITをデザインする、フューチャーの技術ブログです。業務で利用している幅広い技術について紹介します。<br /><br /><a target="_blank" rel="noopener" href="http://www.future.co.jp/">http://www.future.co.jp/</a></p>
              <div class="social-btn twitter-btn twitter-follow-btn">
                <a href="https://twitter.com/intent/follow?screen_name=future_techblog " target="_blank" rel="nofollow noopener">
                  <i></i><span class="tw-btn-label">フューチャー技術ブログをフォロー</span>
                </a>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-4 pre-footer-col">
              <h2>Contact</h2>
              <address class="margin-bottom-40">
                <a href="https://www.future.co.jp/recruit/recruit/rec-fresh/" title="新卒採用" target="_blank" rel="noopener">新卒採用</a><br>
                <a href="https://www.future.co.jp/recruit/recruit/rec-career/" title="キャリア採用" target="_blank" rel="noopener">キャリア採用</a><br>
                <a href="https://www.future.co.jp/contact_us/" title="お問い合わせページ" target="_blank" rel="noopener">お問い合わせ</a><br>
                <a href="https://www.future.co.jp/architect/socialmediapolicy/" title="ソーシャルメディアポリシー" target="_blank" rel="noopener">メディアポリシー</a><br><br>
                <a href="mailto:techblog@future.co.jp">techblog@future.co.jp</a>
              </address>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>Contents</h2>
              <a href="https://future-architect.github.io/coding-standards/" title="Future Enterprise Coding Standards" target="_blank" rel="noopener">コーディング規約</a><br>
              <a href="https://future-architect.github.io/typescript-guide/" title="仕事ですぐに使えるTypeScript" target="_blank" rel="noopener">仕事ですぐに使えるTypeScript</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>Event</h2>
              <a href="https://future.connpass.com/" title="経営とITをデザインするフューチャーの勉強会です" target="_blank" rel="noopener">connpass</a><br>
              <a href="https://www.future.co.jp/futureinsightseminar/" title="フューチャーインサイトセミナー" target="_blank" rel="noopener">Webセミナー</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>SNS</h2>
              <a href="https://github.com/future-architect" title="Future's official open source repositories" target="_blank" rel="noopener">GitHub</a><br>
              <a href="https://qiita.com/organizations/future" title="フューチャーのQiita Organizationです" target="_blank" rel="noopener">Qiita</a><br>
              <a href="https://note.future.co.jp/" title="フューチャーの公式note" target="_blank" rel="noopener">未来報</a><br>
              <a href="https://www.youtube.com/channel/UCJUSwYYd0CkGgmEKAW7QVpw" title="フューチャーYoutubeチャネル" target="_blank" rel="noopener">Youtube</a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-sm-6 padding-top-10">
              &copy; 2023 フューチャー技術ブログ<br>
            </div>
          </div>
        </div>
      </div>
    </footer>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X1C28R8H0M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-X1C28R8H0M');
  gtag('config', 'UA-74047147-1'); // 過渡期対応
</script>

  </div>
</body>
</html>
