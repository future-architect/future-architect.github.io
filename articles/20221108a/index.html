<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <!--
    ███████╗██╗░░░██╗████████╗██╗░░░██╗██████╗░███████╗
    ██╔════╝██║░░░██║╚══██╔══╝██║░░░██║██╔══██╗██╔════╝
    █████╗░░██║░░░██║░░░██║░░░██║░░░██║██████╔╝█████╗░░
    ██╔══╝░░██║░░░██║░░░██║░░░██║░░░██║██╔══██╗██╔══╝░░
    ██║░░░░░╚██████╔╝░░░██║░░░╚██████╔╝██║░░██║███████╗
    ╚═╝░░░░░░╚═════╝░░░░╚═╝░░░░╚═════╝░╚═╝░░╚═╝╚══════╝
    ████████╗███████╗░█████╗░██╗░░██╗
    ╚══██╔══╝██╔════╝██╔══██╗██║░░██║
    ░░░██║░░░█████╗░░██║░░╚═╝███████║
    ░░░██║░░░██╔══╝░░██║░░██╗██╔══██║
    ░░░██║░░░███████╗╚█████╔╝██║░░██║
    ░░░╚═╝░░░╚══════╝░╚════╝░╚═╝░░╚═╝
    ██████╗░██╗░░░░░░█████╗░░██████╗░
    ██╔══██╗██║░░░░░██╔══██╗██╔════╝░
    ██████╦╝██║░░░░░██║░░██║██║░░██╗░
    ██╔══██╗██║░░░░░██║░░██║██║░░╚██╗
    ██████╦╝███████╗╚█████╔╝╚██████╔╝
    ╚═════╝░╚══════╝░╚════╝░░╚═════╝░
    Welcome engineer.
    https://www.future.co.jp/recruit/
  -->
  
  <title>Azure Data Boxを使ってみた | フューチャー技術ブログ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  <meta name="description" content="はじめにはじめまして、テクノロジーイノベーショングループ所属、2021年4月に新卒で入社した一ノ瀬です。 秋のブログ週間の6本目となる本記事では、オンプレからクラウドへのデータ移行に関して、AzureのData Boxというサービスを利用する機会があったので、詳細なワークフローや失敗談について共有します。 昨今のDX推進の流れにのり、システムのクラウドシフト&#x2F;リフトに取り組む方も多いかと">
<meta property="og:type" content="article">
<meta property="og:title" content="Azure Data Boxを使ってみた | フューチャー技術ブログ">
<meta property="og:url" content="https://future-architect.github.io/articles/20221108a/index.html">
<meta property="og:site_name" content="フューチャー技術ブログ">
<meta property="og:description" content="はじめにはじめまして、テクノロジーイノベーショングループ所属、2021年4月に新卒で入社した一ノ瀬です。 秋のブログ週間の6本目となる本記事では、オンプレからクラウドへのデータ移行に関して、AzureのData Boxというサービスを利用する機会があったので、詳細なワークフローや失敗談について共有します。 昨今のDX推進の流れにのり、システムのクラウドシフト&#x2F;リフトに取り組む方も多いかと">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/WS000297.JPG">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/image.png">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/WS000294.JPG">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/ワークフロー_(1).JPG">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注1.jpg">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注2.jpg">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注3.jpg">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注4.jpg">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注5.jpg">
<meta property="og:image" content="https://future-architect.github.io/images/20221108a/DataBox発注6.jpg">
<meta property="article:published_time" content="2022-11-07T15:00:00.000Z">
<meta property="article:modified_time" content="2022-11-09T04:39:15.366Z">
<meta property="article:tag" content="クラウドマイグレーション">
<meta property="article:tag" content="Azure">
<meta property="article:tag" content="DataBox">
<meta property="article:tag" content="データ移行">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://future-architect.github.io/images/20221108a/WS000297.JPG">
  
  <link rel="alternate" href="/atom.xml" title="フューチャー技術ブログ" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes='180x180' href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes='57x57' href="/apple-touch-icon-57x57.png">
  <link rel="canonical" href="https://future-architect.github.io/articles/20221108a/">
  <meta content="クラウドマイグレーション,Azure,DataBox,データ移行" name="keywords">
  <meta content="一ノ瀬秀都" name="author">
  <link rel="preload" as="image" href="/banner.jpg" />
  <link rel='manifest' href='/manifest.webmanifest'/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" href="/metronic/assets/style.css">
  <link rel="stylesheet" href="/css/theme-styles.css">
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="corporate">
  <div class="wrap" itemscope itemtype="https://schema.org/TechArticle">
  <!-- BEGIN HEADER -->
<header class="header">
	<div class="header-overlay">
		<div class="header-menu"></div>
		<div class="header-title"><a href="/">Future Tech Blog</a></div>
		<div class="header-title-sub">フューチャー技術ブログ</div>
	</div>
</header>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/articles/">Blog</a></li>
    <li class="active">Post</li>
  </ul>
  <section id="main" class="margin-top-30">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Infrastructure/">Infrastructureカテゴリ</a>
  </div>


    <h2 itemprop="name" class="article-title">Azure Data Boxを使ってみた
  
  <a target="_blank" rel="noopener" href="https://github.com/future-architect/tech-blog/edit/master/source/_posts/20221108a_Azure_Data_Boxを使ってみた.md" title="Suggest Edits" class="github-edit"><i class="github-edit-icon"></i></a>
  
</h2>

    <div class="row">
  <main class="col-md-9 blog-posts">
    <article id="post-20221108a_Azure_Data_Boxを使ってみた" class="article article-type-post blog-item" itemscope itemprop="blogPost">
      <div class="article-inner">
        
        <header class="article-header">
          <ul class="blog-info">
            <li class="blog-info-item"><a href="/articles/2022/" class="publish-date"><time datetime="2022-11-07T15:00:00.000Z" itemprop="datePublished">2022.11.08</time></a>
</li>
            <li class="blog-info-item"><li><a href="/authors/%E4%B8%80%E3%83%8E%E7%80%AC%E7%A7%80%E9%83%BD" title="一ノ瀬秀都さんの記事一覧へ" class="post-author">一ノ瀬秀都</a></li></li>
            <li class="blog-info-item">
  
    
    <a href="/tags/クラウドマイグレーション/" title="クラウドマイグレーションタグの記事へ" class="tag-list-link">クラウドマイグレーション</a>
  
    
    <a href="/tags/Azure/" title="Azureタグの記事へ" class="tag-list-link">Azure</a>
  
    
    <a href="/tags/DataBox/" title="DataBoxタグの記事へ" class="tag-list-link">DataBox</a>
  
    
    <a href="/tags/データ移行/" title="データ移行タグの記事へ" class="tag-list-link">データ移行</a>
  

</li>
          </ul>
          </header>
        
        <div class="article-entry" itemprop="articleBody">
          
            <h1 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h1><p>はじめまして、テクノロジーイノベーショングループ所属、2021年4月に新卒で入社した一ノ瀬です。</p>
<p><a href="/articles/20221031a/">秋のブログ週間</a>の6本目となる本記事では、オンプレからクラウドへのデータ移行に関して、AzureのData Boxというサービスを利用する機会があったので、詳細なワークフローや失敗談について共有します。</p>
<p>昨今のDX推進の流れにのり、システムのクラウドシフト&#x2F;リフトに取り組む方も多いかと思います。</p>
<p>「クラウドへの移行を考えているがデータ量が膨大で移行ができない」といった悩みがあったり、「クラウドへのデータ移行でData Boxサービスを利用したい！けど、よくわからない…」という方々に本記事を参考にしていただけると幸いです。</p>
<h1 id="Data-Boxを利用する背景"><a href="#Data-Boxを利用する背景" class="headerlink" title="Data Boxを利用する背景"></a>Data Boxを利用する背景</h1><p>今回の要件は、オンプレのデータ分析基盤で収集していた100TB以上のデータをAzureに移行することでした。</p>
<p>当初はAzure専用線を使ったオンラインのデータ移行を検討していました。</p>
<p>しかし、データ容量の大きさから移行に約7ヶ月かかる点からオンラインのデータ移行は断念しました。</p>
<p>短期間かつNW負荷が低くてすむ移行方法はないか？ということで、オンプレ基盤とAzure間でオフラインでデータ移行できるサービスData Boxを利用することになりました。</p>
<p>続いては、動作環境に触れていきます。</p>
<h1 id="動作環境のはなし"><a href="#動作環境のはなし" class="headerlink" title="動作環境のはなし"></a>動作環境のはなし</h1><h3 id="物理構成はどんな感じ？"><a href="#物理構成はどんな感じ？" class="headerlink" title="物理構成はどんな感じ？"></a>物理構成はどんな感じ？</h3><p>データコピー時の登場人物は以下の計3端末です。</p>
<ol>
<li>Data Box</li>
<li>Data Box初期設定用PC</li>
<li>データコピー用サーバ</li>
</ol>
<img src="/images/20221108a/WS000297.JPG" alt="WS000297.JPG" width="1037" height="736" loading="lazy">

<p>Data Box初期設定用PCとデータコピー用サーバは今回の案件のために用意したので、以下に環境情報を記します。<br>転送先はAzure Data Boxの領域であり、また転送元はユーザにより異なるため環境情報の説明は省きます。</p>
<p><strong>データコピー用サーバ</strong></p>
<ul>
<li>RedHat Enterprise for Linux v8.4</li>
<li>メモリ16GB</li>
<li>1CPU4コア</li>
</ul>
<p><strong>Data Box初期設定用PC</strong>（※）</p>
<ul>
<li>Windows10</li>
<li>Google Chrome(2022&#x2F;8&#x2F;18時点最新)</li>
</ul>
<p>※借用PCのため詳細不明</p>
<h3 id="Data-Boxの結線の詳細は？"><a href="#Data-Boxの結線の詳細は？" class="headerlink" title="Data Boxの結線の詳細は？"></a>Data Boxの結線の詳細は？</h3><p>Data Boxの結線についても紹介します。<br>今回の構成では、以下の組み合わせで結線しています。</p>
<div class="scroll"><table>
<thead>
<tr>
<th align="left">Data Boxのポート</th>
<th align="left">接続先</th>
<th align="left">種別</th>
<th align="left">ポートの説明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">MGMTポート</td>
<td align="left">Data Box初期設定用PC</td>
<td align="left">RJ45</td>
<td align="left">初期設定時のみ使用<br>データコピーでは使用しない</td>
</tr>
<tr>
<td align="left">Data#1~2ポート</td>
<td align="left">10GbE対応のL2スイッチ</td>
<td align="left">10GBASE-SR</td>
<td align="left">データコピーにて<br>メインで使用する</td>
</tr>
<tr>
<td align="left">Data#3ポート</td>
<td align="left">1GbE対応のL2スイッチ</td>
<td align="left">RJ45</td>
<td align="left">アクセスは発生させない<br>前提条件を満たすために結線</td>
</tr>
</tbody></table></div>
<p>以下は結線のイメージです。<br><img src="/images/20221108a/image.png" alt="" width="820" height="449" loading="lazy"><br>出典：<a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-cable-options#transfer-via-data-port-with-static-ips-using-a-switch">Azure Data Boxの配線方法</a></p>
<p>今回MGMTポート + Data#1~3ポート全てで結線をしている理由は、サービス利用の前提として調達・結線が求められているためです。</p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-quickstart-portal">Docs:DataBoxのクイックスタート</a>の前提条件の一つに以下の記述があります。</p>
<blockquote>
<p>Data Box をホスト コンピューターに接続するために以下のケーブルを用意していること。<br>・10 GbE SFP+ Twinax 銅線ケーブル 2 本 (DATA 1、DATA 2 ネットワーク インターフェイスで使用)<br>・RJ-45 CAT 6 ネットワーク ケーブル 1 本 (MGMT ネットワーク インターフェイスで使用)<br>・RJ-45 CAT 6A OR ネットワーク ケーブル 1 本、RJ-45 CAT 6 ネットワーク ケーブル 1 本 (それぞれ 10 Gbps または 1 Gbps として構成されている DATA 3 ネットワーク インターフェイスで使用)</p>
</blockquote>
<p>また、マイクロソフトサポートから以下コメントを頂いています。</p>
<blockquote>
<p>Docsにて「必要」と記載のある部材に関しては原則調達をお願いしております。<br>仮に上記が欠けている場合、有事の際にサービス提供者側としての責任を負うことが出来ないという判断になる懸念がございます。</p>
</blockquote>
<p>以上から、マイクロソフト社はケーブルを4本全て用意し、Data Boxのすべてのポートを接続させた状態で使用することを前提にしているようです。</p>
<p>最低限の構成（例：Data#1とMGMTのみ）でも動作はするかと思いますが、今回は万全を期すために、MGMT + Data#1~3ポート全てで結線をしています。</p>
<p>また結線に使用したケーブルやアダプターについても説明します。</p>
<p>SFP+アダプターにはCiscoの「SFP-10G-SR」という機種を使用しました。<br>SFP+アダプターについては、問い合わせを起票してMiceosoftサポートが推奨する機種を参考に選びました。<br>以下サポートからの回答です。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://network.nvidia.com/pdf/firmware/ConnectX3-FW-2_42_5000-release_notes.pdf">Mellanox ConnectX-3 Firmware Release Notes</a>の「1.2.1 Validated and Supported 1GbE&#x2F;10GbE Cables (p.8~11)」に記載されているケーブルと同等のケーブルであれば問題なく動作すると考えられます。</p>
</blockquote>
<p>RJ45は一般的なLANケーブルで問題ないですが、SFP+のアダプターは小さくても高額ですので、「アダプター準備したけど使えないじゃん」という事態を避けるためにも慎重に準備することをおすすめします。</p>
<h1 id="Data-Boxの主なワークフロー"><a href="#Data-Boxの主なワークフロー" class="headerlink" title="Data Boxの主なワークフロー"></a>Data Boxの主なワークフロー</h1><p>では、実際の利用の流れを説明していこうと思います。</p>
<p>Data Boxを使ったデータ移行の大まかな流れは以下です。</p>
<img src="/images/20221108a/WS000294.JPG" alt="WS000294.JPG" width="1200" height="176" loading="lazy">

<ol>
<li>発注</li>
<li>受け取り</li>
<li>デバイス初期設定</li>
<li>結線とマウント</li>
<li>データコピー</li>
<li>返送</li>
<li>Azureへインポート</li>
</ol>
<p>※今回の案件では筐体の写真を撮影することができませんでした。手順の中で写真なしで筐体の説明をしていますが、ご了承ください。</p>
<h1 id="発注"><a href="#発注" class="headerlink" title="発注"></a>発注</h1><img src="/images/20221108a/ワークフロー_(1).JPG" alt="ワークフロー_(1).JPG" width="1200" height="179" loading="lazy">

<h3 id="注文の作成"><a href="#注文の作成" class="headerlink" title="注文の作成"></a>注文の作成</h3><p>まずはAzure Portalにログインし、ダッシュボードからData Boxを発注していきます。</p>
<p>Azure Portalのホーム画面で[Azure Data Box]を選択し、画面左上の[作成]を押下します。</p>
<img src="/images/20221108a/DataBox発注1.jpg" alt="DataBox発注1.jpg" width="1200" height="399" loading="lazy">

<p>次の画面では対象のサブスクリプション、リソースグループ、ソースの国、宛先のAzureリージョンを選択し、[適用]を押下します。</p>
<img src="/images/20221108a/DataBox発注2.jpg" alt="DataBox発注2.jpg" width="1200" height="442" loading="lazy">

<img src="/images/20221108a/DataBox発注3.jpg" alt="DataBox発注3.jpg" width="1200" height="605" loading="lazy">

<p>サービスを選択すると、注文に関する記入する画面に移ります。</p>
<p>[基本]では注文名を指定します。</p>
<p>ここで設定する注文名は、Azure Portalに残るものですので、複数台発注する場合は特に一意な名称にしておくとよいでしょう。</p>
<img src="/images/20221108a/DataBox発注4.jpg" alt="DataBox発注4.jpg" width="1200" height="300" loading="lazy">

<p>注文名を指定したら[データ格納先]に移動します。データの格納先と宛先のAzureリージョン、データをインポート&#x2F;エクスポートしたいストレージアカウントを選択します。</p>
<img src="/images/20221108a/DataBox発注5.jpg" alt="DataBox発注5.jpg" width="1200" height="531" loading="lazy">

<p>Data Boxサービスは一部のストレージアカウントのタイプをサポートしていないため、発注に先立って確認しておくと良いでしょう。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-system-requirements#supported-storage-accounts-for-imports">Docs:インポートでサポートされているストレージアカウント</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-system-requirements#supported-storage-accounts-for-exports">Docs:エクスポートでサポートされているストレージアカウント</a></li>
</ul>
<p>今回はGeneral-purpose(汎用) v2 Standardを使用しています。</p>
<p>次は[セキュリティ]です。</p>
<p>デバイスのロック解除兼WebUIのログインに使用するパスワードの種類を設定します。Microsoftマネージドキーかカスタマーマネージドキーを選択できます。</p>
<p>今回は全項目でMicrosoftマネージドキーを選択していますが、カスタマーマネージドキーを選択すると、より長く複雑なパスワードを設定できるようです。パスワードセキュリティをより強固にしたい場合は選択するとよいでしょう。</p>
<img src="/images/20221108a/DataBox発注6.jpg" alt="DataBox発注6.jpg" width="1200" height="547" loading="lazy">

<p>[連絡先の詳細]では出荷方法と通知を受け取るメールアドレス、（Microsoftの管理による出荷を選択した場合は）配達先住所の設定をします。</p>
<p>今回は自己管理の出荷を選択しています。メールはメーリングリストも使用可能です。</p>
<img src="/images/20221108a/住所の追加.jpg" alt="住所の追加.jpg" width="1200" height="567" loading="lazy">

<p>[タグ]では対象の注文にタグを設定できます。請求情報等の管理のために便利な機能のようですが、今回は空欄としています。</p>
<img src="/images/20221108a/DataBox発注9.jpg" alt="DataBox発注9.jpg" width="1200" height="324" loading="lazy">

<p>必要なすべての項目を記入し終えたら[確認と注文]に移動し発注します。</p>
<h1 id="受け取り"><a href="#受け取り" class="headerlink" title="受け取り"></a>受け取り</h1><img src="/images/20221108a/ワークフロー_(2).JPG" alt="ワークフロー_(2).JPG" width="1200" height="178" loading="lazy">

<h3 id="受取日の調整"><a href="#受取日の調整" class="headerlink" title="受取日の調整"></a>受取日の調整</h3><p>次はData Box受取日の調整をします。<br>今回は自己管理の出荷を選択したため、受け取り・引き渡しの両方で自己管理の出荷を前提に説明していきます。</p>
<p>まずは<a href="mailto:&#97;&#100;&#x62;&#x6f;&#x70;&#x73;&#x40;&#109;&#x69;&#x63;&#114;&#111;&#115;&#x6f;&#102;&#x74;&#46;&#99;&#x6f;&#109;">&#97;&#100;&#x62;&#x6f;&#x70;&#x73;&#x40;&#109;&#x69;&#x63;&#114;&#111;&#115;&#x6f;&#102;&#x74;&#46;&#99;&#x6f;&#109;</a>宛てに必要な情報をメールで送付します。件名を <code>Request Azure Data Box Pickup for Order: \&lt;ordername&gt;</code> に設定し、本文には以下フォーマットを記入したものを記入します。今回は日本語で記入しました。</p>
<p>Company name (会社名):<br>Contact name (受取担当者名):<br>Contact tel. no. (受取担当者電話番号):<br>Date of pickup (受取日):<br>Date of birth (担当者生年月日):<br>Nationality (担当者国籍):<br>Time of pickup (受取時刻):<br>Car number plate (自動車登録番号):</p>
<p>また、希望受取日は、複数決めておくとその後の調整がスムーズです。私が利用した際は、Microsoftから日程変更の依頼が来ました</p>
<p>受取日が決定すると、Azure Portalで認証コードが発行され、<a href="mailto:&#97;&#x7a;&#x75;&#114;&#x65;&#x2d;&#x6e;&#x6f;&#x72;&#101;&#x70;&#108;&#x79;&#64;&#109;&#x69;&#x63;&#114;&#111;&#115;&#x6f;&#x66;&#x74;&#x2e;&#x63;&#111;&#109;">&#97;&#x7a;&#x75;&#114;&#x65;&#x2d;&#x6e;&#x6f;&#x72;&#101;&#x70;&#108;&#x79;&#64;&#109;&#x69;&#x63;&#114;&#111;&#115;&#x6f;&#x66;&#x74;&#x2e;&#x63;&#111;&#109;</a>から受取準備が完了した旨のメール（以下、参照）が送付されます。</p>
<img src="/images/20221108a/受け取り準備完了メール.JPG" alt="受け取り準備完了メール.JPG" width="511" height="529" loading="lazy">

<p>受取当日は以下3点を用意し、指定された住所でData Boxを受け取ります。</p>
<ol>
<li>認証コード</li>
<li>受取準備完了メールのコピー</li>
<li>受取担当者の写真つき身分証明書の</li>
</ol>
<p>認証コードについては、マイクロソフト側担当者に口頭で伝える必要があるため、メモ等を用意しておくと良いでしょう。</p>
<p>事前に知らなかったのですが、Databoxの受け取り・引き渡しの際、いくつかの書類（NDA等）にサインをする必要があります。NDAは個人とマイクロソフト者の間で締結するもので、データセンターの情報などの漏洩防止に関係しているようです。</p>
<p>無事受け取れたら、いよいよData Boxの初期設定に移ります。</p>
<h1 id="デバイスの初期設定"><a href="#デバイスの初期設定" class="headerlink" title="デバイスの初期設定"></a>デバイスの初期設定</h1><img src="/images/20221108a/ワークフロー_(3).JPG" alt="ワークフロー_(3).JPG" width="1200" height="179" loading="lazy">

<h3 id="開梱"><a href="#開梱" class="headerlink" title="開梱"></a>開梱</h3><p>マイクロソフト社から引き取った段ボールを開梱し筐体を取り出したら、次はData Boxの起動と初期設定作業に移ります。<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-overview#features-and-specifications">Docs:機能と仕様</a>にありますが、Data Boxの重さは23Kg、サイズは309.0 mm x 430.4 mm x 502.0 mmです。</p>
<p>大人一人でギリギリ設置可能な大きさ・重さですが、複数名で行うとより安全でしょう</p>
<h3 id="Data-Boxの起動"><a href="#Data-Boxの起動" class="headerlink" title="Data Boxの起動"></a>Data Boxの起動</h3><p>まず、ディスプレイとは反対側に位置する扉を開け、電源ケーブルを取り出します。<br>電源ケーブルをデバイスと電源に接続し、ディスプレイの下にある電源ボタンを押し、Data Boxを起動します。</p>
<h3 id="WebUIへアクセス"><a href="#WebUIへアクセス" class="headerlink" title="WebUIへアクセス"></a>WebUIへアクセス</h3><p>次にData BoxのWebUIに Data Box初期設定用PCからアクセスしていきます。</p>
<p>まず Data Box初期設定用PCにIPアドレスを割り当てていきます。Data Box初期設定用PCのイーサネットアダプタのIPアドレスを192.168.100.5&#x2F;24に設定し、Data BoxのMGMTポートと Data Box初期設定用PCをLANケーブルを結線します。</p>
<p>結線したら、 Data Box初期設定用PCでブラウザを開き、https:&#x2F;192.168.10.10にアクセスし、ログイン画面が表示されれば疎通成功です。</p>
<p>次にAzurePortalに記載されているデバイスロックのパスワードを入力してWebUIにログインします。</p>
<p>※イーサネットに割り当てるIPアドレスや、WebUIのURLは<a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-deploy-set-up">Docs:デバイスに接続する</a>を参考にしています。</p>
<p>おまけではありますが、ここでデバイスの実効容量の確認も済ませると良いです。</p>
<p>ログイン後に表示されるダッシュボード中央の[Connect and copy]にて、その時点の空き容量（Free Space）と使用済み容量（Used Space）が表示されます。<br>※キャプチャはデータコピー最中のものです</p>
<img src="/images/20221108a/【1号機】ダッシュボード.jpg" alt="【1号機】ダッシュボード.jpg" width="1200" height="583" loading="lazy">

<p>一通りコピーした後に「思ったよりファイル置けなかった」「もっとコピーしておけばよかった」という事態を避けるため、事前に実効容量を確認し、コピー計画の最終確認ができると良いです。</p>
<p>今回の実効容量は、2台とも80TBにほど近い値でした。100GB程度の個体差はありましたが、ほとんど気にならない差でした。<a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-overview#features-and-specifications">Docs:実効容量</a>では80TBとされていますが、ほぼ正確な値と思って良さそうです。</p>
<p>次にData Box側の初期設定を行います。</p>
<p>今回の手順では、Data#1~3ポートへのIPアドレス割り当てとNFSの接続許可設定を実行していきます。</p>
<h3 id="Data-BoxへのIP割り当て"><a href="#Data-BoxへのIP割り当て" class="headerlink" title="Data BoxへのIP割り当て"></a>Data BoxへのIP割り当て</h3><p>まず、IPアドレス割り当てからです。</p>
<p>[Set network interfaces]ページからネットワーク設定画面に遷移し、Data＃1〜3ポートにIPアドレスを割り当てます。</p>
<p>今回は3つのポートすべてにIPを割り当てていきます。</p>
<p>※この際MGMTポートのIPアドレスは変更できないため注意です。</p>
<img src="/images/20221108a/【1号機】NWインターフェース設定.jpg" alt="【1号機】NWインターフェース設定.jpg" width="1200" height="587" loading="lazy">

<p>今回は静的にIPアドレスを割り当てるので、IP setteingsをStaticに設定し、ほかの項目（IP address, Subnet, Gateway）を埋めました。</p>
<p>任意のポートでIPアドレスを入力したら、画面左下の[Apply settings]を押下します。</p>
<p>ダッシュボードに戻り、設定したIPが各ポートで反映されていれば設定完了です。</p>
<h3 id="データコピーの接続許可設定"><a href="#データコピーの接続許可設定" class="headerlink" title="データコピーの接続許可設定"></a>データコピーの接続許可設定</h3><p>次にデータコピーに必要な接続情報を取得・設定します。</p>
<p>ダッシュボードから[Connect and copy]ページを選択した後、対象のストレージアカウントで転送に使用するプロトコルを選択します。今回はCIFSを利用するため、[SMB]を押下します。</p>
<p>押下すると、添付のようなポップアップが表示されます。</p>
<p>ここでCIFS接続に必要なユーザネーム、パスワードを取得できます。</p>
<img src="/images/20221108a/【1号機】接続とコピー_SMB.jpg" alt="【1号機】接続とコピー_SMB.jpg" width="1200" height="585" loading="lazy">

<p>CIFSに限らず、「NFSもしくはREST APIで転送したい！」と考えている方も、[Connect and copy]ページにて同様に接続情報を取得・設定できます。</p>
<p>NFSの場合は接続許可したいIPアドレスをテキストボックスに記入し、Validata IP addressを押下します。</p>
<p>IPが追加されれば、エクスポート設定が完了します。</p>
<img src="/images/20221108a/【1号機】接続とコピー_NFS.jpg" alt="【1号機】接続とコピー_NFS.jpg" width="1200" height="582" loading="lazy">

<p>REST APIの場合は、BLOBエンドポイントのURL、また認証情報であるAPI Keyや Connection Stringが取得できます。</p>
<img src="/images/20221108a/【1号機】接続とコピー_RESTAPI.jpg" alt="【1号機】接続とコピー_RESTAPI.jpg" width="1200" height="582" loading="lazy">

<h1 id="結線とマウント"><a href="#結線とマウント" class="headerlink" title="結線とマウント"></a>結線とマウント</h1><img src="/images/20221108a/ワークフロー_(4).JPG" alt="ワークフロー_(4).JPG" width="1200" height="179" loading="lazy">

<h3 id="Data-BoxとNWスイッチの結線"><a href="#Data-BoxとNWスイッチの結線" class="headerlink" title="Data BoxとNWスイッチの結線"></a>Data BoxとNWスイッチの結線</h3><p>Data BoxへのIP割り当てとデータコピーの接続設定が済んだので、<br>ついにData BoxとNWスイッチを結線させ、ネットワークに接続していきます。（やったー）</p>
<p>接続するポートとスイッチの対応や、ケーブルの規格については物理環境のはなしの中の<a target="_blank" rel="noopener" href="https://qiita.com/sichinoseeeee/private/415694f8f6e781a75b62#data-box%E3%81%AE%E7%B5%90%E7%B7%9A%E3%81%AE%E8%A9%B3%E7%B4%B0%E3%81%AF">Data Boxの結線の詳細は？</a>を参照ください。</p>
<h3 id="Data-Boxのネットワーク接続確認"><a href="#Data-Boxのネットワーク接続確認" class="headerlink" title="Data Boxのネットワーク接続確認"></a>Data Boxのネットワーク接続確認</h3><p>Data Boxをネットワークに接続させたら、 Data Box初期設定用PCでData Boxにアクセスします。<br>Data Box初期設定用PCのブラウザーからhttps:&#x2F;{Data＃1〜3ポートに割り当てたIP}にアクセスし、WebUIのログイン画面が表示されれば疎通成功です。</p>
<p>デバイスがネットワークに接続したことが確認できたら、以上でデバイス側での事前作業は完了です。（やったー）</p>
<p>次にデータコピー用サーバでの作業です。</p>
<p>この手順ではData Boxのファイルシステムマウントとファイルコピーの動作確認を行います。</p>
<h3 id="Data-Boxのマウント"><a href="#Data-Boxのマウント" class="headerlink" title="Data Boxのマウント"></a>Data Boxのマウント</h3><p>まずデータコピー用サーバにログインし、<code>/etc/fstab</code> にData BoxをNFSマウントするための定義を記入していきます。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/fstab</span><br><span class="line"></span><br><span class="line">=====以下定義を追加=====</span><br><span class="line"><span class="comment"># Data Box</span></span><br><span class="line">\\&lt;DeviceIPAddress<span class="comment">#1&gt;\&lt;storageaccountname_BlockBlob&gt;   /mnt/databox1 cifs rw,username=&lt;username&gt;,password=&lt;password&gt;,uid=&lt;uid&gt;,gid=&lt;gid&gt;,dir_mode=0777,file_mode=0777  0 0</span></span><br><span class="line">\\&lt;DeviceIPAddress<span class="comment">#2&gt;\&lt;storageaccountname_BlockBlob&gt;  /mnt/databox2 cifs rw,username=&lt;username&gt;,password=&lt;password&gt;,uid=&lt;uid&gt;,gid=&lt;gid&gt;,dir_mode=0777,file_mode=0777 0 0</span></span><br><span class="line">=======================</span><br></pre></td></tr></table></figure>

<p><code>/etc/fstab</code> ファイルへの書き込みが完了したら、ついにData Boxをマウントしていきます。<br>対象ファイルシステムが正しくマウントされたかも同時に確認していきます。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mount /mnt/databox1</span><br><span class="line">$ mount /mnt/databox2</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">df</span> -h</span><br><span class="line">ファイルシステム                                        サイズ  使用  残り 使用% マウント位置</span><br><span class="line">\\&lt;DeviceIPAddress<span class="comment">#1&gt;\&lt;storageaccountname_BlockBlob&gt;          79T  135G   79T    1% /mnt/databox1</span></span><br><span class="line">\\&lt;DeviceIPAddress<span class="comment">#2&gt;\&lt;storageaccountname_BlockBlob&gt;          79T   96G   79T    1% /mnt/databox2</span></span><br></pre></td></tr></table></figure>

<h3 id="マウントポイント配下にディレクトリ作成"><a href="#マウントポイント配下にディレクトリ作成" class="headerlink" title="マウントポイント配下にディレクトリ作成"></a>マウントポイント配下にディレクトリ作成</h3><p>次にマウントポイント配下にディレクトリを作成していきます。Data Boxのファイルシステムにデフォルトで備わっているディレクトリは<code>\&lt;storageaccountname_BlockBlob&gt; </code> の1つのみでData Boxを発注したストレージアカウント名がそのままディレクトリ名になっています。</p>
<blockquote>
<p>常にコピーしようとするファイル用のフォルダーを共有下に作成してから、ファイルをそのフォルダーにコピーします。<br>~~~中略~~~<br>ストレージ アカウント内の root フォルダーに直接ファイルをコピーすることはできません。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-deploy-copy-data-via-nfs#connect-to-data-box">Docs:Data Boxに接続する</a>で推奨されているように、デフォルトのディレクトリの1階層下に新たなディレクトリ（以下、コンテナー用ディレクトリ）を作成し、そこにデータをコピーする必要があります</p>
<blockquote>
<p>ブロック BLOB およびページ BLOB の共有の下に作成したフォルダーは、データが BLOB としてアップロードされるコンテナーになります。</p>
</blockquote>
<p>また、<code>\&lt;storageaccountname_BlockBlob&gt;</code> の直下に作成したディレクトリは、Azureへインポート後にコンテナーとして反映されます。<br>今回は既定のコンテナー配下にファイル及びディレクトリを配置する想定だったため、以下手順でディレクトリを作成していきます。</p>
<p>※Data Boxを2台同時に使用するため、管理上の都合でコンテナ用ディレクトリ配下に更に1階層ディレクトリを作成していますが、特に必要ではありません。<br>ユーザー&#x2F;オーナーは</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> -m 755 /mnt/databox1/&lt;containername&gt;</span><br><span class="line">$ <span class="built_in">mkdir</span> -m 755 /mnt/databox2/&lt;containername&gt;</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">mkdir</span> -m 755 /mnt/databox1/&lt;containername&gt;/databox1</span><br><span class="line">$ <span class="built_in">mkdir</span> -m 755 /mnt/databox2/&lt;containername&gt;/databox2</span><br><span class="line">$ find /mnt/databox* -<span class="built_in">ls</span></span><br><span class="line">3458764513820542746      1 drwxrwxr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:45 /mnt/databox1</span><br><span class="line">3458764513820542749      1 drwxr-xr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:45 /mnt/databox1/&lt;containername&gt;</span><br><span class="line">3458764513820542750      1 drwxr-xr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:45 /mnt/databox1/&lt;containername&gt;/databox1</span><br><span class="line">3458764513820542746      1 drwxrwxr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:46 /mnt/databox2</span><br><span class="line">3458764513820542749      1 drwxr-xr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:46 /mnt/databox2/&lt;containername&gt;</span><br><span class="line">3458764513820542750      1 drwxr-xr-x   2  &lt;user&gt;     &lt;owner&gt;          64  8月 18 15:46 /mnt/databox2/&lt;containername&gt;/databox2</span><br></pre></td></tr></table></figure>

<p>今回のように既存のコンテナーにデータをインポートする要件がある場合は、<code>\\&lt;DeviceIPAddress#1&gt;\&lt;storageaccountname_BlockBlob&gt;</code> 配下に同様の名前のディレクトリを作成する必要があります。ここでディレクトリ名に誤字があると、Azureへのインポート時にまったく新しい別のコンテナーが生成されてしまうので注意が必要です。</p>
<p>以上でディレクトリ作成が完了したので、次はディレクトリの動作確認をしていきます。</p>
<h3 id="ディレクトリの動作確認"><a href="#ディレクトリの動作確認" class="headerlink" title="ディレクトリの動作確認"></a>ディレクトリの動作確認</h3><p>本手順では、作成したディレクトリ配下でディレクトリとファイルの作成（ディレクトリへの書き込み）ができるかを確認します。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> /mnt/databox1/&lt;containername&gt;/databox1/test.txt</span><br><span class="line">$ <span class="built_in">ls</span> -l /mnt/databox1/&lt;containername&gt;/databox1</span><br><span class="line">$ <span class="built_in">rm</span> /mnt/databox1/&lt;containername&gt;/databox1/test.txt</span><br><span class="line">$ <span class="built_in">ls</span> -l /mnt/databox1/&lt;containername&gt;/databox1</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">touch</span> /mnt/databox2/&lt;containername&gt;/databox2/test.txt</span><br><span class="line">$ <span class="built_in">ls</span> -l /mnt/databox2/&lt;containername&gt;/databox2</span><br><span class="line">$ <span class="built_in">rm</span> /mnt/databox2/&lt;containername&gt;/databox2/test.txt</span><br><span class="line">$ <span class="built_in">ls</span> -l /mnt/databox2/&lt;containername&gt;/databox2</span><br></pre></td></tr></table></figure>
<p>以上のコマンドが正常に実行されれば、データコピー作業の準備は以上です。<br>ついに、データコピー作業へと移ります。</p>
<h1 id="データコピー"><a href="#データコピー" class="headerlink" title="データコピー"></a>データコピー</h1><img src="/images/20221108a/ワークフロー_(5).JPG" alt="ワークフロー_(5).JPG" width="1200" height="178" loading="lazy">

<h3 id="コピーコマンド実行"><a href="#コピーコマンド実行" class="headerlink" title="コピーコマンド実行"></a>コピーコマンド実行</h3><p>今回の案件では<code>cp -prf</code>コマンドでデータコピーを実施しました。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> -prf /&lt;転送元ファイルパス&gt; /mnt/databox1/&lt;containername&gt;/databox1/&lt;転送先パス&gt;</span><br><span class="line">$ <span class="built_in">cp</span> -prf /&lt;転送元ファイルパス&gt; /mnt/databox2/&lt;containername&gt;/databox2/&lt;転送先パス&gt;</span><br></pre></td></tr></table></figure>

<h3 id="コピーのパフォーマンス"><a href="#コピーのパフォーマンス" class="headerlink" title="コピーのパフォーマンス"></a>コピーのパフォーマンス</h3><p>ファイルサイズやファイル数に左右されますが、今回の転送速度は100~170MB&#x2F;秒でした。</p>
<p>有効容量の80TBいっぱいにコピーしたい場合、24時間休まずシリアル実行すると、8日前後で完了する計算です。</p>
<p>今回はシリアル実行でしたが、コピー完了までに1台あたり8~9日かかりました。<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-limits#data-box-limits">Docs:Data Boxの制限</a>には10セッションまで同時接続できるとあるので</p>
<blockquote>
<p>Data Box では、NFS 共有上で最大 10 のクライアント接続が同時にサポートされます。</p>
</blockquote>
<p>パラレルでコピーすることによって、さらに転送速度の向上を狙えるようです。</p>
<h1 id="発送"><a href="#発送" class="headerlink" title="発送"></a>発送</h1><img src="/images/20221108a/ワークフロー_(6).JPG" alt="ワークフロー_(6).JPG" width="1200" height="179" loading="lazy">

<h3 id="デバイスの発送準備処理（チェックサム計算）"><a href="#デバイスの発送準備処理（チェックサム計算）" class="headerlink" title="デバイスの発送準備処理（チェックサム計算）"></a>デバイスの発送準備処理（チェックサム計算）</h3><p>データコピーが完了したら、デバイスの発送準備処理を実行していきます。<br>ダッシュボードで[Prepare to ship]ページを選択し、[Start preparation]を押下します。</p>
<img src="/images/20221108a/【1号機】発送準備.jpg" alt="【1号機】発送準備.jpg" width="1200" height="574" loading="lazy">

<p>発送準備処理では、キャプチャにある通り、デバイスのロックや転送済みデータの整合性確認、ファイル一覧の作成などが実行されます。</p>
<p>処理完了後には以下のように全項目にチェックがつき、Completedの文字が表示されます。<br><img src="/images/20221108a/発送準備完了_1号機.JPG" alt="発送準備完了_1号機.JPG" width="1200" height="540" loading="lazy"></p>
<p>余談にはなりますが、発送準備処理のリードタイムについても説明しようと思います。<br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/databox/data-box-deploy-prepare-to-ship">Docs:Azure Data Box の発送準備</a>では最遅で数日間かかるとあるので、ここで少し驚く方もいるかと思います。</p>
<blockquote>
<p>チェックサムの計算は、データのサイズによっては数時間から数日間かかる場合があります。</p>
</blockquote>
<p>本当に数日間かかるとすると、発送準備処理だけのためにData Boxサービス料を払うことになり、あまり嬉しくはありません。<br>しかし、いざ発送準備処理を実行してみると、2台平均の所要時間は10分ほどで、見込みよりも大幅に短い時間で完了することができました。</p>
<p>今回はData Box1台あたり実効容量の9割近く（70&#x2F;80TB）を使用していたため、最悪のパフォーマンスが考えられる環境でしたが、十数分で完了しました。</p>
<p>発送準備処理のリードタイムは、扱うデータ構造やファイル数、ファイルあたりのサイズなど環境要因に左右されるため参考程度ではありますが、今回の実績ベースでは概ね十数分～数時間程度と考えて良さそうです。<br>ドキュメントにあるリードタイムの目安を鵜呑みにする必要はそれほどなく、より余裕を持ったコピー計画を立ても問題ないと感じています。</p>
<h3 id="Data-Boxシャットダウンと抜線"><a href="#Data-Boxシャットダウンと抜線" class="headerlink" title="Data Boxシャットダウンと抜線"></a>Data Boxシャットダウンと抜線</h3><p>クローズ処理が完了したら、いよいよ発送に向けて準備をします。<br>WebUIにアクセスしデバイスをシャットダウンしていきます。[Shut down or restart]ページから[Shut down]を押下します。</p>
<img src="/images/20221108a/【1号機】シャットダウンと再起動.jpg" alt="【1号機】シャットダウンと再起動.jpg" width="1200" height="576" loading="lazy">

<p>シャットダウンすると、当たり前ですがファイル共有は使えなくなります。<br>必要に応じて周知しましょう。</p>
<p>押下後に数分あけ、ブラウザの新しいタブを開き再度WebUIにアクセスをします。<br>この時アクセスがタイムアウトすれば、Data Box側のNICがアクティブでない（＝デバイスの電源が落ちた）と判断できます。</p>
<p>次にNWスイッチに接続しているケーブルを抜線し、Data Boxをアンラック・梱包します。</p>
<h3 id="梱包"><a href="#梱包" class="headerlink" title="梱包"></a>梱包</h3><p>データボックスを元々の段ボールに梱包し、発送の準備をします。<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ja-jp/azure/databox/data-box-overview#features-and-specifications">Docs:機能と仕様</a>にある通り、マイクロソフト社からは①Data Box本体と②電源ケーブルの2点をレンタルしているので、<br>以上が間違いなく梱包されていることを確認し、段ボールの封をします。</p>
<h3 id="引き渡し"><a href="#引き渡し" class="headerlink" title="引き渡し"></a>引き渡し</h3><p>発送（Azureデータセンターへの引き渡し）の目処がたった時点で、受け取り時と同様に<a href="mailto:&#x61;&#100;&#x62;&#x6f;&#x70;&#115;&#64;&#x6d;&#105;&#99;&#114;&#x6f;&#x73;&#111;&#102;&#116;&#46;&#99;&#x6f;&#109;">&#x61;&#100;&#x62;&#x6f;&#x70;&#115;&#64;&#x6d;&#105;&#99;&#114;&#x6f;&#x73;&#111;&#102;&#116;&#46;&#99;&#x6f;&#109;</a>宛に引き渡し日時の調整メールを送付します。<br>引き渡しでは以下フォーマットでメールを送付します。</p>
<p>Company name (会社名):<br>Contact name (引き渡し担当者名):<br>Contact tel. no. (引き渡し担当者電話番号):<br>Date of dropoff (引き渡し日):<br>Date of birth (担当者生年月日):<br>Nationality (担当者国籍):<br>Time of dropoff (引き渡し時刻):<br>Car number plate (自動車登録番号):</p>
<p>引き渡し日時が確定しData Boxの発送準備処理が終わるとAzure Portalで認証コードが発行されます。<br>また、<a href="mailto:&#x61;&#122;&#117;&#x72;&#101;&#x2d;&#x6e;&#111;&#x72;&#x65;&#112;&#108;&#121;&#64;&#x6d;&#x69;&#x63;&#x72;&#111;&#x73;&#x6f;&#x66;&#116;&#x2e;&#x63;&#111;&#x6d;">&#x61;&#122;&#117;&#x72;&#101;&#x2d;&#x6e;&#111;&#x72;&#x65;&#112;&#108;&#121;&#64;&#x6d;&#x69;&#x63;&#x72;&#111;&#x73;&#x6f;&#x66;&#116;&#x2e;&#x63;&#111;&#x6d;</a>から受取準備が完了した旨のメール（以下、参照）が送付されます。<br><img src="/images/20221108a/引き渡し準備完了メール.JPG" alt="引き渡し準備完了メール.JPG" width="512" height="561" loading="lazy"></p>
<p>あとは引き渡し当日に以下3点を準備してData BoxをAzureデータセンターに引き渡します。</p>
<ol>
<li>認証コード</li>
<li>引き渡し準備完了メールのコピー</li>
<li>引き渡し担当者の写真つき身分証明書</li>
</ol>
<h1 id="Azureへのインポート"><a href="#Azureへのインポート" class="headerlink" title="Azureへのインポート"></a>Azureへのインポート</h1><img src="/images/20221108a/ワークフロー_(7).JPG" alt="ワークフロー_(7).JPG" width="1200" height="180" loading="lazy">

<h3 id="インポートを待つ"><a href="#インポートを待つ" class="headerlink" title="インポートを待つ"></a>インポートを待つ</h3><p>引き渡し後は特にすることはなく、Azureへのインポートを待ちます。</p>
<p>今回のインポート（デバイス引き渡し完了→BLOBへのインポートまで）のリードタイムは、2台ともに約24時間で、予想よりも短納期で対応していただけた印象です。金曜日にData BoxがAzureデータセンターに到着し、土曜日にインポートが完了したのですが、営業日は考慮せずに対応してもらえるようでした。</p>
<p>Data Boxのワークフローについては以上になります。最後に、全体を通してつまずいたポイントを紹介します。</p>
<h2 id="つまずいたポイント"><a href="#つまずいたポイント" class="headerlink" title="つまずいたポイント"></a>つまずいたポイント</h2><h3 id="Azureにインポートしたらファイル権限はなくなるのに、一生懸命権限を保持しようとした"><a href="#Azureにインポートしたらファイル権限はなくなるのに、一生懸命権限を保持しようとした" class="headerlink" title="Azureにインポートしたらファイル権限はなくなるのに、一生懸命権限を保持しようとした"></a>Azureにインポートしたらファイル権限はなくなるのに、一生懸命権限を保持しようとした</h3><p>Azureにデータをインポートしてしまえばファイルの権限はなくなってしまうのですが、転送時に権限の保持をしようとしたために、余計な苦労をしました。</p>
<p>当初はNFSでData Boxのファイルシステムをマウントを予定していました。<br>先述のようにデータコピーでは<code>cp -prf</code>コマンドを実行したのですが、NFSマウントの環境下ではコピーコマンド実行時に権限の保持ができませんでした。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> -prf /tmp/databox_dev/test.txt /mnt/databox1/&lt;containername&gt;/databox1</span><br><span class="line"><span class="built_in">cp</span>: <span class="string">&#x27;/mnt/databox1/&lt;containername&gt;/databox1/test.txt&#x27;</span> の所有者の保護に失敗しました: 許可がありません</span><br></pre></td></tr></table></figure>

<p>コピーは成功しており目先の問題はないのですが、エラーメッセージが出るのは気になります。</p>
<p>Data BoxはWindows系OSで動いていると推測し、NFSでのマウントはユーザー名のマッピングにおいて相性が悪いと仮定しました。そこでNFSからCIFSでのマウントに切り替えところ、権限を保持したままコピーできるようになったのですが、Azureの世界ではファイルの権限は引き継がれません。</p>
<p>振り返るとファイルの権限を保持するオプションも、それを保持するための苦労も必要なかったと今は思います。</p>
<p>ファイルの権限を保持することに意味はなく、不具合を引き起こす場合もあるので、コピー時には余計なオプションを付け足すのは避けたほうがよいでしょう。</p>
<h1 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h1><p>以上、秋のブログ週間の一貫で、Data Boxを使ってみてわかった詳細なワークフロー・手順やつまずいたポイントを紹介してきました。</p>
<p>AzureのData Boxが日本で提供され始めたのは2019年ごろなので、比較的若いサービスです。</p>
<p>第三者のレポートが非常に少なく、検討段階では情報収集に苦労しました。</p>
<p>本記事がData Box利用を検討される方の参考になれば幸いです。</p>
<p>データ移行にかけられる期間と回線費用を考えると、数十TB規模のデータを1-2週間で移行できるのは非常に有効な手段だと思います。</p>

          
        </div>
        <footer>
          <section class="social-area">
          <!-- シェアボタン START -->
  <ul class="social-button">
    
    <!-- Twitter -->
    <li>
      <a class="social-btn twitter-btn" target="_blank" href="https://twitter.com/share?url=https://future-architect.github.io/articles/20221108a/&related=twitterapi%2Ctwitter&text=Azure%20Data%20Box%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%20%7C%20%E3%83%95%E3%83%A5%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E6%8A%80%E8%A1%93%E3%83%96%E3%83%AD%E3%82%B0" rel="nofollow noopener">
        <i></i><span class="social-btn-label">2</span>
      </a>
    </li>
    <!-- Facebook -->
    <li>
      <a class="social-btn fb-btn" target="_blank" href="http://www.facebook.com/share.php?u=https://future-architect.github.io/articles/20221108a/&t=Azure%20Data%20Box%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F" rel="nofollow noopener">
        <i></i><span class="social-btn-label">シェア</span>
      </a>
    </li>
    <!-- hatebu -->
    <li>
      <a class="social-btn hatebu-btn" target="_blank" href="https://b.hatena.ne.jp/entry/s/future-architect.github.io/articles/20221108a/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">はてな</span>
      </a>
    </li>
    <!-- pocket -->
    <li>
      <a class="social-btn pocket-btn" target="_blank" href="https://getpocket.com/save?url=https://future-architect.github.io/articles/20221108a/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">Pocket</span>
      </a>
    </li>
    
  </ul>
<!-- シェアボタン END -->

          </section>
          <aside>
            <section class="related-post margin-bottom-40 nav">
              <h2 id="related"><a href="#related" class="headerlink" title="関連記事"></a>関連記事</h2>
              
  <div class="widget">
    <ul class="nav related-post-link"><li class="related-posts-item"><span>2022.12.20</span><span class="snscount">&#9825;11</span><a href=/articles/20221220a/ title="MSAL.jsはとても便利なライブラリです。コールバックを受けるバックエンドサーバーの用意も不要で、フロントエンドだけで認証が完結します。ですが、開発時にAzureADがない場合もありますし、開発者全員が開発で使うAzureADにユーザー登録されていないかもしれません。">MSAL.jsで開発時は認証スキップしたい</a></li><li class="related-posts-item"><span>2022.11.22</span><span class="snscount">&#9825;16</span><a href=/articles/20221122a/ title="前回の記事ではMSAL.jsを使い、シングルページアプリケーションの認証を試してみました。業務システムで扱う認証にはいろいろな種類がありますが、だいたい以下のどれかに該当するケースが多いと思います。">AzureAD＋MSAL for Goでバッチコマンドの認証</a></li><li class="related-posts-item"><span>2022.11.18</span><span class="snscount">&#9825;5</span><a href=/articles/20221118a/ title="AzureADを使って認証を行っている企業は多いと思います。このAzureADを使った場合にはMSAL.jsを使えば認証は楽だぞ、というのはAzureADのサイトには書かれているのですが、OpenID Connectのプロトコルの動きの理解と、ライブラリのAPIがどう対応づいているのかがわからずにちょっと試行錯誤したので、そのメモを残しておきます。">MSAL.jsを使ってウェブフロントエンドだけでAzureAD認証する</a></li><li class="related-posts-item"><span>2021.10.08</span><span class="snscount">&#9825;4</span><a href=/articles/20211008b/ title="みなさん、Azureの勉強をどうやっていますか？本を買う、Webで情報収集、有料のセミナーなど様々な方法がありますが、Microsoft Learnはご存じでしょうか？私事ですが、このサイトを利用することでAzureの知識を身につけ、資格取得にもつなげることができました。">Microsoft Learnを使用したスキル向上チャレンジ</a></li><li class="related-posts-item"><span>2021.03.22</span><span class="snscount">&#9825;3</span><a href=/articles/20210322/ title="前回は越島さんによる分かりやすい Anthos 概要紹介記事でしたが、今回も前回に続いての Anthos ネタです">Migrate for Anthos を基礎から学ぶ</a></li><li class="related-posts-item"><span>2021.01.29</span><span class="snscount">&#9825;0</span><a href=/articles/20210129/ title="Azure が提供されている Event Hubs の Consumer 処理実装の EventProcessorClient について調査する機会があったため、整理した内容を公開いたします。EventHubs_logo.png> Azure アーキテクチャ アイコン">Azure Event Hubs の EventProcessorClientを利用した Consumer 実装</a></li></ul>
  </div>
            </section>
            <section class="reference-post margin-bottom-40 nav">
              
  <div class="card">
    <div id="reference" class="reference-lede"><a href="#reference" class="headerlink" title="参照されている記事"></a>この記事を参照している記事</div>
    <ul class="reference-post-link"><li class="reference-posts-item"><a href=/articles/20221031a/ title="秋のブログ週間の開始しますという報告です。2022年で3回目です。">秋のブログ週間2022を始めます</a></li></ul>
  </div>
            </section>
          </aside>
        </footer>
      </div>
    </article>
  </main>
  <aside class="col-md-3 blog-sidebar">
    <!-- START SIDEBAR  -->


<section class="toc-section">
  <h2 class="margin-top-30">目次</h2>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><span class="toc-text">はじめに</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data-Box%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E8%83%8C%E6%99%AF"><span class="toc-text">Data Boxを利用する背景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8B%95%E4%BD%9C%E7%92%B0%E5%A2%83%E3%81%AE%E3%81%AF%E3%81%AA%E3%81%97"><span class="toc-text">動作環境のはなし</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%A7%8B%E6%88%90%E3%81%AF%E3%81%A9%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98%EF%BC%9F"><span class="toc-text">物理構成はどんな感じ？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%AE%E7%B5%90%E7%B7%9A%E3%81%AE%E8%A9%B3%E7%B4%B0%E3%81%AF%EF%BC%9F"><span class="toc-text">Data Boxの結線の詳細は？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data-Box%E3%81%AE%E4%B8%BB%E3%81%AA%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC"><span class="toc-text">Data Boxの主なワークフロー</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BA%E6%B3%A8"><span class="toc-text">発注</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%96%87%E3%81%AE%E4%BD%9C%E6%88%90"><span class="toc-text">注文の作成</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8A"><span class="toc-text">受け取り</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%97%E5%8F%96%E6%97%A5%E3%81%AE%E8%AA%BF%E6%95%B4"><span class="toc-text">受取日の調整</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A"><span class="toc-text">デバイスの初期設定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%96%8B%E6%A2%B1"><span class="toc-text">開梱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%AE%E8%B5%B7%E5%8B%95"><span class="toc-text">Data Boxの起動</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebUI%E3%81%B8%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9"><span class="toc-text">WebUIへアクセス</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%B8%E3%81%AEIP%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6"><span class="toc-text">Data BoxへのIP割り当て</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B3%E3%83%94%E3%83%BC%E3%81%AE%E6%8E%A5%E7%B6%9A%E8%A8%B1%E5%8F%AF%E8%A8%AD%E5%AE%9A"><span class="toc-text">データコピーの接続許可設定</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B5%90%E7%B7%9A%E3%81%A8%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88"><span class="toc-text">結線とマウント</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%A8NW%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E3%81%AE%E7%B5%90%E7%B7%9A"><span class="toc-text">Data BoxとNWスイッチの結線</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%AE%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E6%8E%A5%E7%B6%9A%E7%A2%BA%E8%AA%8D"><span class="toc-text">Data Boxのネットワーク接続確認</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%81%AE%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88"><span class="toc-text">Data Boxのマウント</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E9%85%8D%E4%B8%8B%E3%81%AB%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E4%BD%9C%E6%88%90"><span class="toc-text">マウントポイント配下にディレクトリ作成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D"><span class="toc-text">ディレクトリの動作確認</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B3%E3%83%94%E3%83%BC"><span class="toc-text">データコピー</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%82%B3%E3%83%94%E3%83%BC%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E5%AE%9F%E8%A1%8C"><span class="toc-text">コピーコマンド実行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%82%B3%E3%83%94%E3%83%BC%E3%81%AE%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9"><span class="toc-text">コピーのパフォーマンス</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BA%E9%80%81"><span class="toc-text">発送</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%99%BA%E9%80%81%E6%BA%96%E5%82%99%E5%87%A6%E7%90%86%EF%BC%88%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%82%B5%E3%83%A0%E8%A8%88%E7%AE%97%EF%BC%89"><span class="toc-text">デバイスの発送準備処理（チェックサム計算）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Box%E3%82%B7%E3%83%A3%E3%83%83%E3%83%88%E3%83%80%E3%82%A6%E3%83%B3%E3%81%A8%E6%8A%9C%E7%B7%9A"><span class="toc-text">Data Boxシャットダウンと抜線</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A2%B1%E5%8C%85"><span class="toc-text">梱包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E3%81%8D%E6%B8%A1%E3%81%97"><span class="toc-text">引き渡し</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Azure%E3%81%B8%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88"><span class="toc-text">Azureへのインポート</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88%E3%82%92%E5%BE%85%E3%81%A4"><span class="toc-text">インポートを待つ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%A4%E3%81%BE%E3%81%9A%E3%81%84%E3%81%9F%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"><span class="toc-text">つまずいたポイント</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Azure%E3%81%AB%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88%E3%81%97%E3%81%9F%E3%82%89%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E6%A8%A9%E9%99%90%E3%81%AF%E3%81%AA%E3%81%8F%E3%81%AA%E3%82%8B%E3%81%AE%E3%81%AB%E3%80%81%E4%B8%80%E7%94%9F%E6%87%B8%E5%91%BD%E6%A8%A9%E9%99%90%E3%82%92%E4%BF%9D%E6%8C%81%E3%81%97%E3%82%88%E3%81%86%E3%81%A8%E3%81%97%E3%81%9F"><span class="toc-text">Azureにインポートしたらファイル権限はなくなるのに、一生懸命権限を保持しようとした</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%81%BE%E3%81%A8%E3%82%81"><span class="toc-text">まとめ</span></a></li></ol>
</section>

<section class="category">
<h2 class="margin-top-30">カテゴリー</h2>
<div class="widget">
  <ul class="nav sidebar-categories margin-bottom-40">
  
  <li class=""><a href="/categories/Programming/">Programming (359)</a></li>
<li class=""><a href="/categories/Infrastructure/">Infrastructure (205)</a></li>
<li class=""><a href="/categories/Culture/">Culture (85)</a></li>
<li class=""><a href="/categories/DataScience/">DataScience (45)</a></li>
<li class=""><a href="/categories/IoT/">IoT (31)</a></li>
<li class=""><a href="/categories/DB/">DB (21)</a></li>
<li class=""><a href="/categories/%E8%AA%8D%E8%A8%BC%E8%AA%8D%E5%8F%AF/">認証認可 (20)</a></li>
<li class=""><a href="/categories/Business/">Business (20)</a></li>
<li class=""><a href="/categories/Management/">Management (13)</a></li>
<li class=""><a href="/categories/VR/">VR (12)</a></li>
<li class=""><a href="/categories/DevOps/">DevOps (12)</a></li>
<li class=""><a href="/categories/Design/">Design (11)</a></li>
<li class=""><a href="/categories/Security/">Security (8)</a></li>

  </ul>
</div>

</section>
<section class="podcast-link">
<h2 class="margin-top-30">Tech Cast</h2>

  <div class="class="widget-wrap">
  <div class="widget">
    <ul class="nav techcast">
      <li><a href="https://anchor.fm/futuretechcast/episodes/35-MLOps-e1qe4st" title="フューチャーがお届けするポッドキャストです。#35 MLOpsエンジニアって何やるの？（後編）" target="_blank" rel="noopener"> #35 MLOpsエンジニアって何やるの？（後編）</a></li>
<li><a href="https://anchor.fm/futuretechcast/episodes/34-MLOps-e1polbj" title="フューチャーがお届けするポッドキャストです。#34 MLOpsエンジニアって何やるの？（前編）" target="_blank" rel="noopener"> #34 MLOpsエンジニアって何やるの？（前編）</a></li>
<li><a href="https://anchor.fm/futuretechcast/episodes/33-IT-e1pcaon" title="フューチャーがお届けするポッドキャストです。#33 ヘルスケアグループリーダーの中元さんと語る「医療業界におけるITコンサルとビジネスイノベーション」（後編）" target="_blank" rel="noopener"> #33 ヘルスケアグループリーダーの中元さんと語る「医療業界におけるITコンサルとビジネスイノベーション」（後編）</a></li>
    </ul>
  </div>
  </div>
  
</section>
<section class="advent-calendar">
<h2 class="margin-top-30">アドベントカレンダー</h2>
<div class="widget">
  <ul class="nav-flex">
    <li><a href="http://qiita.com/advent-calendar/2022/future" title="フューチャー Advent Calendar 2022 #Qiita" target="_blank" rel="noopener">2022年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2021/future" title="フューチャー Advent Calendar 2021 #Qiita" target="_blank" rel="noopener">2021年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2020/future" title="フューチャー Advent Calendar 2020 #Qiita" target="_blank" rel="noopener">2020年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2019/future" title="フューチャー Advent Calendar 2019 #Qiita" target="_blank" rel="noopener">2019年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2018/future" title="フューチャー Advent Calendar 2018 #Qiita" target="_blank" rel="noopener">2018年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2017/future" title="フューチャー Advent Calendar 2017 #Qiita" target="_blank" rel="noopener">2017年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2016/future" title="フューチャー Advent Calendar 2016 #Qiita" target="_blank" rel="noopener">2016年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2015/future" title="フューチャー Advent Calendar 2015 #Qiita" target="_blank" rel="noopener">2015年</a></li>
  </ul>
</div>

</section>
<!-- END SIDEBAR -->

  </aside>
</div>

  </section>
</div>

      <!-- BEGIN PRE-FOOTER -->
    <footer>
      <div class="pre-footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>About Us</h2>
              <p>経営とITをデザインする、フューチャーの技術ブログです。業務で利用している幅広い技術について紹介します。<br /><br /><a target="_blank" rel="noopener" href="http://www.future.co.jp/">http://www.future.co.jp/</a></p>
              <div class="social-btn twitter-btn twitter-follow-btn">
                <a href="https://twitter.com/intent/follow?screen_name=future_techblog " target="_blank" rel="nofollow noopener">
                  <i></i><span class="tw-btn-label">フューチャー技術ブログをフォロー</span>
                </a>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-4 pre-footer-col">
              <h2>Contact</h2>
              <address class="margin-bottom-40">
                <a href="https://www.future.co.jp/recruit/recruit/rec-fresh/" title="新卒採用" target="_blank" rel="noopener">新卒採用</a><br>
                <a href="https://www.future.co.jp/recruit/recruit/rec-career/" title="キャリア採用" target="_blank" rel="noopener">キャリア採用</a><br>
                <a href="https://www.future.co.jp/contact_us/" title="お問い合わせページ" target="_blank" rel="noopener">お問い合わせ</a><br>
                <a href="https://www.future.co.jp/architect/socialmediapolicy/" title="ソーシャルメディアポリシー" target="_blank" rel="noopener">メディアポリシー</a><br><br>
                <a href="mailto:techblog@future.co.jp">techblog@future.co.jp</a>
              </address>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>Contents</h2>
              <a href="https://future-architect.github.io/coding-standards/" title="Future Enterprise Coding Standards" target="_blank" rel="noopener">コーディング規約</a><br>
              <a href="https://future-architect.github.io/typescript-guide/" title="仕事ですぐに使えるTypeScript" target="_blank" rel="noopener">仕事ですぐに使えるTypeScript</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>Event</h2>
              <a href="https://future.connpass.com/" title="経営とITをデザインするフューチャーの勉強会です" target="_blank" rel="noopener">connpass</a><br>
              <a href="https://www.future.co.jp/futureinsightseminar/" title="フューチャーインサイトセミナー" target="_blank" rel="noopener">Webセミナー</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>SNS</h2>
              <a href="https://github.com/future-architect" title="Future's official open source repositories" target="_blank" rel="noopener">GitHub</a><br>
              <a href="https://qiita.com/organizations/future" title="フューチャーのQiita Organizationです" target="_blank" rel="noopener">Qiita</a><br>
              <a href="https://note.future.co.jp/" title="フューチャーの公式note" target="_blank" rel="noopener">未来報</a><br>
              <a href="https://www.youtube.com/channel/UCJUSwYYd0CkGgmEKAW7QVpw" title="フューチャーYoutubeチャネル" target="_blank" rel="noopener">Youtube</a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-sm-6 padding-top-10">
              &copy; 2023 フューチャー技術ブログ<br>
            </div>
          </div>
        </div>
      </div>
    </footer>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X1C28R8H0M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-X1C28R8H0M');
  gtag('config', 'UA-74047147-1'); // 過渡期対応
</script>

  </div>
</body>
</html>
