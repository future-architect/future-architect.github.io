<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <!--
    ███████╗██╗░░░██╗████████╗██╗░░░██╗██████╗░███████╗
    ██╔════╝██║░░░██║╚══██╔══╝██║░░░██║██╔══██╗██╔════╝
    █████╗░░██║░░░██║░░░██║░░░██║░░░██║██████╔╝█████╗░░
    ██╔══╝░░██║░░░██║░░░██║░░░██║░░░██║██╔══██╗██╔══╝░░
    ██║░░░░░╚██████╔╝░░░██║░░░╚██████╔╝██║░░██║███████╗
    ╚═╝░░░░░░╚═════╝░░░░╚═╝░░░░╚═════╝░╚═╝░░╚═╝╚══════╝
    ████████╗███████╗░█████╗░██╗░░██╗
    ╚══██╔══╝██╔════╝██╔══██╗██║░░██║
    ░░░██║░░░█████╗░░██║░░╚═╝███████║
    ░░░██║░░░██╔══╝░░██║░░██╗██╔══██║
    ░░░██║░░░███████╗╚█████╔╝██║░░██║
    ░░░╚═╝░░░╚══════╝░╚════╝░╚═╝░░╚═╝
    ██████╗░██╗░░░░░░█████╗░░██████╗░
    ██╔══██╗██║░░░░░██╔══██╗██╔════╝░
    ██████╦╝██║░░░░░██║░░██║██║░░██╗░
    ██╔══██╗██║░░░░░██║░░██║██║░░╚██╗
    ██████╦╝███████╗╚█████╔╝╚██████╔╝
    ╚═════╝░╚══════╝░╚════╝░░╚═════╝░
    Welcome engineer.
    https://www.future.co.jp/recruit/
  -->
  
  <title>SQLビルダーgoquの使い方 | フューチャー技術ブログ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  <meta name="description" content="この記事はORMとクエリビルダー連載の6記事目です。 TIGの伊藤真彦です。業務では専らDynamoDBに触れており、１年以上RDBMSの世界から離れていたのですが、連載のために帰ってきました。というわけで無からネタを考え、goqu体験記を書くことにしました。 goquとは  リポジトリはこちらです。  goqu is an expressive SQL builder and executorg">
<meta property="og:type" content="article">
<meta property="og:title" content="SQLビルダーgoquの使い方 | フューチャー技術ブログ">
<meta property="og:url" content="https://future-architect.github.io/articles/20210802a/index.html">
<meta property="og:site_name" content="フューチャー技術ブログ">
<meta property="og:description" content="この記事はORMとクエリビルダー連載の6記事目です。 TIGの伊藤真彦です。業務では専らDynamoDBに触れており、１年以上RDBMSの世界から離れていたのですが、連載のために帰ってきました。というわけで無からネタを考え、goqu体験記を書くことにしました。 goquとは  リポジトリはこちらです。  goqu is an expressive SQL builder and executorg">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://future-architect.github.io/images/20210802a/goqu.png">
<meta property="article:published_time" content="2021-08-01T15:00:00.000Z">
<meta property="article:modified_time" content="2022-07-04T14:47:53.485Z">
<meta property="article:tag" content="SQL">
<meta property="article:tag" content="Go">
<meta property="article:tag" content="ORM">
<meta property="article:tag" content="式">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://future-architect.github.io/images/20210802a/goqu.png">
  
  <link rel="alternate" href="/atom.xml" title="フューチャー技術ブログ" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes='180x180' href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes='57x57' href="/apple-touch-icon-57x57.png">
  <link rel="canonical" href="https://future-architect.github.io/articles/20210802a/">
  <meta content="SQL,Go,ORM,式" name="keywords">
  <meta content="伊藤真彦" name="author">
  <link rel="preload" as="image" href="/banner.jpg" />
  <link rel='manifest' href='/manifest.webmanifest'/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" href="/metronic/assets/style.css">
  <link rel="stylesheet" href="/css/theme-styles.css">
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="corporate">
  <div class="wrap" itemscope itemtype="https://schema.org/TechArticle">
  <!-- BEGIN HEADER -->
<header class="header">
	<div class="header-overlay">
		<div class="header-menu"></div>
		<div class="header-title"><a href="/">Future Tech Blog</a></div>
		<div class="header-title-sub">フューチャー技術ブログ</div>
	</div>
</header>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/articles/">Blog</a></li>
    <li class="active">Post</li>
  </ul>
  <section id="main" class="margin-top-30">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programmingカテゴリ</a>
  </div>


    <h2 itemprop="name" class="article-title">SQLビルダーgoquの使い方
  
  <a target="_blank" rel="noopener" href="https://github.com/future-architect/tech-blog/edit/master/source/_posts/20210802a_SQLビルダーgoquの使い方.md" title="Suggest Edits" class="github-edit"><i class="github-edit-icon"></i></a>
  
</h2>

    <div class="row">
  <main class="col-md-9 blog-posts">
    <article id="post-20210802a_SQLビルダーgoquの使い方" class="article article-type-post blog-item" itemscope itemprop="blogPost">
      <div class="article-inner">
        
        <header class="article-header">
          <ul class="blog-info">
            <li class="blog-info-item"><a href="/articles/2021/" class="publish-date"><time datetime="2021-08-01T15:00:00.000Z" itemprop="datePublished">2021.08.02</time></a>
</li>
            <li class="blog-info-item"><li><a href="/authors/%E4%BC%8A%E8%97%A4%E7%9C%9F%E5%BD%A6" title="伊藤真彦さんの記事一覧へ" class="post-author">伊藤真彦</a></li></li>
            <li class="blog-info-item">
  
    
    <a href="/tags/SQL/" title="SQLタグの記事へ" class="tag-list-link">SQL</a>
  
    
    <a href="/tags/Go/" title="Goタグの記事へ" class="tag-list-link">Go言語</a>
  
    
    <a href="/tags/ORM/" title="ORMタグの記事へ" class="tag-list-link">ORM</a>
  
    
    <a href="/tags/式/" title="式タグの記事へ" class="tag-list-link">式</a>
  

</li>
          </ul>
          </header>
        
        <div class="article-entry" itemprop="articleBody">
          
            <p>この記事は<a href="/articles/20210726b/">ORMとクエリビルダー連載</a>の6記事目です。</p>
<p>TIGの伊藤真彦です。業務では専らDynamoDBに触れており、１年以上RDBMSの世界から離れていたのですが、連載のために帰ってきました。というわけで無からネタを考え、goqu体験記を書くことにしました。</p>
<h1 id="goquとは"><a href="#goquとは" class="headerlink" title="goquとは"></a>goquとは</h1><img src="/images/20210802a/goqu.png" alt="" width="800" height="329" loading="lazy">

<p>リポジトリは<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu">こちら</a>です。</p>
<blockquote>
<p><code>goqu</code> is an expressive SQL builder and executor<br><code>goqu</code>は、表現力豊かなSQLビルダーおよびエグゼキューターです。</p>
</blockquote>
<p>との説明の通り、SQLビルダーとして単独に機能しつつ、SQLの実行も可能なライブラリです。</p>
<p>どちらかというとSQLビルダーとしての役割に注力しており、アソシエーションやフックを利用したORマッパーとしての機能を求めている場合は<a target="_blank" rel="noopener" href="https://github.com/jinzhu/gorm">gorm</a>や<a target="_blank" rel="noopener" href="https://github.com/eaigner/hood">hood</a>の使用がREADMEでも推奨されています。</p>
<blockquote>
<p>While goqu may support the scanning of rows into structs it is not intended to be used as an ORM if you are looking for common ORM features like associations, or hooks I would recommend looking at some of the great ORM libraries such as:</p>
<ul>
<li><p>gorm</p>
</li>
<li><p>hood</p>
</li>
</ul>
<p>goquは行の構造体へのスキャンをサポートしている場合がありますが、関連付けやフックなどの一般的なORM機能を探している場合は、ORMとして使用することを意図していません。次のような優れたORMライブラリのいくつかを調べることをお勧めします。</p>
</blockquote>
<p>その上でgoquを開発した意図もREADMEに書いてあります。</p>
<blockquote>
<p>We tried a few other sql builders but each was a thin wrapper around sql fragments that we found error prone. goqu was built with the following goals in mind:</p>
<p>Make the generation of SQL easy and enjoyable<br>Create an expressive DSL that would find common errors with SQL at compile time.<br>Provide a DSL that accounts for the common SQL expressions, NOT every nuance for each database.<br>Provide developers the ability to:<br>Use SQL when desired<br>Easily scan results into primitive values and structs<br>Use the native sql.Db methods when desired</p>
</blockquote>
<blockquote>
<p>他のいくつかのSQLビルダーを試しましたが、それぞれがエラーが発生しやすいSQLフラグメントの薄いラッパーでした。goqu次の目標を念頭に置いて構築されました。</p>
<p>SQLの生成を簡単で楽しいものにします<br>コンパイル時にSQLで一般的なエラーを見つける表現力豊かなDSLを作成します。<br>各データベースのすべてのニュアンスではなく、一般的なSQL式を説明するDSLを提供します。<br>開発者に次の機能を提供します。<br>必要に応じてSQLを使用する<br>結果を簡単にスキャンしてプリミティブ値と構造体にする<br>必要に応じて、ネイティブのsql.Dbメソッドを使用します</p>
</blockquote>
<p>私は残念ながら仕事でgormなどGo製ORマッパーをゴリゴリ使い込むようなことをしていないため、作者のdoug-martin氏への共感を持てる経験は持っていないのですが、好評な意見は各所で聞いています。</p>
<p>動作確認ついでに<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu/pull/286">ちょっとしたコメント修正のPR</a>を送ってみましたが、次の日にはマージされました、活発にメンテナンスされているようです。</p>
<h2 id="触ってみた"><a href="#触ってみた" class="headerlink" title="触ってみた"></a>触ってみた</h2><h3 id="SQLを発行する"><a href="#SQLを発行する" class="headerlink" title="SQLを発行する"></a>SQLを発行する</h3><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/doug-martin/goqu/v9&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sql, _, err := goqu.From(<span class="string">&quot;test&quot;</span>).ToSQL()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(sql) <span class="comment">// -&gt; SELECT * FROM &quot;test&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>importしてサッと使うだけでSQLが文字列として取得できます。</p>
<p>Goには”database&#x2F;sql”パッケージがあるので、素朴にそれと組み合わせるか、ORマッパーの痒いところに手が届かない部分をgoquで補うような使い方ができます。</p>
<p>上記で使っていないToSQLの戻り値は<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu/blob/2eb18c0814fe39f64a7c7a325bb7c9d508c49342/exec/query_executor.go#L33">実装</a>を見ると[]interface{}型の変数argsが帰ってきています。</p>
<p>これはSQLの表現の方法を変えたいときに利用できます。</p>
<p>READMEで<code>Parameter interpolation</code>として説明されている機能ですね。</p>
<p>テストコードに良いサンプルがあります。<code>.Prepared(true)</code>を付与することでパラメータ部分をargsに分離して使う前提のSQLが発行されます。</p>
<figure class="highlight go"><figcaption><span>test.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ExampleDialect_datasetMysql</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// import _ &quot;github.com/doug-martin/goqu/v9/adapters/mysql&quot;</span></span><br><span class="line"></span><br><span class="line">	d := goqu.Dialect(<span class="string">&quot;mysql&quot;</span>)</span><br><span class="line">	ds := d.From(<span class="string">&quot;test&quot;</span>).Where(goqu.Ex&#123;</span><br><span class="line">		<span class="string">&quot;foo&quot;</span>: <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">		<span class="string">&quot;baz&quot;</span>: []<span class="type">int64</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">	&#125;).Limit(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">	sql, args, _ := ds.ToSQL()</span><br><span class="line">	fmt.Println(sql, args)</span><br><span class="line"></span><br><span class="line">	sql, args, _ = ds.Prepared(<span class="literal">true</span>).ToSQL()</span><br><span class="line">	fmt.Println(sql, args)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Output:</span></span><br><span class="line">	<span class="comment">// SELECT * FROM `test` WHERE ((`baz` IN (1, 2, 3)) AND (`foo` = &#x27;bar&#x27;)) LIMIT 10 []</span></span><br><span class="line">	<span class="comment">// SELECT * FROM `test` WHERE ((`baz` IN (?, ?, ?)) AND (`foo` = ?)) LIMIT ? [1 2 3 bar 10]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Where句の利用やInsert文の場合など、細かい利用方法はREADMEに記載がありますので割愛します。</p>
<h2 id="特定のDBに適したSQLを発行する"><a href="#特定のDBに適したSQLを発行する" class="headerlink" title="特定のDBに適したSQLを発行する"></a>特定のDBに適したSQLを発行する</h2><p>goquでは<code>Dialect</code>と称して、DB毎の細かな違いをドライバを切り替えるような機能が存在します。</p>
<p>PostgreSQLの場合を見てみます。</p>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;github.com/doug-martin/goqu/v9&quot;</span></span><br><span class="line">  <span class="comment">// import the dialect</span></span><br><span class="line">  _ <span class="string">&quot;github.com/doug-martin/goqu/v9/dialect/postgres&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// look up the dialect</span></span><br><span class="line">dialect := goqu.Dialect(<span class="string">&quot;postgres&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// use dialect.From to get a dataset to build your SQL</span></span><br><span class="line">ds := dialect.From(<span class="string">&quot;test&quot;</span>).Where(goqu.Ex&#123;<span class="string">&quot;id&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line">sql, args, err := ds.ToSQL()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;An error occurred while generating the SQL&quot;</span>, err.Error())</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  fmt.Println(sql, args)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> &quot;test&quot; <span class="keyword">WHERE</span> &quot;id&quot; <span class="operator">=</span> <span class="number">10</span> []</span><br></pre></td></tr></table></figure>

<p>続いてMySQLの場合です。</p>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;github.com/doug-martin/goqu/v9&quot;</span></span><br><span class="line">  <span class="comment">// import the dialect</span></span><br><span class="line">  _ <span class="string">&quot;github.com/doug-martin/goqu/v9/dialect/mysql&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// look up the dialect</span></span><br><span class="line">dialect := goqu.Dialect(<span class="string">&quot;mysql&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// use dialect.From to get a dataset to build your SQL</span></span><br><span class="line">ds := dialect.From(<span class="string">&quot;test&quot;</span>).Where(goqu.Ex&#123;<span class="string">&quot;id&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line">sql, args, err := ds.ToSQL()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;An error occurred while generating the SQL&quot;</span>, err.Error())</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  fmt.Println(sql, args)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>SQLの内容が変わりました。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `test` <span class="keyword">WHERE</span> `id` <span class="operator">=</span> <span class="number">10</span> []</span><br></pre></td></tr></table></figure>

<p>詳しくは<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu/blob/master/docs/dialect.md">ドキュメント</a>に記載があります。</p>
<h3 id="SQLを実行する"><a href="#SQLを実行する" class="headerlink" title="SQLを実行する"></a>SQLを実行する</h3><p>ORマッパー的な使い方が推奨されていない手前もあるのか、トップページのREADMEではあまり触れられていませんが、”database&#x2F;sql”を利用したDBクライアントを組み込んで、goquのメソッドチェーンでSQLを実行したり、取得した結果を構造体にマッピングすることも可能です。<br>下記のコードがテーブルに書込みを行い、読み取り結果を構造体にマッピングするコードです。</p>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;database/sql&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/doug-martin/goqu/v9&quot;</span></span><br><span class="line">	_ <span class="string">&quot;github.com/doug-martin/goqu/v9/dialect/postgres&quot;</span></span><br><span class="line">	_ <span class="string">&quot;github.com/lib/pq&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Record <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id   []<span class="type">uint8</span></span><br><span class="line">	Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sqlDb, err := sql.Open(<span class="string">&quot;postgres&quot;</span>, <span class="string">&quot;user=postgres dbname=goqutest sslmode=disable &quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err.Error())</span><br><span class="line">	&#125;</span><br><span class="line">	db := goqu.New(<span class="string">&quot;postgres&quot;</span>, sqlDb)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Write</span></span><br><span class="line">	insert:= db.Insert(<span class="string">&quot;test&quot;</span>).Rows(</span><br><span class="line">		goqu.Record&#123;<span class="string">&quot;id&quot;</span>: <span class="string">&quot;1&quot;</span>, <span class="string">&quot;name&quot;</span>: <span class="string">&quot;test&quot;</span>&#125;,</span><br><span class="line">		<span class="comment">// Record&#123;Id: []uint8&#123;49, 32, 32, 32&#125;, Name: &quot;test&quot;&#125;,でも可</span></span><br><span class="line">	).Executor()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> _, err = insert.Exec(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Read</span></span><br><span class="line">	<span class="keyword">var</span> records []Record</span><br><span class="line">	err = db.From(<span class="string">&quot;test&quot;</span>).ScanStructs(&amp;records)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, records) <span class="comment">// -&gt; [&#123;[49 32 32 32] test&#125;]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>実際に試してみたい方のために動作をサクッと確認するための手順も説明します。</p>
<p>手軽に試すためにdockerでPostgreSQLを起動します。<br>MySQLにしなかったのは発掘したサンプルコードがたまたまPostgreSQLだったからです、どちらも好きです。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> \</span><br><span class="line">    -p 5432:5432 \</span><br><span class="line">    -v postgres-tmp:/var/lib/postgresql/data \</span><br><span class="line">    -e POSTGRES_HOST_AUTH_METHOD=trust \</span><br><span class="line">    postgres:12-alpine</span><br></pre></td></tr></table></figure>

<p>PostgreSQLのクライアントで起動したDBにログインします</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql -h localhost -p 5432 -U postgres</span><br></pre></td></tr></table></figure>

<p>psqlコマンドが実行できない場合はPostgreSQLのインストールが必要です</p>
<p>ログインできたらテストで使うDB、テーブルを用意します。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">データベース作成</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE goqutest;</span><br><span class="line"></span><br><span class="line">作成したデータベースに切り替え</span><br><span class="line">\c goqutest</span><br><span class="line"></span><br><span class="line">テーブル作成</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> test</span><br><span class="line">(id <span class="type">char</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">name text <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(id));</span><br><span class="line"></span><br><span class="line">テーブル確認</span><br><span class="line">\d</span><br></pre></td></tr></table></figure>

<p>この状態でサンプルコードを実行すれば動くはずです。[]uint8になると思っていなかったのでテストのためのDBでidをchar(4)にしたのは失敗でした。</p>
<p>ScanStructsなどのマッピング系の機能はドキュメントの<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu/blob/master/docs/selecting.md">Selecting</a>に、Insert機能の詳しい使い方は<a target="_blank" rel="noopener" href="https://github.com/doug-martin/goqu/blob/master/docs/inserting.md">Inserting</a>に記載があります。</p>
<p>これらのRead, WriteはContextとの組み合わせにも対応しています</p>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;context&quot;</span></span><br><span class="line">	<span class="string">&quot;database/sql&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/doug-martin/goqu/v9&quot;</span></span><br><span class="line">	_ <span class="string">&quot;github.com/doug-martin/goqu/v9/dialect/postgres&quot;</span></span><br><span class="line">	_ <span class="string">&quot;github.com/lib/pq&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Record <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id   []<span class="type">uint8</span></span><br><span class="line">	Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sqlDb, err := sql.Open(<span class="string">&quot;postgres&quot;</span>, <span class="string">&quot;user=postgres dbname=goqutest sslmode=disable &quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err.Error())</span><br><span class="line">	&#125;</span><br><span class="line">	db := goqu.New(<span class="string">&quot;postgres&quot;</span>, sqlDb)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Write</span></span><br><span class="line">	insert := db.Insert(<span class="string">&quot;test&quot;</span>).Rows(</span><br><span class="line">		goqu.Record&#123;<span class="string">&quot;id&quot;</span>: <span class="string">&quot;1&quot;</span>, <span class="string">&quot;name&quot;</span>: <span class="string">&quot;test&quot;</span>&#125;,</span><br><span class="line">		<span class="comment">// Record&#123;Id: []uint8&#123;49, 32, 32, 32&#125;, Name: &quot;test&quot;&#125;,でも可</span></span><br><span class="line">	).Executor()</span><br><span class="line"></span><br><span class="line">	ctx := context.TODO()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> _, err = insert.ExecContext(ctx); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Read</span></span><br><span class="line">	<span class="keyword">var</span> records []Record</span><br><span class="line">	err = db.From(<span class="string">&quot;test&quot;</span>).ScanStructsContext(ctx, &amp;records)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, records) <span class="comment">// -&gt; [&#123;[49 32 32 32] test&#125;]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ToSQLの戻り値を使わなくても、メソッドチェーンの流れでExecutorを利用すればそのままSQLの実行までできるため、わざわざ使うかというと微妙ですが、Parameter interpolationをこのように利用してデータを読み取ることもできます。</p>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sql, args, _ := db.From(<span class="string">&quot;test&quot;</span>).Prepared(<span class="literal">true</span>).Where(goqu.Ex&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;test&quot;</span>&#125;).ToSQL()</span><br><span class="line">db.ScanStructs(&amp;records, sql, args...)</span><br></pre></td></tr></table></figure>

<h2 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h2><p>goquはSQLビルダーとしての役割に軸足を置いたライブラリである。汎用的なものから特定のDBに特化したものまでSQLを発行できる。ORマッパーとしての利用を推奨していないながらも単体で動作することが可能になっている。</p>
<p>どのライブラリが好みに合うかは人それぞれですが、触ってみた感触としては多機能ながらも学習障壁の高さを感じる部分は少なかったです。</p>
<p>とはいえ軽く触った程度ではまだまだ紹介するべき本領を発揮できていないんじゃないかと感じる程度には機能が豊富でした。</p>
<p>一部の機能が刺さるユースケースには勿論ですが、ひとまずこれを使ってみるという用途としても充分オススメできると感じました。</p>
<p>明日は本田さんの<a href="/articles/20210803a/">Go言語で2WaySQL</a>です。</p>

          
        </div>
        <footer>
          <section class="social-area">
          <!-- シェアボタン START -->
  <ul class="social-button">
    
    <!-- Twitter -->
    <li>
      <a class="social-btn twitter-btn" target="_blank" href="https://twitter.com/share?url=https://future-architect.github.io/articles/20210802a/&related=twitterapi%2Ctwitter&text=SQL%E3%83%93%E3%83%AB%E3%83%80%E3%83%BCgoqu%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9%20%7C%20%E3%83%95%E3%83%A5%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E6%8A%80%E8%A1%93%E3%83%96%E3%83%AD%E3%82%B0" rel="nofollow noopener">
        <i></i><span class="social-btn-label">8</span>
      </a>
    </li>
    <!-- Facebook -->
    <li>
      <a class="social-btn fb-btn" target="_blank" href="http://www.facebook.com/share.php?u=https://future-architect.github.io/articles/20210802a/&t=SQL%E3%83%93%E3%83%AB%E3%83%80%E3%83%BCgoqu%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9" rel="nofollow noopener">
        <i></i><span class="social-btn-label">シェア</span>
      </a>
    </li>
    <!-- hatebu -->
    <li>
      <a class="social-btn hatebu-btn" target="_blank" href="https://b.hatena.ne.jp/entry/s/future-architect.github.io/articles/20210802a/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">はてな</span>
      </a>
    </li>
    <!-- pocket -->
    <li>
      <a class="social-btn pocket-btn" target="_blank" href="https://getpocket.com/save?url=https://future-architect.github.io/articles/20210802a/" rel="nofollow noopener">
        <i></i><span class="social-btn-label">Pocket</span>
      </a>
    </li>
    
  </ul>
<!-- シェアボタン END -->

          </section>
          <aside>
            <section class="related-post margin-bottom-40 nav">
              <h2 id="related"><a href="#related" class="headerlink" title="関連記事"></a>関連記事</h2>
              
  <div class="widget">
    <ul class="nav related-post-link"><li class="related-posts-item"><span>2022.11.28</span><span class="snscount">&#9825;365</span><a href=/articles/20221128a/ title="私たちのチームでは、バッチ処理が中心的な業務システム開発において Go の ORM に sqlc を採用しました。素の SQL を書いていくチームの開発方針[^1]とマッチし、開発体験は非常に良かったです。">業務システム開発でsqlcを導入して良かった点とハマった点</a></li><li class="related-posts-item"><span>2021.08.03</span><span class="snscount">&#9825;9</span><a href=/articles/20210803a/ title="こんにちは。2021年4月入社の本田です。本記事では私が当社でアルバイトをしていたときに作成したtwowaysqlというツールについて紹介させていただきます。JavaではuroboroSQLなど広く使われている2WaySQLライブラリが存在しますが、Goでこれがデファクトスタンダートというものは現在のところ存在しません。従って、Go言語でtwowaysqlという2WaySQLライブラリを実装することにしました。">Go言語で2WaySQL</a></li><li class="related-posts-item"><span>2020.03.11</span><span class="snscount">&#9825;563</span><a href=/articles/20200311/ title="Java to Go in-depth tutorialの日本語訳です。原文の著者に許諾を得て翻訳・公開いたします。このチュートリアルは、JavaプログラマーがすばやくGo言語にキャッチアップできるようにすることを目的としています。">JavaプログラマーのためのGo言語入門</a></li><li class="related-posts-item"><span>2019.09.26</span><span class="snscount">&#9825;30</span><a href=/articles/20190926/ title="GoのDBレイヤーライブラリとして有名な、GORM,SQLBoiler,XORMの三つについて違いと評価をまとめてみました。">Go言語のDBレイヤーライブラリの評価</a></li><li class="related-posts-item"><span>2022.05.31</span><span class="snscount">&#9825;5</span><a href=/articles/20220531a/ title="TIG 多賀です。 2022/5/19 に開催された golang.tokyo #32 に登壇しましたので報告させていただきます。「自作ライブラリ、ソフトウェアGo自慢大会」ということで、OSS 活動の一環で作成したfuture-architect/go-twowaysqlについて紹介してきました。">golang.tokyo #32 で go-twowaysql について紹介しました</a></li><li class="related-posts-item"><span>2022.02.14</span><span class="snscount">&#9825;61</span><a href=/articles/20220214a/ title="この記事ではFuzzingについて紹介します。Go1.18から追加されたFuzzingとは">Go1.18から追加されたFuzzingとは</a></li></ul>
  </div>
            </section>
            <section class="reference-post margin-bottom-40 nav">
              
  <div class="card">
    <div id="reference" class="reference-lede"><a href="#reference" class="headerlink" title="参照されている記事"></a>この記事を参照している記事</div>
    <ul class="reference-post-link"><li class="reference-posts-item"><a href=/articles/20210730a/ title="GoのORマッパー連載、折り返して5日目です。SQLBoilerを使用したDBスキーマ駆動なREST APIサーバの開発ワークフローを紹介します。">SQLBoiler（とoapi-codegen）でつくるREST APIサーバ</a></li><li class="reference-posts-item"><a href=/articles/20210726a/ title="7/26（月）～8/3（水）の平日にかけて、GoでRDBに対してアクセスライブラリ（ORMとクエリビルダー）をテーマにした連載を始めます。">GoのORマッパー連載を始めます</a></li></ul>
  </div>
            </section>
          </aside>
        </footer>
      </div>
    </article>
  </main>
  <aside class="col-md-3 blog-sidebar">
    <!-- START SIDEBAR  -->


<section class="toc-section">
  <h2 class="margin-top-30">目次</h2>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#goqu%E3%81%A8%E3%81%AF"><span class="toc-text">goquとは</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F"><span class="toc-text">触ってみた</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E3%82%92%E7%99%BA%E8%A1%8C%E3%81%99%E3%82%8B"><span class="toc-text">SQLを発行する</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E3%81%AEDB%E3%81%AB%E9%81%A9%E3%81%97%E3%81%9FSQL%E3%82%92%E7%99%BA%E8%A1%8C%E3%81%99%E3%82%8B"><span class="toc-text">特定のDBに適したSQLを発行する</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B"><span class="toc-text">SQLを実行する</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%81%BE%E3%81%A8%E3%82%81"><span class="toc-text">まとめ</span></a></li></ol></li></ol>
</section>

<section class="category">
<h2 class="margin-top-30">カテゴリー</h2>
<div class="widget">
  <ul class="nav sidebar-categories margin-bottom-40">
  
  <li class=""><a href="/categories/Programming/">Programming (375)</a></li>
<li class=""><a href="/categories/Infrastructure/">Infrastructure (230)</a></li>
<li class=""><a href="/categories/Culture/">Culture (88)</a></li>
<li class=""><a href="/categories/DataScience/">DataScience (51)</a></li>
<li class=""><a href="/categories/IoT/">IoT (32)</a></li>
<li class=""><a href="/categories/DB/">DB (23)</a></li>
<li class=""><a href="/categories/Business/">Business (21)</a></li>
<li class=""><a href="/categories/%E8%AA%8D%E8%A8%BC%E8%AA%8D%E5%8F%AF/">認証認可 (20)</a></li>
<li class=""><a href="/categories/DevOps/">DevOps (19)</a></li>
<li class=""><a href="/categories/Management/">Management (14)</a></li>
<li class=""><a href="/categories/VR/">VR (12)</a></li>
<li class=""><a href="/categories/Security/">Security (12)</a></li>
<li class=""><a href="/categories/Design/">Design (11)</a></li>

  </ul>
</div>

</section>
<section class="podcast-link">
<h2 class="margin-top-30">Tech Cast</h2>

  <div class="class="widget-wrap">
  <div class="widget">
    <ul class="nav techcast">
      <li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/38-AIAI-e22h1v0" title="フューチャーがお届けするポッドキャストです。#38 AIグループリーダー加藤さんに聞く「AIチームのミッションと展望」" target="_blank" rel="noopener"> #38 AIグループリーダー加藤さんに聞く「AIチームのミッションと展望」</a></li>
<li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/37-e227p84" title="フューチャーがお届けするポッドキャストです。#37 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（後編）" target="_blank" rel="noopener"> #37 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（後編）</a></li>
<li><a href="https://podcasters.spotify.com/pod/show/futuretechcast/episodes/36-e1rdbcu" title="フューチャーがお届けするポッドキャストです。#36 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（前編）" target="_blank" rel="noopener"> #36 自然言語処理を使った文書検索エンジンシステム開発と新規サービス検討（前編）</a></li>
    </ul>
  </div>
  </div>
  
</section>
<section class="advent-calendar">
<h2 class="margin-top-30">アドベントカレンダー</h2>
<div class="widget">
  <ul class="nav-flex">
    <li><a href="http://qiita.com/advent-calendar/2022/future" title="フューチャー Advent Calendar 2022 #Qiita" target="_blank" rel="noopener">2022年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2021/future" title="フューチャー Advent Calendar 2021 #Qiita" target="_blank" rel="noopener">2021年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2020/future" title="フューチャー Advent Calendar 2020 #Qiita" target="_blank" rel="noopener">2020年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2019/future" title="フューチャー Advent Calendar 2019 #Qiita" target="_blank" rel="noopener">2019年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2018/future" title="フューチャー Advent Calendar 2018 #Qiita" target="_blank" rel="noopener">2018年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2017/future" title="フューチャー Advent Calendar 2017 #Qiita" target="_blank" rel="noopener">2017年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2016/future" title="フューチャー Advent Calendar 2016 #Qiita" target="_blank" rel="noopener">2016年</a></li>
    <li><a href="http://qiita.com/advent-calendar/2015/future" title="フューチャー Advent Calendar 2015 #Qiita" target="_blank" rel="noopener">2015年</a></li>
  </ul>
</div>

</section>
<!-- END SIDEBAR -->

  </aside>
</div>

  </section>
</div>

      <!-- BEGIN PRE-FOOTER -->
    <footer>
      <div class="pre-footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>About Us</h2>
              <p>経営とITをデザインする、フューチャーの技術ブログです。業務で利用している幅広い技術について紹介します。<br /><br /><a target="_blank" rel="noopener" href="http://www.future.co.jp/">http://www.future.co.jp/</a></p>
              <div class="social-btn twitter-btn twitter-follow-btn">
                <a href="https://twitter.com/intent/follow?screen_name=future_techblog " target="_blank" rel="nofollow noopener">
                  <i></i><span class="tw-btn-label">フューチャー技術ブログをフォロー</span>
                </a>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-4 pre-footer-col">
              <h2>Contact</h2>
              <address class="margin-bottom-40">
                <a href="https://www.future.co.jp/recruit/recruit/rec-fresh/" title="新卒採用" target="_blank" rel="noopener">新卒採用</a><br>
                <a href="https://www.future.co.jp/recruit/recruit/rec-career/" title="キャリア採用" target="_blank" rel="noopener">キャリア採用</a><br>
                <a href="https://www.future.co.jp/contact_us/" title="お問い合わせページ" target="_blank" rel="noopener">お問い合わせ</a><br>
                <a href="https://www.future.co.jp/architect/socialmediapolicy/" title="ソーシャルメディアポリシー" target="_blank" rel="noopener">メディアポリシー</a><br><br>
                <a href="mailto:techblog@future.co.jp">techblog@future.co.jp</a>
              </address>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6 col-6 pre-footer-col">
              <h2>Contents</h2>
              <a href="https://future-architect.github.io/coding-standards/" title="Future Enterprise Coding Standards" target="_blank" rel="noopener">コーディング規約</a><br>
              <a href="https://future-architect.github.io/typescript-guide/" title="仕事ですぐに使えるTypeScript" target="_blank" rel="noopener">仕事ですぐに使えるTypeScript</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>Event</h2>
              <a href="https://future.connpass.com/" title="経営とITをデザインするフューチャーの勉強会です" target="_blank" rel="noopener">connpass</a><br>
              <a href="https://www.future.co.jp/futureinsightseminar/" title="フューチャーインサイトセミナー" target="_blank" rel="noopener">Webセミナー</a><br>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-3 col-3 pre-footer-col">
              <h2>SNS</h2>
              <a href="https://github.com/future-architect" title="Future's official open source repositories" target="_blank" rel="noopener">GitHub</a><br>
              <a href="https://qiita.com/organizations/future" title="フューチャーのQiita Organizationです" target="_blank" rel="noopener">Qiita</a><br>
              <a href="https://note.future.co.jp/" title="フューチャーの公式note" target="_blank" rel="noopener">未来報</a><br>
              <a href="https://www.youtube.com/channel/UCJUSwYYd0CkGgmEKAW7QVpw" title="フューチャーYoutubeチャネル" target="_blank" rel="noopener">Youtube</a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-sm-6 padding-top-10">
              &copy; 2023 フューチャー技術ブログ<br>
            </div>
          </div>
        </div>
      </div>
    </footer>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X1C28R8H0M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-X1C28R8H0M');
  gtag('config', 'UA-74047147-1'); // 過渡期対応
</script>

  </div>
</body>
</html>
