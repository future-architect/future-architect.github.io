<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æŠ€è¡“ãƒ–ãƒ­ã‚°</title>
  <icon>https://future-architect.github.io/feed_icon.png</icon>
  <subtitle>Future Tech Blog</subtitle>
  <link href="https://future-architect.github.io/atom.xml" rel="self"/>
  
  <link href="https://future-architect.github.io/"/>
  <updated>2022-08-19T01:39:50.568Z</updated>
  <id>https://future-architect.github.io/</id>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>gRPCãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€šä¿¡ã®ç¬¬ä¸€ã®é¸æŠè‚¢ã«ãªã‚‹æ™‚ä»£ãŒã‚„ã£ã¦ããŸã‹ã‚‚ï¼Ÿ</title>
    <link href="https://future-architect.github.io/articles/20220819a/"/>
    <id>https://future-architect.github.io/articles/20220819a/</id>
    <published>2022-08-18T15:00:00.000Z</published>
    <updated>2022-08-19T01:39:50.568Z</updated>
    
    <content type="html"><![CDATA[<p>Go 1.19ãŒ8&#x2F;2ã«æ—©ã€…ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚å€‹äººçš„ã«ã¯Go 1.19ã‚ˆã‚Šã‚‚æ¥½ã—ã¿ã ã£ãŸã®ãŒã€ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã¨IDLï¼ˆã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹è¨˜è¿°è¨€èªï¼‰é€£è¼‰ã®ä¸­ã§ã”ç´¹ä»‹ã—ãŸ<a href="/articles/20220623a/">gRPCã®Goå®Ÿè£…ã®æ–°æ˜Ÿã€Connect</a>ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã—ãŸã€‚ãã—ã¦ãã‚Œã¯ã‚„ã£ã¦ãã¾ã—ãŸã€‚</p><p>è©³ã—ã„å†…å®¹ã¯â†‘ã®è¨˜äº‹ã‚’è¦‹ã¦ã„ãŸã ãã¨ã—ã¦ã€ConnectãŒ<a href="https://buf.build/blog/connect-a-better-grpc">ãã®é–‹ç™ºå…ƒãƒ–ãƒ­ã‚°ã®ç´¹ä»‹è¨˜äº‹</a>ã§å®£è¨€ã—ã¦ã„ãŸã®ãŒæ¬¡ã®2ã¤ã®ã“ã¨ã§ã—ãŸã€‚</p><ul><li>Go 1.19ãŒå‡ºãŸã‚‰connect-goã¯1.0ã«ã—ã¦ä»¥å¾Œå¾Œæ–¹äº’æ›æ€§ã‚’å®ˆã‚‹ã‚ˆ</li><li>connect-webã‚’å‡ºã™ã‚ˆ</li></ul><p>å‰è€…ã¯ã¾ã 0.3ã ã£ãŸã®ã§ã™ãŒã€connect-webã¯ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚æ­´å²ã®ã‚ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯TypeScriptå¯¾å¿œãŒå¾Œä»˜ã‘ã ã£ãŸã‚Šã™ã‚‹ã®ã§ã™ãŒã€TypeScriptãŒãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚·ãƒã‚ºãƒ³ã‹ã¤ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã¨ã„ã†ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãªã®ã§ã€é–‹ç™ºã¯ã‹ãªã‚Šã‚„ã‚Šã‚„ã™ããªã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã¾ã™ã€‚connect-webã®å…¬é–‹ã¯æ•°æ—¥å‰ã§ã—ãŸãŒã€æœ¬å®¶ã®ç´¹ä»‹è¨˜äº‹ã‚‚ã¡ã‚‡ã†ã©ä»Šæ—¥ã€å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚</p><p><a href="https://buf.build/blog/connect-web-protobuf-grpc-in-the-browser">Connect-Web: Itâ€™s time for Protobuf and gRPC to be your first choice in the browser</a></p><p>æœ¬å®¶ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¨ã‹ã‚‚ã¾ã ãªã„çŠ¶æ…‹ã§ã™ãŒã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸã‚‰ç°¡å˜ãã†ã ã£ãŸã®ã§ã€connect-goã¨ã‚»ãƒƒãƒˆã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚</p><p><a href="https://github.com/shibukawa/connect-test">https://github.com/shibukawa/connect-test</a></p><p>å…ƒã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§ã¯Ruby, Python, PHPã«ã‚‚å‡ºã—ã¦ã„ãã‚ˆå®£è¨€ãŒã‚ã‚Šã¾ã—ãŸãŒã€ä»Šå›ã®connect-webã®ãƒ–ãƒ­ã‚°ã«ã¯ã€Node.jsã€Android, iOSã«ã‚‚å‡ºã™ã‚ˆå®£è¨€ãŒã‚ã‚Šã¾ã—ãŸã€‚ã‚ã¨ã€<a href="https://github.com/bufbuild/connect-web/blob/main/packages/connect-web/src/assert-fetch-api.ts#L23">connect-webã®ä¸­ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</a>ã‚’è¦‹ã‚‹ã¨ã€</p><blockquote><p>fetch()ãŒãªã„ã£ã¦ã“ã¨ã¯å¤ã„Node.jsä½¿ã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿconnect-nodeã‚’å¾…ã£ã¦ã¦ï¼</p></blockquote><p>ã¨ã‚ã‚‹ã®ã§ã€ä»Šã§ã‚‚<code>fetch()</code>ã®ã‚ã‚‹Node.js 18ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãªã‚‰å‹•ä½œã—ãã†ã§ã™ã­ã€‚</p><h1 id="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¨åˆæœŸåŒ–"><a href="#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¨åˆæœŸåŒ–" class="headerlink" title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¨åˆæœŸåŒ–"></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¨åˆæœŸåŒ–</h1><p>ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚Goã®æ¨™æº–çš„ãªæ§‹æˆ(ãƒˆãƒƒãƒ—ã«go.modã€cmdãƒ•ã‚©ãƒ«ãƒ€ä»¥ä¸‹ã«ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ)ã«ãƒ—ãƒ©ã‚¹ã—ã¦ã€frontendã¨ã„ã†ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’èµ·ãã¾ã—ãŸã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">connect-test</span><br><span class="line">â”œâ”€â”€ buf.gen.yaml           <span class="comment"># ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®è¨­å®šã€‚ä¿®æ­£å¿…è¦ã€‚</span></span><br><span class="line">â”œâ”€â”€ buf.yaml               <span class="comment"># buf mod initã§ç”Ÿæˆã€‚ã„ã˜ã‚‰ãªã„ã€‚</span></span><br><span class="line">â”œâ”€â”€ cmd</span><br><span class="line">â”‚   â””â”€â”€ connect-test</span><br><span class="line">â”‚       â””â”€â”€ main.go        <span class="comment"># ã‚µãƒ¼ãƒãƒ¼ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ</span></span><br><span class="line">â”œâ”€â”€ frontend               <span class="comment"># ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ•ã‚©ãƒ«ãƒ€(è©³ç´°ã¯çœç•¥</span></span><br><span class="line">â”‚   â”œâ”€â”€ package.json</span><br><span class="line">â”‚   â””â”€â”€ src</span><br><span class="line">â”‚       â””â”€â”€ greet          <span class="comment"># è‡ªå‹•ç”Ÿæˆã§ä½œã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ¼ãƒ‰</span></span><br><span class="line">â”‚           â””â”€â”€ v1</span><br><span class="line">â”‚               â”œâ”€â”€ greet_connectweb.ts</span><br><span class="line">â”‚               â””â”€â”€ greet_pb.ts</span><br><span class="line">â”œâ”€â”€ release.go             <span class="comment"># é™çš„HTMLãƒãƒ³ãƒ‰ãƒ«ç”¨(github.com/shibukawa/frontend-goåˆ©ç”¨)</span></span><br><span class="line">â”œâ”€â”€ gen                    <span class="comment"># è‡ªå‹•ç”Ÿæˆã§ä½œã£ãŸã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰</span></span><br><span class="line">â”‚   â””â”€â”€ greet</span><br><span class="line">â”‚       â””â”€â”€ v1</span><br><span class="line">â”‚           â”œâ”€â”€ greet.pb.go</span><br><span class="line">â”‚           â””â”€â”€ greetv1connect</span><br><span class="line">â”‚               â””â”€â”€ greet.connect.go</span><br><span class="line">â”œâ”€â”€ generate.go            <span class="comment"># go generateã‚’å®šç¾©ã—ãŸã‚³ãƒ¼ãƒ‰</span></span><br><span class="line">â”œâ”€â”€ go.mod</span><br><span class="line">â”œâ”€â”€ go.sum</span><br><span class="line">â”œâ”€â”€ greet                  <span class="comment"># protobufå®šç¾©</span></span><br><span class="line">â”‚   â””â”€â”€ v1</span><br><span class="line">â”‚       â””â”€â”€ greet.proto</span><br><span class="line">â””â”€â”€ server.go              <span class="comment"># ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…</span></span><br></pre></td></tr></table></figure><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆã“ã“ã§ã¯connect-test)ã‚’ä½œã‚Šã€æ¬¡ã®ã‚ˆã†ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚Šã¾ã—ãŸã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯Solid.jsã‚’ä½¿ã£ã¦ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> connect-test</span><br><span class="line">$ go mod init connecttest</span><br><span class="line">$ npx degit solidjs/templates/ts frontend <span class="comment"># Solid.jsã§frontendä½œæˆ</span></span><br></pre></td></tr></table></figure><p>å¿…è¦ãªãƒ„ãƒ¼ãƒ«é¡ã‚’å…¥ã‚Œã¾ã™ã€‚ãƒ¡ã‚¤ãƒ³ã®bufã¨Goç”¨ã®ãƒ„ãƒ¼ãƒ«ã¯Goè£½ãªã®ã§go installã§å…¥ã‚Œã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æ–¹ã¯npmã§é…å¸ƒã•ã‚Œã¦ã„ã‚‹ã®ã§npm installã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ go install github.com/bufbuild/buf/cmd/buf@latest</span><br><span class="line">$ go install google.golang.org/protobuf/cmd/protoc-gen-go@latest</span><br><span class="line">$ go install github.com/bufbuild/connect-go/cmd/protoc-gen-connect-go@latest</span><br><span class="line">$ <span class="built_in">cd</span> frontend</span><br><span class="line">$ npm install --save-dev bufbuild/protoc-gen-connect-web bufbuild/protoc-gen-es</span><br></pre></td></tr></table></figure><h1 id="gRPCã®å®šç¾©ä½œæˆ"><a href="#gRPCã®å®šç¾©ä½œæˆ" class="headerlink" title="gRPCã®å®šç¾©ä½œæˆ"></a>gRPCã®å®šç¾©ä½œæˆ</h1><p>ã“ã“ã§ã¯ã€connect-goã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ã¨ã‚Šã‚ãˆãšãã®ã¾ã¾åˆ©ç”¨ã—ã¾ã—ãŸã€‚go_packageã ã‘ã¯go modã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ã˜ã¾ã‚Šã«ãªã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚</p><figure class="highlight java"><figcaption><span>greet/v1/greet.proto</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">syntax = <span class="string">&quot;proto3&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> greet.v1;</span><br><span class="line"></span><br><span class="line"><span class="type">option</span> <span class="variable">go_package</span> <span class="operator">=</span> <span class="string">&quot;connecttest/gen/greet/v1;greetv1&quot;</span>;</span><br><span class="line"></span><br><span class="line">message GreetRequest &#123;</span><br><span class="line">  <span class="type">string</span> <span class="variable">name</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">message GreetResponse &#123;</span><br><span class="line">  <span class="type">string</span> <span class="variable">greeting</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">service GreetService &#123;</span><br><span class="line">  rpc <span class="title function_">Greet</span><span class="params">(GreetRequest)</span> returns (GreetResponse) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>buf mod init</code>ã‚’å®Ÿè¡Œã—ã¦<code>buf.yaml</code>ã‚’ç”Ÿæˆã—ãŸã‚ã¨ã¯ã€<code>buf.gen.yaml</code>ã‚’è‡ªåˆ†ã§ä½œæˆã—ã¾ã™ã€‚ä¸ŠäºŒã¤ã¯Goã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®ãŸã‚ã®connect-goã®ã‚µãƒ³ãƒ—ãƒ«ã¨åŒã˜ã§ã™ãŒã€ä¸‹ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆç”¨ã®è¨­å®šã§ã™ã€‚å‡ºåŠ›å…ˆã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p><figure class="highlight yaml"><figcaption><span>buf.gen.yaml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">go</span></span><br><span class="line">    <span class="attr">out:</span> <span class="string">gen</span></span><br><span class="line">    <span class="attr">opt:</span> <span class="string">paths=source_relative</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">connect-go</span></span><br><span class="line">    <span class="attr">out:</span> <span class="string">gen</span></span><br><span class="line">    <span class="attr">opt:</span> <span class="string">paths=source_relative</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">es</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">./frontend/node_modules/.bin/protoc-gen-es</span></span><br><span class="line">    <span class="attr">out:</span> <span class="string">frontend/src</span></span><br><span class="line">    <span class="attr">opt:</span> <span class="string">target=ts</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">connect-web</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">./frontend/node_modules/.bin/protoc-gen-connect-web</span></span><br><span class="line">    <span class="attr">out:</span> <span class="string">frontend/src</span></span><br><span class="line">    <span class="attr">opt:</span> <span class="string">target=ts</span></span><br></pre></td></tr></table></figure><p>ã‚ã¨ã¯<code>buf generate</code>ã§ã‚µãƒ¼ãƒãƒ¼ã¨ãƒ•ãƒ­ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p><h1 id="APIã‚µãƒ¼ãƒãƒ¼ã®ä¸­èº«ã®å®Ÿè£…"><a href="#APIã‚µãƒ¼ãƒãƒ¼ã®ä¸­èº«ã®å®Ÿè£…" class="headerlink" title="APIã‚µãƒ¼ãƒãƒ¼ã®ä¸­èº«ã®å®Ÿè£…"></a>APIã‚µãƒ¼ãƒãƒ¼ã®ä¸­èº«ã®å®Ÿè£…</h1><p>ä¸­èº«ã¯connect-goã®ã‚µãƒ³ãƒ—ãƒ«ã¨ã»ã¼åŒã˜ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ããŸ<code>name</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ–‡å­—åˆ—ã‚’ä½œã£ã¦è¿”ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚</p><figure class="highlight go"><figcaption><span>server.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> connecttest</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">greetv1 <span class="string">&quot;connecttest/gen/greet/v1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/bufbuild/connect-go&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> GreetServer <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GreetServer)</span></span> Greet(</span><br><span class="line">ctx context.Context,</span><br><span class="line">req *connect.Request[greetv1.GreetRequest],</span><br><span class="line">) (*connect.Response[greetv1.GreetResponse], <span class="type">error</span>) &#123;</span><br><span class="line">res := connect.NewResponse(&amp;greetv1.GreetResponse&#123;</span><br><span class="line">Greeting: fmt.Sprintf(<span class="string">&quot;Hello, %s!&quot;</span>, req.Msg.Name),</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">return</span> res, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã®ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ã—ã¦ç™»éŒ²ã—ã¦ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p><figure class="highlight go"><figcaption><span>cmd/connect-test/main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line"><span class="string">&quot;os/signal&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/shibukawa/frontend-go&quot;</span></span><br><span class="line"><span class="string">&quot;golang.org/x/net/http2&quot;</span></span><br><span class="line"><span class="string">&quot;golang.org/x/net/http2/h2c&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;connecttest&quot;</span></span><br><span class="line"><span class="string">&quot;connecttest/gen/greet/v1/greetv1connect&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">ctx, stop := signal.NotifyContext(context.Background(), os.Interrupt)</span><br><span class="line"><span class="keyword">defer</span> stop()</span><br><span class="line"></span><br><span class="line">greeter := &amp;connecttest.GreetServer&#123;&#125;</span><br><span class="line">mux := http.NewServeMux()</span><br><span class="line">path, handler := greetv1connect.NewGreetServiceHandler(greeter)</span><br><span class="line">mux.Handle(path, handler)</span><br><span class="line">mux.Handle(<span class="string">&quot;/&quot;</span>, frontend.MustNewSPAHandler(ctx)) <span class="comment">// ğŸ™</span></span><br><span class="line"></span><br><span class="line">server := &amp;http.Server&#123;</span><br><span class="line">Addr:    <span class="string">&quot;:8888&quot;</span>,</span><br><span class="line">Handler: h2c.NewHandler(mux, &amp;http2.Server&#123;&#125;),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">&lt;-ctx.Done()</span><br><span class="line">ctx, cancel := context.WithTimeout(context.Background(), <span class="number">5</span>*time.Second)</span><br><span class="line"><span class="keyword">defer</span> cancel()</span><br><span class="line">server.Shutdown(ctx)</span><br><span class="line">&#125;()</span><br><span class="line">fmt.Println(<span class="string">&quot;start receiving at :8888&quot;</span>)</span><br><span class="line">log.Fatal(server.ListenAndServe())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é–‹ç™ºæ™‚ã«ã¯è£ã§frontendãƒ•ã‚©ãƒ«ãƒ€ã§npm run devã—ã¦é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã§SPAã‚’è¡¨ç¤ºã—ã¦ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã¯go embedã§å–ã‚Šè¾¼ã‚“ã æˆæœç‰©ã®HTML&#x2F;CSS&#x2F;JSã‚’ä½¿ã£ã¦è¡¨ç¤ºã—ã¦ã‚ã’ã‚‹(<a href="https://future-architect.github.io/articles/20210408/">go:embedç´¹ä»‹è¨˜äº‹ã§ã‚„ã£ã¦ã„ã‚‹ã®ã¨åŒç­‰</a>)ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®<a href="https://github.com/shibukawa/frontend-go">github.com&#x2F;shibukawa&#x2F;frontend-go</a>ã¨ã„ã†ã®ã‚’ã“ã®å‰ä½œã£ãŸã®ã§ã€ãã‚Œã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚</p><p>ã¤ã„ã§ã«ãã‚Œã®è¨­å®šç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚‚ä½œæˆã—ã¾ã™ãŒã€ãƒªãƒãƒ—ãƒ­ã„ã‚‰ãªã„ã‚ˆã€ã¨ã„ã†ã“ã¨ã§ã‚ã‚Œã°ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨â†‘ã®ğŸ™ã®è¡Œã‚’æ¶ˆã—ã¦ãã ã•ã„ã€‚</p><figure class="highlight go"><figcaption><span>frontend.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//go:build release</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> connecttest</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;embed&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/shibukawa/frontend-go&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//go:embed frontend/dist/*</span></span><br><span class="line"><span class="keyword">var</span> asset embed.FS</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">frontend.SetFrontAsset(asset, frontend.Opt&#123;</span><br><span class="line">FrameworkType: frontend.SolidJS,</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ã‚µãƒ¼ãƒãƒ¼ã¯å®Œæˆã§ã™ã€‚</p><h1 id="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä½œæˆ"><a href="#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä½œæˆ" class="headerlink" title="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä½œæˆ"></a>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä½œæˆ</h1><p>connect-webã§ä½œæˆã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ã¾ãšãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãã‚Œã‚’æ¸¡ã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ã¨ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¹ã°ã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã¾ã™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  createConnectTransport,</span><br><span class="line">  createPromiseClient,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;@bufbuild/connect-web&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">GreetService</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;./greet/v1/greet_connectweb&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆä½œæˆ</span></span><br><span class="line"><span class="keyword">const</span> transport = <span class="title function_">createConnectTransport</span>(&#123;</span><br><span class="line">  <span class="attr">baseUrl</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ</span></span><br><span class="line"><span class="keyword">const</span> client = <span class="title function_">createPromiseClient</span>(<span class="title class_">GreetService</span>, transport);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ã‚µãƒ¼ãƒãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> client.<span class="title function_">greet</span>(&#123;<span class="attr">name</span>: <span class="string">&quot;åå‰&quot;</span>&#125;);</span><br></pre></td></tr></table></figure><p>ã“ã®çŠ¶æ…‹ã§ã¯ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®connectãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã®é€šä¿¡ã«ãªã‚Šã¾ã™ã€‚ãªãŠã€<code>createConnectTransport()</code>ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã€ãƒã‚¤ãƒŠãƒªå½¢å¼ãŒé¸ã¹ãŸã‚Šã€ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼ã®è¨­å®šãŒã§ããŸã‚Šã€ã„ã‚ã„ã‚ã§ãã¾ã™ã€‚ãªãŠã€ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚’å¤–ã—ãŸå ´åˆã¯<code>baseUrl</code>ã¯<code>http://localhost:3000</code>ã¨ã‹ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã‚‹ã¨<code>createGrpcWebTransport()</code>ã¨ã„ã†ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆä½œæˆã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã‚‚ã‚ã‚Šã€ã“ã‚Œã‚’ä½¿ã†ã¨ç´”æ­£ã®gRPC-Webãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®é€šä¿¡ã«ãªã£ã¦ãã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚</p><p>ã¾ãŸã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ã„ã¾ã©ãä½¿ã†ã“ã¨ã¯ãªã„ã¨æ€ã„ã¾ã™ãŒã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚‚ã®ã‚’ä½œæˆã™ã‚‹<code>createCallbackClient()</code>ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><p>æœ€çµ‚ç³»ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Solid.jsã§ã¯ã‚µãƒ¼ãƒãƒ¼é€šä¿¡ã¯<code>createResource()</code>ã§ãƒ©ãƒƒãƒ—ã—ã¦ä½¿ã„ã¾ã™ãŒã€ã“ã®ä¸­ã§ã¯asyncé–¢æ•°ã‚’æ¸¡ã›ã°è‰¯ã„ã®ã§ã€connect-webã§ç”Ÿæˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã¯ã°ã£ã¡ã‚Šæ´»ç”¨ã§ãã¾ã™ã€‚</p><figure class="highlight tsx"><figcaption><span>App.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  createSignal,</span><br><span class="line">  createResource,</span><br><span class="line">  <span class="title class_">Component</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;solid-js&#x27;</span>;</span><br><span class="line"></span><br><span class="line">(ã“ã“ã«ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã‚‹)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> client.<span class="title function_">greet</span>(&#123;name&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span>: <span class="title class_">Component</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [name, setName] = <span class="title function_">createSignal</span>(<span class="string">&quot;bob&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> [greet] = <span class="title function_">createResource</span>(name, greeter);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#123;styles.App&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&#123;styles.header&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">placeholder</span>=<span class="string">&quot;åå‰ã‚’å…¥ã‚Œã¦ã­&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onInput</span>=<span class="string">&#123;(e)</span> =&gt;</span> setName(e.currentTarget.value)&#125;</span></span><br><span class="line"><span class="language-xml">        /&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>greeting: &#123;greet()?.greeting&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure><img src="/images/20220819a/image.png" alt="image.png" width="1200" height="792" loading="lazy"><p>ã“ã‚Œã ã‘ã§ã€åå‰ã‚’å…¥ã‚ŒãŸã‚‰ã‚µãƒ¼ãƒãƒ¼ã§æŒ¨æ‹¶æ–‡ã‚’ç”Ÿæˆã—ã¦è¿”ã—ã€ãã‚Œã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒã§ãã¾ã—ãŸã€‚</p><p>ä»Šå›ã®ä¾‹ã¯ä½¿ã£ã¦ã¿ãŸã‹ã£ãŸã®ã§Solid.jsã‚’ä½¿ã„ã¾ã—ãŸãŒã€Reactãƒ¦ãƒ¼ã‚¶ãƒ¼ã§<code>useSWR()</code>ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ãªã‚‰ãŸã¶ã‚“ã“ã†ã™ã‚‹ã“ã¨ã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚SWRã¯æœ€åˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆæ–‡å­—åˆ—ã‹æ–‡å­—åˆ—ã®é…åˆ—ï¼‰ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€<code>fetcher</code>ã®ä¸­ã§ã¯ä¸è¦ãª(ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒæŒã£ã¦ãã‚Œã¦ã„ã‚‹)ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®åå‰ã‚’ã‚ãˆã¦<code>useSWR()</code>ã®å¼•æ•°ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetcher</span>(<span class="params">key: <span class="built_in">string</span>, name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> client.<span class="title function_">greet</span>(&#123;name&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; data, error &#125; = <span class="title function_">useSWR</span>([<span class="title class_">GreetService</span>.<span class="property">methods</span>.<span class="property">greet</span>.<span class="property">name</span>, name], fetcher)</span><br></pre></td></tr></table></figure><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>connect-goã®ã¨ãã‚‚ãã†ã§ã—ãŸãŒã€ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã®åˆ†é‡ãŒã‹ãªã‚Šå°‘ãªãã¦ç†è§£ã—ã‚„ã™ã„ã®ã§ã€ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã«è²¬ä»»ã‚’æŒã£ã¦ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã®ãŒã‚„ã‚Šã‚„ã™ãã†ã§ã„ã„ã§ã™ã­ã€‚ã¾ãŸã€gRPCã¯OpenAPIã®yamlã‚ˆã‚Šã‚‚ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«æ›¸ã‘ã‚‹ã—ã€ã‚‚ã¡ã‚ã‚“ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚‚ã‚µãƒ¼ãƒãƒ¼ã‚‚å‹ãƒã‚§ãƒƒã‚¯ãŒã°ã£ã¡ã‚ŠåŠ¹ã„ã¦ã„ã„æ„Ÿã˜ã§ã™ã€‚ã“ã‚Œã§ã‚ã‚Œã°ã€OpenAPIã®ã¨ãã¿ãŸã„ã«ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã„ã˜ã‚Šå‡ºã—ãŸã‚Šã€ã¨ã„ã†ã®ã‚‚å½“é¢ã¯ä¸è¦ãªæ°—ãŒã—ã¾ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Go 1.19ãŒ8&amp;#x2F;2ã«æ—©ã€…ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚å€‹äººçš„ã«ã¯Go 1.19ã‚ˆã‚Šã‚‚æ¥½ã—ã¿ã ã£ãŸã®ãŒã€ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã¨IDLï¼ˆã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹è¨˜è¿°è¨€èªï¼‰é€£è¼‰ã®ä¸­ã§ã”ç´¹ä»‹ã—ãŸ&lt;a</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰" scheme="https://future-architect.github.io/tags/%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89/"/>
    
    <category term="gRPC" scheme="https://future-architect.github.io/tags/gRPC/"/>
    
  </entry>
  
  <entry>
    <title>Macã®VPNã‚’ã‚³ãƒãƒ³ãƒ‰ã§ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚ˆã†</title>
    <link href="https://future-architect.github.io/articles/20220818a/"/>
    <id>https://future-architect.github.io/articles/20220818a/</id>
    <published>2022-08-17T15:00:00.000Z</published>
    <updated>2022-08-18T01:22:57.281Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>è¤‡æ•°ã®VPNã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹éš›ã«ã€èªè¨¼æƒ…å ±(Username, Password)ã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ãŒé¢å€’ã§ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’é–“é•ãˆã‚‹ã¨ã€å†åº¦å…¥åŠ›ã—ãªã„ã¨ã„ã‘ãªããªã‚Šã€ã‚ãšã‹ã§ã‚ã‚ŠãªãŒã‚‰ã‚‚ã€ä»•äº‹ã™ã‚‹ä¸­ã®å°ã•ãªã‚¹ãƒˆãƒ¬ã‚¹ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚</p><p>ä»Šå›ã¯ã€ã‚³ãƒãƒ³ãƒ‰ã§ã‚¹ãƒ ãƒ¼ã‚ºã«è¤‡æ•°ã®VPNã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚<br>ã‚³ãƒãƒ³ãƒ‰ã‚’ç´¹ä»‹ã™ã‚‹å‰ã«ã€ãªãœè¤‡æ•°VPNã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ã‚’è©±ã—ã¾ã™ã€‚</p><h1 id="åˆ‡ã‚Šæ›¿ãˆã¦ã„ã‚‹VPN"><a href="#åˆ‡ã‚Šæ›¿ãˆã¦ã„ã‚‹VPN" class="headerlink" title="åˆ‡ã‚Šæ›¿ãˆã¦ã„ã‚‹VPN"></a>åˆ‡ã‚Šæ›¿ãˆã¦ã„ã‚‹VPN</h1><p>ç­†è€…ã¯æ™®æ®µã‹ã‚‰ã€é–‹ç™ºã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’Githubã«ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸã‚Šã€DBã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã—ã¾ã™ã€‚</p><p>Githubã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ç¤¾å†…VPNã€DBã«ã¯åˆ¥ã®VPNã«æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><p>ç¤¾å†…VPNã‹ã‚‰DBæ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã„ã„ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¾ã™ãŒã€ç¤¾å†…VPNã‹ã‚‰é¡§å®¢ã‚·ã‚¹ãƒ†ãƒ DBã«æ¥ç¶šã§ãã‚‹ã¨ã€é–¢ä¿‚è€…ä»¥å¤–ã®ç¤¾å“¡ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã—ã¾ã„ã¾ã™ã®ã§ã€ã¾ãšã„è©±ã§ã™ã€‚</p><p>ç¤¾å†…VPNã¯Cisco AnyConnectã§æ¥ç¶šã—ã€DBæ¥ç¶šç”¨VPNã¯MacOSæ¨™æº–ã®VPNæ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p><h2 id="ç¤¾å†…VPN-Cisco-AnyConnect"><a href="#ç¤¾å†…VPN-Cisco-AnyConnect" class="headerlink" title="ç¤¾å†…VPN (Cisco AnyConnect)"></a>ç¤¾å†…VPN (Cisco AnyConnect)</h2><p>Ciscoç¤¾ã®AnyConnectã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p><p>æ¥ç¶šã™ã‚‹ãŸã‚ã«ã€AnyConnectã‚’é–‹ãã€æ¥ç¶šå…ˆã‚’é¸æŠã—ã¾ã™ã€‚</p><img src="/images/20220818a/Screen_Shot_2022-06-19_at_16.02.47.png" alt="" width="425" height="516" loading="lazy"><p>System keychainã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒæ±‚ã‚ã‚‰ã‚Œã€Username ã¨ Password ã‚’å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚(é¢å€’)</p><img src="/images/20220818a/Screen_Shot_2022-06-19_at_15.33.36_1.png" alt="Screen_Shot_2022-06-19_at_15.33.36_1.png" width="430" height="214" loading="lazy"><p>ã•ã‚‰ã«ã€Cisco Anyconnect ã‹ã‚‰ã‚‚ Username ã¨ Password ã‚’æ±‚ã‚ã‚‰ã‚Œã€å†åº¦å…¥åŠ›ã—ã¾ã™ã€‚</p><img src="/images/20220818a/Screen_Shot_2022-06-19_at_15.34.26.png" alt="" width="465" height="194" loading="lazy"><p>ã“ã“ã¾ã§ã§ãã¦ã€ã‚„ã£ã¨ç¤¾å†…VPNã«ç¹‹ãŒã‚Šã¾ã™ã€‚<br>1æ—¥ã®ã¯ã˜ã‚ã«ã€Macèµ·å‹•å¾Œã«1å›ã ã‘ã“ã®ä½œæ¥­ã‚’ã‚„ã‚‹ã®ã§ã‚ã‚Œã°ã€ã¾ã æˆ‘æ…¢ãŒã§ãã¾ã™ã€‚<br>ãŸã ã€1æ—¥ã«ä½•å›ã‚‚DBæ¥ç¶šã™ã‚‹å ´é¢ãŒã‚ã£ãŸã‚Šã™ã‚‹ã®ã§ã€Cisco AnyConnect ã‚‚ä½•å›ã‚‚æ¥ç¶š&#x2F;åˆ‡æ–­ã™ã‚‹ç¾½ç›®ã«ãªã‚Šã¾ã™ã€‚</p><h2 id="DBæ¥ç¶šç”¨VPN"><a href="#DBæ¥ç¶šç”¨VPN" class="headerlink" title="DBæ¥ç¶šç”¨VPN"></a>DBæ¥ç¶šç”¨VPN</h2><p>DBæ¥ç¶šç”¨VPNã¯Cisco AnyConnectã‚’ä½¿ã‚ãšã€MacOSæ¨™æº–ã®VPNæ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚<br>(System Preferences &gt; Network ã‹ã‚‰è¨­å®šã™ã‚‹VPN)</p><img src="/images/20220818a/Screen_Shot_2022-06-19_at_15.50.11.png" alt="" width="658" height="630" loading="lazy"><p>â†‘ã®ã‚ˆã†ã«ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šç”»é¢ã‹ã‚‰æ¥ç¶š&#x2F;åˆ‡æ–­ã§ãã¾ã™ãŒã€<br>â†“ã®ã‚ˆã†ã«ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«VPNã‚¢ã‚¤ã‚³ãƒ³é…ç½®ã—ã¦ã€VPNã®æ¥ç¶š&#x2F;åˆ‡æ–­ã‚‚ã§ãã¾ã™ã€‚</p><img src="/images/20220818a/Screen_Shot_2022-06-19_at_16.25.52.png" alt="" width="330" height="236" loading="lazy"><h1 id="VPNã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"><a href="#VPNã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰" class="headerlink" title="VPNã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"></a>VPNã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰</h1><p>ä¸Šã§èª¬æ˜ã—ãŸVPNåˆ‡ã‚Šæ›¿ãˆæ“ä½œã¯ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã§ã‚‚å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ Cisco VPN ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</p><figure class="highlight sh"><figcaption><span>ciscovpn.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disconnet VPN</span></span><br><span class="line">scutil --nc stop <span class="variable">$&#123;VPN&#125;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connect Cisco AnyConnect</span></span><br><span class="line">/opt/cisco/anyconnect/bin/vpn -s  &lt; ~/.vpn/CISCO_VPN.cre connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br></pre></td></tr></table></figure><p>ã¾ãŸã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€æ¨™æº–æ©Ÿèƒ½VPNã«æ¥ç¶šã§ãã¾ã™ã€‚</p><figure class="highlight sh"><figcaption><span>vpn.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disconnect Cisco AnyConnect</span></span><br><span class="line">/opt/cisco/anyconnect/bin/vpn -s disconnect;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connet VPN</span></span><br><span class="line">secret=`<span class="built_in">cat</span> ~/.vpn/vpn`;</span><br><span class="line">scutil --nc start <span class="variable">$&#123;VPN&#125;</span> --secret <span class="variable">$&#123;secret&#125;</span>;</span><br><span class="line"><span class="built_in">unset</span> secret;</span><br></pre></td></tr></table></figure><p>ã§ã¯ã“ã“ã‹ã‚‰ã€ãã‚Œãã‚Œã®VPNã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’è§£èª¬ã—ã¾ã™ã€‚</p><h2 id="Cisco-VPN-ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"><a href="#Cisco-VPN-ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰" class="headerlink" title="Cisco VPN ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"></a>Cisco VPN ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰</h2><p>æ¨™æº–æ©Ÿèƒ½VPNã‚’åˆ‡æ–­ã—ã¦ã€Cisco VPNã«æ¥ç¶šã—ã¾ã™ã€‚</p><figure class="highlight sh"><figcaption><span>ciscovpn.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disconnet VPN</span></span><br><span class="line">scutil --nc stop <span class="variable">$&#123;VPN&#125;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connect Cisco AnyConnect</span></span><br><span class="line">/opt/cisco/anyconnect/bin/vpn -s  &lt; ~/.vpn/CISCO_VPN.cre connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br></pre></td></tr></table></figure><p><code>scutil</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ç’°å¢ƒå¤‰æ•° <code>VPN</code> ã§æŒ‡å®šã—ãŸæ¨™æº–æ©Ÿèƒ½VPNã‚’åˆ‡æ–­ã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scutil --nc stop <span class="variable">$&#123;VPN&#125;</span>;</span><br></pre></td></tr></table></figure><p>æ¬¡ã«<code>vpn</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ç’°å¢ƒå¤‰æ•°<code>CISCO_VPN</code>ã§æŒ‡å®šã—ãŸCisco VPNã«æ¥ç¶šã—ã¾ã™ã€‚<br>Usernameã€Passwordã¨ç¢ºèªã®å…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã®ã§ã€å…¥åŠ›ã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ /opt/cisco/anyconnect/bin/vpn -s connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br><span class="line">  &gt;&gt; Please enter your username and password.</span><br><span class="line"></span><br><span class="line">Username:</span><br><span class="line">Password:</span><br><span class="line">accept? [y/n]: y</span><br><span class="line">  &gt;&gt; state: Connecting</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æ¯åº¦å…¥åŠ›ã™ã‚‹ã®ãŒé¢å€’ãªã®ã§ã€Usernameã€Passwordã¨ç¢ºèªã®å…¥åŠ›(Yesã®)yãŒæ›¸ãè¾¼ã¾ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Username</span><br><span class="line">Password</span><br><span class="line">y</span><br></pre></td></tr></table></figure><p>ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ä½¿ã£ã¦æ¨™æº–å…¥åŠ›ã®å…¥åŠ›å…ƒã¨ã—ã¦ã€ã“ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã‚ã’ã‚‹ã¨ã€Usernameã€Passwordã¨ç¢ºèªã®å…¥åŠ›ã‚’æ‰‹å…¥åŠ›ã—ãªãã¦æ¸ˆã¿ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /opt/cisco/anyconnect/bin/vpn -s  &lt; ~/.vpn/CISCO_VPN.cre connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br></pre></td></tr></table></figure><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³<code>AnyConnect</code>ã‚’èµ·å‹•ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã€<code>vpn</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ€’ã‚‰ã‚Œã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ /opt/cisco/anyconnect/bin/vpn -s  &lt; ~/.vpn/CISCO_VPN.cre connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br><span class="line">...</span><br><span class="line">  &gt;&gt; error: Connect not available. Another AnyConnect application is running</span><br><span class="line">or this functionality was not requested by this application.</span><br><span class="line">VPN&gt;</span><br></pre></td></tr></table></figure><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³<code>Anyconnet</code>ã‚’é–‰ã˜ã¦ã€å†åº¦å®Ÿè¡Œã™ã‚‹ã¨ã€ç„¡äº‹ã«æ¥ç¶šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ /opt/cisco/anyconnect/bin/vpn -s  &lt; ~/.vpn/CISCO_VPN.cre connect <span class="variable">$&#123;CISCO_VPN&#125;</span>;</span><br><span class="line">...</span><br><span class="line">!!!!!!!!!!!  WARNING  !!!!!!!!!!!</span><br><span class="line">This is a private system.</span><br><span class="line">Unauthorized access is prohibited by law.</span><br><span class="line">Violators may be prosecuted.</span><br><span class="line">If you are not authorized to access this system,</span><br><span class="line">please disconnect now.</span><br><span class="line"></span><br><span class="line">!!!!!!!!!!!  NOTICE  !!!!!!!!!!!</span><br><span class="line">When browsing the Web via WebProxy,</span><br><span class="line">user authentication is absolutely necessary.</span><br><span class="line">Please enter user ID and password on the authentication</span><br><span class="line">screen without adding <span class="string">&quot;xxxxxx&quot;</span>.</span><br><span class="line"></span><br><span class="line">  &gt;&gt; state: Connecting</span><br><span class="line">  &gt;&gt; notice: Establishing VPN session...</span><br><span class="line">  &gt;&gt; notice: The AnyConnect Downloader is performing update checks...</span><br><span class="line">  &gt;&gt; notice: Checking <span class="keyword">for</span> profile updates...</span><br><span class="line">  &gt;&gt; notice: Checking <span class="keyword">for</span> product updates...</span><br><span class="line">  &gt;&gt; notice: Checking <span class="keyword">for</span> customization updates...</span><br><span class="line">  &gt;&gt; notice: Performing any required updates...</span><br><span class="line">  &gt;&gt; notice: The AnyConnect Downloader updates have been completed.</span><br><span class="line">  &gt;&gt; state: Connecting</span><br><span class="line">  &gt;&gt; notice: Establishing VPN session...</span><br><span class="line">  &gt;&gt; notice: Establishing VPN - Initiating connection...</span><br><span class="line">  &gt;&gt; notice: Establishing VPN - Examining system...</span><br><span class="line">  &gt;&gt; notice: Establishing VPN - Activating VPN adapter...</span><br><span class="line">  &gt;&gt; notice: Establishing VPN - Configuring system...</span><br><span class="line">  &gt;&gt; notice: Establishing VPN...</span><br><span class="line">  &gt;&gt; state: Connected</span><br></pre></td></tr></table></figure><h2 id="æ¨™æº–æ©Ÿèƒ½VPNã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"><a href="#æ¨™æº–æ©Ÿèƒ½VPNã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰" class="headerlink" title="æ¨™æº–æ©Ÿèƒ½VPNã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰"></a>æ¨™æº–æ©Ÿèƒ½VPNã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰</h2><p>ä»Šåº¦ã¯<code>Cisco VPN</code>ã‚’åˆ‡æ–­ã—ã¦ã€<code>æ¨™æº–æ©Ÿèƒ½VPN</code>ã«æ¥ç¶šã™ã‚‹ã®ã§ã€ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã¨é€†ã®ã“ã¨ã‚’ã‚„ã£ã¦ã„ã¾ã™ã€‚</p><figure class="highlight sh"><figcaption><span>vpn.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disconnect Cisco AnyConnect</span></span><br><span class="line">/opt/cisco/anyconnect/bin/vpn -s disconnect;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connet VPN</span></span><br><span class="line">secret=`<span class="built_in">cat</span> ~/.vpn/vpn`;</span><br><span class="line">scutil --nc start <span class="variable">$&#123;VPN&#125;</span> --secret <span class="variable">$&#123;secret&#125;</span>;</span><br><span class="line"><span class="built_in">unset</span> secret;</span><br></pre></td></tr></table></figure><p><code>vpn</code>ã‚³ãƒãƒ³ãƒ‰ã§ã€<code>Cisco VPN</code>ã‚’åˆ‡æ–­ã—ã¾ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ /opt/cisco/anyconnect/bin/vpn -s disconnect;</span><br><span class="line">Cisco AnyConnect Secure Mobility Client (version 4.10.04071) .</span><br><span class="line"></span><br><span class="line">Copyright (c) 2004 - 2021 Cisco Systems, Inc.  All Rights Reserved.</span><br><span class="line"></span><br><span class="line">  &gt;&gt; state: Connected</span><br><span class="line">  &gt;&gt; state: Connected</span><br><span class="line">  &gt;&gt; registered with local VPN subsystem.</span><br><span class="line">  &gt;&gt; state: Disconnecting</span><br><span class="line">  &gt;&gt; notice: Disconnect in progress, please wait...</span><br><span class="line">  &gt;&gt; state: Connected</span><br><span class="line">  &gt;&gt; notice: Connected to XXXXXX.</span><br><span class="line">  &gt;&gt; state: Disconnecting</span><br><span class="line">  &gt;&gt; notice: Disconnect in progress, please wait...</span><br><span class="line">  &gt;&gt; state: Disconnecting</span><br><span class="line">  &gt;&gt; state: Disconnected</span><br><span class="line">  &gt;&gt; notice: Ready to connect.</span><br><span class="line">VPN&gt;</span><br></pre></td></tr></table></figure><p><code>scutil</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ç’°å¢ƒå¤‰æ•°<code>VPN</code>ã§æŒ‡å®šã—ãŸ<code>æ¨™æº–æ©Ÿèƒ½VPN</code>ã«æ¥ç¶šã™ã‚‹éš›ã«ã€äº‹å‰å…±æœ‰éµãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚<br>ãã®ãŸã‚ã€éµæƒ…å ±ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¦ã€ç’°å¢ƒå¤‰æ•°<code>secret</code>ã¨ã—ã¦èª­ã¿è¾¼ã‚“ã ä¸Šã§ã€å®Ÿè¡Œã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">secret=`<span class="built_in">cat</span> ~/.vpn/vpn`;</span><br><span class="line">scutil --nc start <span class="variable">$&#123;VPN&#125;</span> --secret <span class="variable">$&#123;secret&#125;</span>;</span><br><span class="line"><span class="built_in">unset</span> secret;</span><br></pre></td></tr></table></figure><h1 id="VPNåˆ‡ã‚Šæ›¿ãˆã‚³ãƒãƒ³ãƒ‰å°å…¥ã®åŠ¹æœ"><a href="#VPNåˆ‡ã‚Šæ›¿ãˆã‚³ãƒãƒ³ãƒ‰å°å…¥ã®åŠ¹æœ" class="headerlink" title="VPNåˆ‡ã‚Šæ›¿ãˆã‚³ãƒãƒ³ãƒ‰å°å…¥ã®åŠ¹æœ"></a>VPNåˆ‡ã‚Šæ›¿ãˆã‚³ãƒãƒ³ãƒ‰å°å…¥ã®åŠ¹æœ</h1><p>ã‚³ãƒãƒ³ãƒ‰ã‚’å°å…¥ã—ãŸã“ã¨ã§ã€ã©ã®ç¨‹åº¦ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‹ã€æ™‚åˆ»ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿéš›ã®å‡¦ç†æ™‚é–“ã‚’æ¸¬ã£ã¦ã¿ã¾ã™ã€‚<br>MacOSã ã¨ã€æ¨™æº–ã®æ™‚åˆ»ã‚³ãƒãƒ³ãƒ‰ date ã¯ç§’ã¾ã§ã—ã‹æŒ‡å®šã§ããªã„ã®ã§ã€ä»£ã‚ã‚Šã«ãƒŠãƒç§’ã‚’æŒ‡å®šã§ãã‚‹ gdate ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€è¨ˆæ¸¬ã—ã¾ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ start=`gdate +%s.%N`</span><br><span class="line"></span><br><span class="line"># è¨ˆæ¸¬ã™ã‚‹å‡¦ç†</span><br><span class="line"></span><br><span class="line">+ finish=`gdate +%s.%N`</span><br><span class="line">+ diff=$( echo &quot;$finish - $start&quot; | bc -l )</span><br><span class="line">+ echo &#x27;execution time:&#x27; $diff</span><br></pre></td></tr></table></figure><p>è¨ˆæ¸¬ã—ãŸçµæœã€Cisco AnyConnect ã«æ¥ç¶šã™ã‚‹ ciscovpn.sh ã¯ ç´„2.3ç§’</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution time: 2.335424000</span><br></pre></td></tr></table></figure><p>VPNã«æ¥ç¶šã™ã‚‹ vpn.sh ã¯ç´„ 0.8ç§’ã¨ãªã‚Šã¾ã—ãŸã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution time: .785082000</span><br></pre></td></tr></table></figure><p>é€šå¸¸ã®æ‰‹å‹•ã§ã™ã¨ã€VPNã®åˆ‡ã‚Šæ›¿ãˆã«10ç§’ç¨‹åº¦ã¯ã‹ã‹ã‚‹ã“ã¨ã¨æ¯”ã¹ã¦ã€2ç§’ç¨‹åº¦ã§åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€VPNã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚<br>ã¾ãŸã€æ‰‹å‹•ã«ã‚ˆã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›é–“é•ã„ãªã©ã‚‚ãªããªã‚Šã€å°ã•ã„ãªãŒã‚‰ã‚‚ã‚¹ãƒˆãƒ¬ã‚¹è»½æ¸›ã«ç¹‹ãŒã£ã¦ã„ã¾ã™ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ä»Šå›ã¯Macã§ã®VPNåˆ‡ã‚Šæ›¿ãˆã‚³ãƒãƒ³ãƒ‰ã‚’ç´¹ä»‹ã—ã¾ã—ãŸãŒã€Windowsã§ã‚‚åŒæ§˜ã«VPNã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>ãƒã‚¦ã‚¹æ“ä½œã‚ˆã‚Šã‚‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã‚„ã‚³ãƒãƒ³ãƒ‰æ“ä½œã«ç§»è¡Œã™ã‚‹ã“ã¨ã§ã€1ã¤åŠ¹ç‡åŒ–ã‚’å›³ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚<br>æ¯æ—¥ã‚„ã£ã¦ã„ã‚‹å˜ç´”ä½œæ¥­ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè€ƒãˆã‚‹ã“ã¨ã«é›†ä¸­ã—ã¦ã€çŸ¥çš„ç”Ÿç”£æ€§ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;è¤‡æ•°ã®VPNã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹éš›ã«ã€èªè¨¼æƒ…å ±(Username,</summary>
        
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ShellScript" scheme="https://future-architect.github.io/tags/ShellScript/"/>
    
    <category term="VPN" scheme="https://future-architect.github.io/tags/VPN/"/>
    
    <category term="Mac" scheme="https://future-architect.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Next.jså…¬å¼ã®MDXãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã€Markdownã§ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹æ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ãŸ</title>
    <link href="https://future-architect.github.io/articles/20220816a/"/>
    <id>https://future-architect.github.io/articles/20220816a/</id>
    <published>2022-08-15T15:00:00.000Z</published>
    <updated>2022-08-16T01:41:35.205Z</updated>
    
    <content type="html"><![CDATA[<p>ãŠå®¢æ§˜ã¨ä¸€ç·’ã«Next.jsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¼ªèª­ä¼šã‚’ã‚„ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãã®ä¸­ã§åˆã‚ã¦çŸ¥ã£ãŸæ©Ÿèƒ½ãŒMDXã¨ã„ã†ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã§ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚</p><p><a href="https://nextjs.org/docs/advanced-features/using-mdx">https://nextjs.org/docs/advanced-features/using-mdx</a></p><p>åˆ©ç”¨è¦ç´„ã¨ã‹ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®ãƒšãƒ¼ã‚¸ã€ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸ã®ä½œæˆã¨ã‹ã€Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚è¡¨ç¤ºã§ãã‚‹ã®ã§ã€StorybookãŒã‚ã‚Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚«ã‚¿ãƒ­ã‚°ã‚’ä½œã‚‹ã®ã«ä¾¿åˆ©ãã†ã¨ã„ã†è©±ã«ãªã£ãŸã®ã§ã€ã¡ã‚‡ã£ã¨è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚</p><h1 id="è¨­å®šæ–¹æ³•"><a href="#è¨­å®šæ–¹æ³•" class="headerlink" title="è¨­å®šæ–¹æ³•"></a>è¨­å®šæ–¹æ³•</h1><p>ä¸Šè¨˜ã®ãƒšãƒ¼ã‚¸ã«å…¨éƒ¨æ›¸ã„ã¦ã‚ã‚‹ã®ã§ãã¡ã‚‰ã‚’è¦‹ã‚‹ã¨è‰¯ã„ã®ã§ã™ãŒã€è»½ãæ‰‹é †ã ã‘æ›¸ã„ã¦ãŠãã¾ã™ã€‚èª¬æ˜ã‚’ã™ã‚‹ãŸã‚ã€ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€Œã“ã‚Œã ã‘ã®æ‰‹é–“ãªã‚‰ã‚„ã£ã¦ã‚‚ã„ã„ã‹ãªã€ã¨èˆˆå‘³ã‚’ã‚‚ã£ã¦ã‚‚ã‚‰ã†ãŸã‚ã®èª¬æ˜ãªã®ã§å®Ÿéš›ã«ä½œæ¥­ã‚’ã™ã‚‹å ´åˆã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æœ€æ–°æƒ…å ±ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><p>ã¾ãšã¯å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install @next/mdx @mdx-js/loader</span><br></pre></td></tr></table></figure><p>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‘ã—æ›¸ãæ›ãˆã¾ã™ã€‚Next.jsã§ã‚¼ãƒ­ã‹ã‚‰ä½œã£ãŸnext.config.jsã«æ›¸ãåŠ ãˆã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚‹ã‹ã¨ã€‚</p><figure class="highlight js"><figcaption><span>next.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">import(&#x27;next&#x27;).NextConfig</span>&#125; */</span></span><br><span class="line"><span class="keyword">const</span> nextConfig = &#123;</span><br><span class="line">  <span class="attr">reactStrictMode</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">swcMinify</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// â†“ã“ã®è¡Œã‚’è¿½åŠ </span></span><br><span class="line">  <span class="attr">pageExtensions</span>: [<span class="string">&#x27;ts&#x27;</span>, <span class="string">&#x27;tsx&#x27;</span>, <span class="string">&#x27;js&#x27;</span>, <span class="string">&#x27;jsx&#x27;</span>, <span class="string">&#x27;md&#x27;</span>, <span class="string">&#x27;mdx&#x27;</span>],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// â†“ã“ã‚Œä»¥ä¸‹ã‚’è¿½åŠ </span></span><br><span class="line"><span class="keyword">const</span> withMDX = <span class="built_in">require</span>(<span class="string">&#x27;@next/mdx&#x27;</span>)(&#123;</span><br><span class="line">  <span class="attr">extension</span>: <span class="regexp">/\.mdx?$/</span>,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">remarkPlugins</span>: [],</span><br><span class="line">    <span class="attr">rehypePlugins</span>: [],</span><br><span class="line">    <span class="comment">// `MDXProvider`ã‚’ä½¿ã†å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã™ã“ã¨</span></span><br><span class="line">    <span class="comment">// providerImportSource: &quot;@mdx-js/react&quot;,</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">withMDX</span>(nextConfig)</span><br></pre></td></tr></table></figure><p>Next.jså…¬å¼æ©Ÿèƒ½ã§ã¯ã‚ã‚Šã¾ã™ãŒã€åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p>markdownã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚„ã€HTMLå‡¦ç†ã‚’è¡Œã†rehypeã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚è¨­å®šã§ãã€ã„ã‚ã„ã‚ãªæ›¸ãæ–¹ã‚’è¿½åŠ ã—ãŸã‚Šã§ãã¾ã™ã€‚GFMã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‹ã‚‚ã‚ã‚Šã¾ã™ã­ã€‚</p><p><a href="https://github.com/remarkjs/remark/blob/main/doc/plugins.md">https://github.com/remarkjs/remark/blob/main/doc/plugins.md</a></p><h1 id="ã•ã£ããè©¦ã™ã€‚"><a href="#ã•ã£ããè©¦ã™ã€‚" class="headerlink" title="ã•ã£ããè©¦ã™ã€‚"></a>ã•ã£ããè©¦ã™ã€‚</h1><p>Markdownã®å½¢å¼ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã¾ã—ãŸã€‚</p><p><a href="https://github.com/IQAndreas/markdown-licenses/blob/master/bsd-3.md">https://github.com/IQAndreas/markdown-licenses/blob/master/bsd-3.md</a></p><p>pagesä»¥ä¸‹ã«<code>license.mdx</code>ã¨ã„ã†åå‰ã§é…ç½®ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ç°¡å˜ã§ã™ã­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â””â”€â”€ pages</span><br><span class="line"> Â Â  â”œâ”€â”€ _app.tsx</span><br><span class="line"> Â Â  â”œâ”€â”€ api</span><br><span class="line"> Â Â  â”‚Â Â  â””â”€â”€ hello.ts</span><br><span class="line"> Â Â  â”œâ”€â”€ index.tsx</span><br><span class="line"> Â Â  â””â”€â”€ license.mdx  # ã“ã‚Œï¼</span><br></pre></td></tr></table></figure><img src="/images/20220816a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_12.57.25.png" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_12.57.25.png" width="1200" height="817" loading="lazy"><p>mdxã®æ›¸ãæ–¹ã¯ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§ç¢ºèªã§ãã¾ã™ã€‚</p><p><a href="https://mdxjs.com/">https://mdxjs.com/</a></p><p>JSXåŒæ§˜ã€<code>&#123;&#125;</code>ã§JSã‚³ãƒ¼ãƒ‰ã‚’æŒŸã¿è¾¼ã‚ã¾ã™ã€‚<code>getStaticProps()</code>ã¨ã‹ã®Node.jsã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®å‡¦ç†ã‚‚ã„ã¤ã‚‚é€šã‚Šã«æ›¸ã‘ã¾ã™ã­ã€‚çµæœã¯<code>props</code>ã«å…¥ã‚Œã‚‰ã‚Œã‚‹ã®ã§ã€ãã‚Œã‚’ã‚‚ã¨ã«è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">Modified BSD License</span></span><br><span class="line"><span class="section">====================</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">_Copyright Â© &#123;props.year&#125;, &#123;props.holder&#125;</span></span><br><span class="line"><span class="emphasis">_</span>All rights reserved.<span class="emphasis">_</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">Redistribution and use in source and binary forms, with or without</span></span><br><span class="line"><span class="emphasis">modification, are permitted provided that the following conditions are met:</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">(çœç•¥)</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">export async function getStaticProps(context) &#123;</span></span><br><span class="line"><span class="emphasis">  return &#123;</span></span><br><span class="line"><span class="emphasis">    props: &#123;</span></span><br><span class="line"><span class="emphasis">      year: (new Date()).getFullYear(),</span></span><br><span class="line"><span class="emphasis">      holder: &quot;Yoshiki Shibukawa&quot;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¨©åˆ©è€…æƒ…å ±ã¨ã‹ã€å¹´æƒ…å ±ã‚’ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã¨ã£ã¦ãã¦åŸ‹ã‚è¾¼ã¿ã‚‚ã§ãã¾ã—ãŸã€‚<code>getStaticProps()</code>ãªã®ã§é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã«ã‚‚ä½¿ãˆã¾ã™ã­ã€‚</p><img src="/images/20220816a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_15.13.23.png" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_15.13.23.png" width="998" height="114" loading="lazy"><h1 id="ã‚¿ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ã‚‹"><a href="#ã‚¿ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ã‚‹" class="headerlink" title="ã‚¿ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ã‚‹"></a>ã‚¿ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ã‚‹</h1><p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã‚¿ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãŸã¨ãˆã°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ã®æ©Ÿèƒ½ã¨ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã®åˆã‚ã›ã‚‚ç°¡å˜ã«ãªã‚Šã¾ã™ã€‚</p><p>ç‰¹å®šã®mdxãƒšãƒ¼ã‚¸ã ã‘ã®ãƒ©ãƒƒãƒ—ã§ã‚‚è‰¯ã„ã®ã§ã™ãŒã€ä»Šå›ã¯æ‰‹é–“ã‚’è€ƒãˆã¦<code>_app.tsx</code>ã«ã¾ã¨ã‚ã¦å…¥ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚mdxã®æ¨™æº–æ§‹æˆã ã¨ã€<code>&lt;h1&gt;</code>ã¨ã‹ã€€<code>&lt;p&gt;</code>ã¨ã‹ã®ãƒ—ãƒ¬ãƒ¼ãƒ³ãªã‚¿ã‚°ã‚’ç”Ÿæˆã™ã‚‹ã®ã§ã™ãŒã€<code>MDXProvider</code>ã‚’ä½¿ã†ã¨ã€ãã‚Œã‚’è‡ªä½œã®ã‚¿ã‚°ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚</p><p>Tailwind CSSã‚’ä½¿ã£ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ç™»éŒ²ã—ã¦ã¿ãŸã®ãŒã“ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</p><figure class="highlight tsx"><figcaption><span>pages/_app.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../styles/globals.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ReactNode</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">AppProps</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;next/app&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">MDXProvider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@mdx-js/react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆã•ã‚ŒãŸHTMLã§ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">H1</span>(<span class="params">props: &#123;children?: ReactNode&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;text-blue-600 text-2xl font-bold&quot;</span>&gt;</span>&#123;props.children&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">P</span>(<span class="params">props: &#123;children?: ReactNode&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;p-3&quot;</span>&gt;</span>&#123;props.children&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Li</span>(<span class="params">props: &#123;children?: ReactNode&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;px-6 py-1 list-item list-outside drop-shadow-lg&quot;</span>&gt;</span>ğŸ„ &#123;props.children&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> components = &#123;</span><br><span class="line">  <span class="attr">h1</span>: <span class="variable constant_">H1</span>,</span><br><span class="line">  <span class="attr">p</span>: P,</span><br><span class="line">  <span class="attr">li</span>: <span class="title class_">Li</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyApp</span>(<span class="params">&#123; Component, pageProps &#125;: AppProps</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">MDXProvider</span> <span class="attr">components</span>=<span class="string">&#123;components&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...pageProps</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">MDXProvider</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyApp</span></span><br></pre></td></tr></table></figure><p>ã‚¹ã‚¿ã‚¤ãƒ«ãŒæ›¸ãã‹ã‚ã‚Šã¾ã—ãŸã€‚ç°¡å˜ã§ã™ã­ã€‚React Bootstrapã‚’ä½¿ã£ã¦ã„ãŸã‚‰Bootstrapã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€MUIã‚’ä½¿ã£ã¦ã„ãŸã‚‰MUIã‚’ä½¿ã†ã‚ˆã†ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®è¦ªå’Œæ€§ã‚‚ä¸ŠãŒã‚‹ã¨æ€ã„ã¾ã™ã€‚</p><img src="/images/20220816a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_15.13.12.png" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-07-29_15.13.12.png" width="1200" height="948" loading="lazy"><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>Next.jsã®ãƒšãƒ¼ã‚¸ã«ã¯Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã‚„ã€ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹æ›¸ãæ–¹ã¨ã‹ã®ç´¹ä»‹ã¯ã‚ã‚Šã¾ã—ãŸãŒã€<code>getStaticProps()</code>ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ã¨<code>props</code>ã®åˆ©ç”¨ã‚„ã€TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’åŠ¹ã‹ã›ãŸã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã®å®Ÿè£…ã®ä¾‹ãŒå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ãªã‹ã£ãŸã®ã§ã€ã¡ã‚‡ã£ã¨è©¦è¡ŒéŒ¯èª¤ã—ã¦ã¿ã¾ã—ãŸã€‚</p><p>Next.jsã®ã•ã¾ã–ã¾ãªæ©Ÿèƒ½ã¨ã‚‚åˆã‚ã›è¾¼ã¿ã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã—ã€å¿œç”¨ã—ã‚„ã™ãã†ã«æ„Ÿã˜ã¾ã—ãŸã€‚</p><p>ã¾ãŸã€MDXãã®ã‚‚ã®ã‚‚ä»Šå›åˆã‚ã¦çŸ¥ã£ãŸã®ã§ã™ãŒã€Next.jså›ºæœ‰ã®ã‚‚ã®ã§ã¯ãªãã€ç‹¬ç«‹ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã€Vue.jsã¨ã‹ã¨ã‚‚çµ„ã¿åˆã‚ã›ã‚‰ã‚Œãã†ã§ã™ã­ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;ãŠå®¢æ§˜ã¨ä¸€ç·’ã«Next.jsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¼ªèª­ä¼šã‚’ã‚„ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãã®ä¸­ã§åˆã‚ã¦çŸ¥ã£ãŸæ©Ÿèƒ½ãŒMDXã¨ã„ã†ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã§ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰" scheme="https://future-architect.github.io/tags/%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89/"/>
    
    <category term="Next.js" scheme="https://future-architect.github.io/tags/Next-js/"/>
    
    <category term="Markdown" scheme="https://future-architect.github.io/tags/Markdown/"/>
    
    <category term="MDX" scheme="https://future-architect.github.io/tags/MDX/"/>
    
  </entry>
  
  <entry>
    <title>ã€ãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œã€‘æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™ã¨ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®å–çµ„ã¿</title>
    <link href="https://future-architect.github.io/articles/20220810a/"/>
    <id>https://future-architect.github.io/articles/20220810a/</id>
    <published>2022-08-09T15:00:00.000Z</published>
    <updated>2022-08-16T01:48:55.058Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220810a/absolutvision-WYd_PkCa1BY-unsplash.jpg" alt="absolutvision-WYd_PkCa1BY-unsplash.jpg" width="1200" height="800" loading="lazy"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã“ã‚“ã«ã¡ã¯ï¼2021å¹´å…¥ç¤¾ã€TIGãƒ¡ãƒ‡ã‚£ã‚¢ãƒ¦ãƒ‹ãƒƒãƒˆæ‰€å±ã®æ­¦ç”°ã§ã™ã€‚</p><p>æœ¬è¨˜äº‹ã¯<a href="/articles/20220616a/">ã€Œæ¥­ç•Œãƒ‰ãƒ¡ã‚¤ãƒ³ã«è©³ã—ããªã‚ã†ã€ã‚·ãƒªãƒ¼ã‚ºé€£è¼‰</a>ã®ã€Œãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œã¸ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€ç¬¬2å›ç›®ã§ã™ã€‚å‰å›ã®<a href="/articles/20220715a/">æ–°èæ¥­ç•Œï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œï¼‰åŸºç¤ç·¨</a>ã§ã¯ã€æ–°èæ¥­ç•Œï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œï¼‰ã®å¤‰é·ã‚„æ–°èç¤¾ã®ä½¿å‘½ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>ä»Šå›ã¯ã•ã‚‰ã«æ–°èæ¥­ç•Œã«æ·±å…¥ã‚Šã—ã€æ–°èç¤¾ã®å…·ä½“çš„ãªç·¨é›†æ¥­å‹™ã‚„ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p><h1 id="æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™-ï½æ–°èãŒã§ãã‚‹ã¾ã§ï½"><a href="#æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™-ï½æ–°èãŒã§ãã‚‹ã¾ã§ï½" class="headerlink" title="æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™ã€€ï½æ–°èãŒã§ãã‚‹ã¾ã§ï½"></a>æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™ã€€ï½æ–°èãŒã§ãã‚‹ã¾ã§ï½</h1><p>ã¾ãšã¯ã˜ã‚ã«ã€ä¸€èˆ¬çš„ãªæ–°èè£½ä½œã®æµã‚Œã«ã¤ã„ã¦ã”èª¬æ˜ã—ã¾ã™ã€‚<br>æ–°èç¤¾ã”ã¨ã«ä½œæ¥­é †åºã‚„éƒ¨ç½²ã®å‘¼ã³æ–¹ã€æ¥­å‹™ã®å‰²ã‚ŠæŒ¯ã‚Šã¯ç•°ãªã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚Šã¾ã™ãŒã€åŸºæœ¬çš„ã«ã©ã®æ–°èç¤¾ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ãªå·¥ç¨‹ã§ç´™é¢ã‚’åˆ¶ä½œã—ã¦ã„ã¾ã™ã€‚<br><img src="/images/20220810a/image_(36).png" alt="ç´™é¢ã®åˆ¶ä½œãƒ•ãƒ­ãƒ¼" width="1200" height="267" loading="lazy"></p><h2 id="1-å–æ"><a href="#1-å–æ" class="headerlink" title="1. å–æ"></a>1. å–æ</h2><p>ã¾ãšã¯è¨˜è€…ã«ã‚ˆã‚‹å–æã§ã™ã€‚æ”¿æ²»ã€çµŒæ¸ˆã€æ–‡åŒ–ã€ã‚¹ãƒãƒ¼ãƒ„ã€äº‹ä»¶ãªã©ä¸–ã®ä¸­ã®æ§˜ã€…ãªå‡ºæ¥äº‹ã‚’å–æã—ã¾ã™ã€‚</p><p>è¨˜è€…ãŒæ—¥å¸¸çš„ã«è¡Œãªã£ã¦ã„ã‚‹å–æã®å½¢ã¯ã€å¤§ããåˆ†ã‘ã¦ã€Œä¼šè¦‹å–æã€ã¨ã€Œæ‡‡è«‡å–æã€ã®2ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚ã€Œä¼šè¦‹å–æã€ã¯ã€å ±é“é™£ã®è¦è«‹ã«å¿œã˜ã¦ã€ã‚ã‚‹ã„ã¯è‡ªç™ºçš„ã«ã€å½“äº‹è€…ãŒè¡Œãªã†èª¬æ˜ã®å ´ã§ã‚ã‚Šã€éŒ²éŸ³ã‚„ã‚«ãƒ¡ãƒ©æ’®å½±ãŒè¨±ã•ã‚Œã¾ã™ã€‚è¨˜è€…ã®å‡ºå¸­ã¯åŸºæœ¬çš„ã«è‡ªç”±ã§ã€è³ªç–‘å¿œç­”ã‚‚ã‚ã‚Šã¾ã™ã€‚<br>ã‚‚ã†ä¸€æ–¹ã®ã€Œæ‡‡è«‡å–æã€ã¯ã€æ­£å¼ãªæ‰‹ç¶šãã‚„å½¢å¼ã‚’è¸ã¾ãªã„å–æã‚’æŒ‡ã—ã¾ã™ã€‚éŒ²éŸ³ã‚„æ’®å½±ãŒNGã¨ã„ã†ã“ã¨ã‚‚å¤šãã€ãƒ¡ãƒ¢ã•ãˆã‚‚è¨±ã•ã‚Œãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p><p>ãã®ä»–ã«ã‚‚ã€Œç™ºç”Ÿã‚‚ã®ã€ã¨å‘¼ã°ã‚Œã‚‹å–æã‚‚ã‚ã‚Šã¾ã™ã€‚</p><p>ä¾‹ãˆã°ã€äº‹ä»¶ã‚„äº‹æ•…ã®å½“äº‹è€…ã‚„å®¶æ—ã€é–¢ä¿‚è€…ã¸ã®å–æãªã©ãŒãã‚Œã«ã‚ãŸã‚Šã¾ã™ã€‚äº‹ä»¶ã‚„äº‹æ•…ã®é–¢ä¿‚è€…ã«ã€å–œã‚“ã§è©±ã—ã¦ãã‚Œã‚‹äººã¯ã„ãªã„ã®ãŒå½“ãŸã‚Šå‰ã§ã€å–æå…ˆã§æ–­ã‚‰ã‚ŒãŸã‚Šã€å†·ãŸãè¿½ã„å¸°ã•ã‚ŒãŸã‚Šã€éé›£ã•ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã—ã°ã—ã°èµ·ã“ã‚Šã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ã„ããªã‚Šè¨ªã­ã‚‹å¤±ç¤¼ã¯æ‰¿çŸ¥ã®ä¸Šã§è¨˜è€…ã‚‚å–æã‚’ã—ã¦ã„ã¾ã™ã€‚</p><p>è¨˜è€…ã¯ã€é–¢ä¿‚è€…ã®è¾›ã•ã‚„ç—›ã¿ã‚’å¯Ÿã—ãªãŒã‚‰ã‚‚ã€ãã®å‡ºæ¥äº‹ã®äº‹å®Ÿã‚„æ ¸å¿ƒã‚’åºƒãä¸–ã®ä¸­ã«ä¼ãˆã‚‹ã“ã¨ã§ã€äº‹ä»¶ã‚„äº‹æ•…ã®åŸå› ã‚„çµŒç·¯ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã€ãã‚ŒãŒå–æã«å”åŠ›ã—ã¦ãã‚ŒãŸäººã€…ã¸ã®æ©è¿”ã—ã«ãªã‚‹ã¨ä¿¡ã˜ã¦å–ææ´»å‹•ã‚’ç¶šã‘ã¦ã„ã¾ã™ã€‚ãã‚“ãªä¸€ç”Ÿæ‡¸å‘½ãªè¨˜è€…ã®çœŸæ„ã‚„ç†±æ„ã€èª æ„ãŒä¼ã‚ã£ã¦ã€å¾ã€…ã«å¿ƒã‚’é–‹ãã€å–æã«å”åŠ›ã—ã¦ãã‚Œã‚‹äººã‚‚ã„ã¾ã™ã€‚</p><h2 id="2-è¨˜äº‹å‡ºç¨¿"><a href="#2-è¨˜äº‹å‡ºç¨¿" class="headerlink" title="2. è¨˜äº‹å‡ºç¨¿"></a>2. è¨˜äº‹å‡ºç¨¿</h2><p>è¨˜è€…ã¯å–æã—ã¦ããŸå†…å®¹ã‚’ã‚‚ã¨ã«åŸç¨¿ã‚’ä½œæˆã—ã€ãƒ‡ã‚¹ã‚¯ã«é€ã‚Šã¾ã™ã€‚ï¼ˆé€ç¨¿ãƒ»å…¥ç¨¿ï¼‰</p><p>ãƒ‡ã‚¹ã‚¯ã¯ã€è¨˜è€…ãŒæ›¸ã„ãŸåŸç¨¿ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã‚¢ãƒ¬ãƒ³ã‚¸ã—ãŸã‚Šã€å‰Šã£ãŸã‚Šã€åŠ ç­†ã—ãŸã‚Šã€æ›¸ãæ›ãˆã•ã›ãŸã‚Šã—ã¦ã€æœ€é©ãªå½¢ã§è¨˜äº‹ã‚’ç´™é¢ã«è¼‰ã›ã‚‹ãŸã‚ã®è²¬ä»»è€…ã§ã™ã€‚å–æã®æŒ‡æ®ã‚’ã¨ã‚‹ã®ã‚‚ãƒ‡ã‚¹ã‚¯ã®ä»•äº‹ã§ã€èª°ã«ã©ã“ã«å–æã«å‘ã‹ã£ã¦ã‚‚ã‚‰ã†ã‹ã‚’æŒ‡ç¤ºã—ãŸã‚Šã€è¨˜è€…ãŒå–æã—ãŸå†…å®¹ã«å¯¾ã—ã¦ã€Œã‚‚ã£ã¨ã“ã†ã„ã†è©±ã‚‚èã„ã¦ãã„ã¦ãã‚Œã€ã€Œã“ã†ã„ã†å†™çœŸã‚’è¿½åŠ ã§æ’®ã£ã¦ãã¦ã»ã—ã„ã€ã¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã—ã¾ã™ã€‚</p><p>ã¡ãªã¿ã«ã€ã©ã“ã®æ–°èç¤¾ã§ã‚‚å–æè¨˜è€…ã¨ã—ã¦ã®çµŒé¨“ã‚’ç©ã‚“ã å¾Œã«ã€Œãƒ‡ã‚¹ã‚¯ã€ã¨ã„ã†å½¹è·ã‚’ä»»ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã‚ˆã†ã§ã™ã€‚<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p><p>ãƒ‡ã‚¹ã‚¯ãŒå¿µå…¥ã‚Šã«ãƒã‚§ãƒƒã‚¯ã‚’ã—ãŸå¾Œã¯æ ¡é–²ã«é€ã‚Šã¾ã™ã€‚ï¼ˆå‡ºç¨¿ï¼‰</p><p>â€»è‡ªç¤¾ã§ä½œæˆã™ã‚‹è¨˜äº‹ä»¥å¤–ã«ã‚‚ã€å…±åŒé€šä¿¡ç¤¾ã‚„æ™‚äº‹é€šä¿¡ç¤¾ãªã©ã®å¤–éƒ¨é€šä¿¡ç¤¾ã‹ã‚‰ã®å…¥ç¨¿ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><h2 id="3-æ ¡é–²"><a href="#3-æ ¡é–²" class="headerlink" title="3. æ ¡é–²"></a>3. æ ¡é–²</h2><p>æƒ…å ±ã®æ­£ç¢ºã•ã‚’èº«ä¸Šã¨ã™ã‚‹æ–°èè¨˜äº‹ã«ã€Œé–“é•ã„ã€ã¯ã‚ã£ã¦ã¯ãªã‚‰ã¬ã‚‚ã®ã§ã™ã€‚ãã“ã§é‡è¦ã«ãªã£ã¦ãã‚‹ã®ãŒã€è¨˜äº‹ã®æ ¡é–²ã§ã™ã€‚</p><p>æ ¡é–²éƒ¨é–€ã¯ã€å„éƒ¨ã‹ã‚‰ã‚ãŒã£ã¦ãã‚‹å…¨ã¦ã®è¨˜äº‹ã‚’èª­ã¿ã€èª¤å­—è„±å­—ã®ãƒã‚§ãƒƒã‚¯ã‚„ã€äº‹å®Ÿç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚äº‹å®Ÿç¢ºèªã§ã¯ã€è¨˜äº‹ã¨ä¸€ç·’ã«é€ã‚‰ã‚Œã¦ãã‚‹ç…§åˆè³‡æ–™ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãªã©ã‚’é§†ä½¿ã—ã¦ã€è§¦ã‚Œã‚‰ã‚Œã¦ã„ã‚‹æƒ…å ±ã¯æ­£ã—ã„ã‹ã€å›ºæœ‰åè©ã‚„æ—¥ä»˜ã«èª¤ã‚Šã¯ãªã„ã‹ãªã©ã€èª¿ã¹ã‚‰ã‚Œã‚‹ã‚‚ã®ã¯å…¨ã¦èª¿ã¹ã¾ã™ã€‚æ ¡é–²ã¨èãã¨ã€Œèª¤å­—ãƒ»è„±å­—ã‚’ç›´ã™ä»•äº‹ã€ã¨æ€ã‚ã‚ŒãŒã¡ã§ã™ãŒã€å®Ÿã¯ã“ã®ã€Œäº‹å®Ÿç¢ºèªã€ã®éƒ¨åˆ†ã«æ™‚é–“ã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚</p><p>å˜ç´”ãªæ–‡å­—ã®èª¤ã‚Šã ã‘ã§ãªãã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã«ã¾ã§è¸ã¿è¾¼ã¿ã€å¾¹åº•ã—ãŸäº‹å®Ÿç¢ºèªã®ã‚‚ã¨ã€è‘—è€…ã§ã™ã‚‰æ°—ã¥ã‹ãªã„ã‚ˆã†ãªé–“é•ã„ã€è¡¨ç¾ä¸Šã®çŸ›ç›¾ç‚¹ãªã©ã‚’ç™ºè¦‹ã—ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></p><p>æ–°èã¨ã„ã†å•†å“ã®å“è³ªç®¡ç†ã‚’æ‹…ã†ã®ãŒæ ¡é–²éƒ¨é–€ã¨ã„ã†ã‚ã‘ã§ã™ã€‚<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></p><h2 id="4-ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°"><a href="#4-ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°" class="headerlink" title="4. ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°"></a>4. ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°</h2><p>ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°ã§ã¯ã€å„éƒ¨ã®ãƒ‡ã‚¹ã‚¯ãŒé›†ã¾ã‚Šã€ã€Œã“ã®è¨˜äº‹ã¯é‡è¦ã ã‹ã‚‰å¤§ããæ²è¼‰ã™ã‚‹ã€ã€Œã“ã®è¨˜äº‹ã¯ä¸€é¢ãƒˆãƒƒãƒ—ã«ã€ã€Œã“ã®è¨˜äº‹ã¯å°ã•ãã€ãªã©ã¨ã€æ²è¼‰ã™ã‚‹è¨˜äº‹ã‚„ã€ãã®æ‰±ã„æ–¹ã‚’æ±ºã‚ã¾ã™ã€‚</p><p>é¢ç™½ã„åŸç¨¿ãŒã‚ã‚Œã°ã€å–æè¨˜è€…ã«ä¾é ¼ã—ã¦ã€è¶³ã‚Šãªã„è¦ç´ ã‚’åŠ ãˆã¦åŸç¨¿ã‚’è†¨ã‚‰ã¾ã›ã¦ã‚‚ã‚‰ã†ã“ã¨ã‚„ã€åå¯¾ã«åŸç¨¿ã‚’çŸ­ãå‰Šã£ãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></p><h2 id="5-ç´™é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ"><a href="#5-ç´™é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ" class="headerlink" title="5. ç´™é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ"></a>5. ç´™é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</h2><p>æ²è¼‰ã™ã‚‹è¨˜äº‹ãŒæ±ºã¾ã£ãŸã‚‰ç´™é¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæ¥­ï¼ˆå‰²ã‚Šä»˜ã‘ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ï¼‰ã‚’ã—ã¦ã„ãã¾ã™ã€‚æ–°èç¤¾ã«ã‚ˆã£ã¦ã€æ•´ç†éƒ¨ã®è¨˜è€…ãŒè¡Œã£ãŸã‚Šã€é¢æ‹…ï¼ˆçµŒæ¸ˆé¢ã€ç¤¾ä¼šé¢ãªã©ã®é¢ã”ã¨ã®å‰²ã‚Šä»˜ã‘æ‹…å½“è€…ï¼‰ã¨å‘¼ã°ã‚Œã‚‹å½¹è·ãŒå­˜åœ¨ã—ãŸã‚Šã—ã¾ã™ã€‚</p><p>ã©ã®è¨˜äº‹ã‚’ä¸€ç•ªå¼·èª¿ã™ã‚‹ã‹ã€è¨˜äº‹ã®ä¾¡å€¤ã‚’è©•ä¾¡ã—è¦‹å‡ºã—ã‚„æœ¬æ–‡ã‚’å‰Šã‚ŠãªãŒã‚‰ã€ä½ç½®ã‚„ã‚µã‚¤ã‚ºã‚’èª¿æ•´ã—ã¦ã„ãã¾ã™ã€‚ã€Œè¦‹å‡ºã—ã€ã¯è¨˜äº‹ã«ã¨ã£ã¦ã¨ã¦ã‚‚é‡è¦ã§ã™ã€‚ãŠãã‚‰ãã»ã¨ã‚“ã©ã®æ–¹ã¯ã€è¦‹å‡ºã—ã‚’èª­ã‚“ã§èˆˆå‘³ã‚’æŒã£ãŸã‚‰ãã®è¨˜äº‹ã‚’èª­ã¿å§‹ã‚ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚æ–‡å­—ã®ç¨®é¡ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã€å¤§ãã•ã€æ–‡å­—æ•°ãªã©ã§ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®ä¾¡å€¤ã®å¤§å°ã‚’çŸ¥ã‚‰ã›ã‚‹ã¨ã¨ã‚‚ã«ã€è¨˜äº‹ã®å†…å®¹ãŒä¸€ç›®ã§ã‚ã‹ã‚‹ã‚ˆã†ãªè¦‹å‡ºã—ã‚’ä»˜ã‘ã¾ã™ã€‚</p><p>10äººã„ã‚Œã°ã€10é€šã‚Šã®ç´™é¢ãŒã§ãã‚‹ã¨ã„ã‚ã‚Œã¦ã„ã‚‹ã»ã©ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã¯å€‹æ€§ãŒã«ã˜ã¿å‡ºã¾ã™ã€‚æ–°èç¤¾ã®ç‰¹å¾´ã‚’å‡ºã—ã¤ã¤ã€ãã“ã«è‡ªåˆ†ã®å€‹æ€§ã‚’æ´»ã‹ã—ã¦ã„ããŸã‚ã«ã€æ—¥ã€…ã€è©¦è¡ŒéŒ¯èª¤ã—ã¦ã„ã¾ã™ã€‚<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup></p><h2 id="6-å°åˆ·"><a href="#6-å°åˆ·" class="headerlink" title="6. å°åˆ·"></a>6. å°åˆ·</h2><p>ç´™é¢ãŒå®Œæˆã—ãŸã‚‰å·¥å ´ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ã£ã¦å°åˆ·ã—ã¦ã„ãã¾ã™ã€‚å·¥å ´ã«ãƒ‡ãƒ¼ã‚¿ãŒé€ã‚‰ã‚Œã‚‹ã¨ã€åˆ·ç‰ˆã¨ã„ã†å°åˆ·ã®åŸç‰ˆãŒä½œã‚‰ã‚Œã¾ã™ã€‚<br>å°åˆ·ã«ã¯è¼ªè»¢æ©Ÿã¨å‘¼ã°ã‚Œã‚‹é«˜ã•10ãƒ¡ãƒ¼ãƒˆãƒ«ã«ã‚‚åŠã¶å·¨å¤§ãªæ©Ÿæ¢°ã‚’ä½¿ã„ã¾ã™ã€‚æ–°èã®å°åˆ·ã«ä½¿ã‚ã‚Œã‚‹ã®ã¯å·¨å¤§ãªãƒ­ãƒ¼ãƒ«ã«ãªã£ãŸå·»ãå–ã‚Šç´™ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã€ï¼‘æœ¬ã®å·»ãå–ã‚Šç´™ã‚’ã®ã°ã™ã¨ã€ç´„16ã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ«ã«ã‚‚ãªã‚Šã¾ã™ã€‚è¼ªè»¢æ©Ÿã¯ã€å°åˆ·ã¯ã‚‚ã¡ã‚ã‚“ã€è£æ–­ã€ãƒšãƒ¼ã‚¸æŠ˜ã‚Šã¾ã§ã‚’è‡ªå‹•ã§è¡Œãªã„ã¾ã™ã€‚ï¼‘ç§’ã§25éƒ¨ã‹ã‚‰50éƒ¨ã‚‚ã®æ–°èã‚’è¶…é«˜é€Ÿã§åˆ·ã‚Šä¸Šã’ã¦æ–°èã®å½¢ã«ã—ã¦ã„ãã¾ã™ã€‚<sup id="fnref:7"><a href="#fn:7" rel="footnote">7</a></sup><br>è¼ªè»¢æ©Ÿã¯ã€ã‹ã¤ã¦å¿…ãšæ–°èç¤¾å†…ã«ç½®ã‹ã‚Œã¦ã„ã¾ã—ãŸãŒã€é€šä¿¡ã‚·ã‚¹ãƒ†ãƒ ã®ç™ºé”ã«ä¼´ã„ã€å¤–éƒ¨ã«å°åˆ·æ©Ÿèƒ½ã‚’ç§»ã—ã¦ã„ã‚‹æ–°èç¤¾ã‚‚å‡ºã¦ãã¾ã—ãŸã€‚<br>å¤§æ‰‹æ–°èå„ç¤¾ã¯å°åˆ·å·¥å ´ã‚’åˆ¥ä¼šç¤¾åŒ–ã—ã€ãã®å°‚é–€æ€§ã‚’é«˜ã‚ãªãŒã‚‰ã€é€£æºã™ã‚‹ä»–ç´™ã®å°åˆ·ã‚’è¡Œãªã£ãŸã‚Šã€æ–°èä»¥å¤–ã®å°åˆ·ã‚‚å—æ³¨ã—ãŸã‚Šã¨ã„ã£ãŸå°‚æ¥­ä¼šç¤¾ã¨ã—ã¦ã€ç‹¬è‡ªã«ç™ºå±•ã—ã¦ã„ã‚‹ä¾‹ã‚‚å¢—ãˆã¦ã„ã¾ã™ã€‚</p><p>ã“ã†ã—ã¦æ–°èã®å‡ºæ¥ä¸ŠãŒã‚Šã§ã™ï¼</p><h1 id="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿"><a href="#ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿" class="headerlink" title="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿"></a>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿</h1><p>ã“ã“ã‹ã‚‰ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–çµ„ã¿ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚</p><p>æ˜¨ä»Šã®ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã®æ™®åŠã«ä¼´ã†æ–°èç™ºè¡Œéƒ¨æ•°ã®æ¸›å°‘ã‚’é‘‘ã¿ã¦ã€æ–°èç¤¾ã¯æ–°èè²©å£²ã‚’ä¸»è»¸ã¨ã—ãŸå¾“æ¥ã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ã€ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ“ã‚¸ãƒã‚¹ã¸ã®ã‚·ãƒ•ãƒˆãŒæ€¥å‹™ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã“ã§å¤§äº‹ã«ãªã‚‹ã®ãŒã€ç´™ã‚„ãƒ‡ã‚¸ã‚¿ãƒ«ã¨ã„ã£ãŸåª’ä½“åˆ¥ã®å¯¾ç­–ã§ã¯ãªãèª­è€…ã«ã¨ã£ã¦èª­ã¿ã‚„ã™ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã«å±Šã‘ã‚‹ã“ã¨ã«ä¸»çœ¼ã‚’ç½®ã„ãŸã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã®å®Ÿç¾ã§ã™ã€‚ãã®ãŸã‚ã«ã¯ã€ç´™ã®ç· åˆ‡æ™‚åˆ»ã‚„ç´™é¢å‰²ã®ç®¡ç†ã‚’è¶…ãˆãŸæ–°ãŸãªç™ºæƒ³ã¸ã®è»¢æ›ãŒå¿…é ˆã§ã—ãŸã€‚ãã‚Œã‚’æ”¯ãˆã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ãŒã€ŒGlyphFeedsã€ã§ã™ã€‚</p><img src="/images/20220810a/image_(28).png" alt="GlyphFeeds" width="1200" height="383" loading="lazy"><h2 id="ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚’æ”¯ãˆã‚‹GlyphFeeds"><a href="#ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚’æ”¯ãˆã‚‹GlyphFeeds" class="headerlink" title="ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚’æ”¯ãˆã‚‹GlyphFeeds"></a>ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚’æ”¯ãˆã‚‹GlyphFeeds</h2><p>GlyphFeedsã¯ã€ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒé–‹ç™ºã—ãŸãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œå‘ã‘ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸­æ ¸ã«æŒã¤ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚<br>å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é›†ç´„ã—ã¦ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ­è¼‰ã—ã¦ãŠã‚Šã€è¨˜è€…ãŒå–æã—ã¦æ›¸ãè¨˜äº‹ã‚„ã‚«ãƒ¡ãƒ©ãƒãƒ³ãŒæ’®å½±ã—ãŸå†™çœŸãªã©ã‚’ä¸€æ‹¬ç®¡ç†ã§ãã¾ã™ã€‚</p><p>ã¾ãŸã€ç·¨é›†æ¥­å‹™ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ­è¼‰ã—ã¦ã„ã¦ã€åŸç¨¿ã®ä½œæˆã‹ã‚‰ç·¨é›†ã¾ã§ã€å¤šæ§˜ãªç·¨é›†æ¥­å‹™ã‚’GlyphFeedsã®ç”»é¢ä¸€ã¤ã§è¡Œã†ã“ã¨ãŒã§ãã€è¨˜è€…ã€ãƒ‡ã‚¹ã‚¯ã€æ ¡é–²ã€æ•´ç†ã€ãƒ‡ã‚¸ã‚¿ãƒ«æ‹…å½“è€…ãªã©ã®å…¨ã‚¢ã‚¯ã‚¿ãƒ¼ã«ã‚ˆã‚‹çµ±åˆç·¨é›†ãŒå¯èƒ½ãªä¸Šã€ãƒ‘ã‚½ã‚³ãƒ³ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãªã©ã®ç«¯æœ«ã¨é€šä¿¡ç’°å¢ƒã•ãˆã‚ã‚Œã°ã€ã©ã“ã‹ã‚‰ã§ã‚‚è¡Œãˆã¾ã™ã€‚å¾“æ¥ã¯ã€åª’ä½“æ¯ã«ã€Œå€‹åˆ¥ç·¨é›†ã€ã‚’è¡Œã£ã¦ãŠã‚Šã€ä¿®æ­£åæ˜ ãŒå¤§å¤‰ã§ã—ãŸãŒã€ã€Œçµ±åˆç·¨é›†ã€ã§ã¯ã€åŒä¸€ç´ æã‚’æ´¾ç”Ÿã•ã›ã¦åˆ©ç”¨ã—ã¦ãŠã‚Šã€ä¸€æ‹¬ã§ä¿®æ­£åæ˜ ãŒå¯èƒ½ã§ã™ã€‚<br>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ–°èç´™é¢ã‚„ãƒ‡ã‚¸ã‚¿ãƒ«ã‚µã‚¤ãƒˆãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¢ãƒ—ãƒªç­‰ã«å±Šã‘ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾¡å€¤ã‚’æœ€å¤§åŒ–ã§ãã¾ã™ã€‚</p><p>GlyphFeedsã¯æ–°èç¤¾ã«ä¸å¯æ¬ ãªã€Œå¯ç”¨æ€§ã€ã«ã‚‚å¼·ã¿ã‚’æŒã¡ã¾ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰åŸºç›¤ã‚’åˆ©ç”¨ã—ä¸–ç•Œãƒ¬ãƒ™ãƒ«ã§ã®å†—é•·æ§‹æˆã‚’ã¨ã£ã¦ã„ã‚‹ãŸã‚ã€ä»®ã«æ—¥æœ¬ã§å¤§ããªç½å®³ãŒèµ·ããŸã¨ãã§ã‚‚å–æãƒ»å ±é“æ´»å‹•ã‚’ç¶™ç¶šã§ãã¾ã™ã€‚ã©ã‚“ãªç½å®³æ™‚ã§ã‚‚ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å±Šã‘ãªãã¦ã¯ãªã‚‰ãªã„ä½¿å‘½ã‚’æŒã¤æ–°èç¤¾ã«ã¨ã£ã¦ã€éå¸¸ã«å¤§ããªæ„å‘³ã‚’æŒã¡ã¾ã™ã€‚<br><img src="/images/20220810a/image_(29).png" alt="image_(29).png" width="1200" height="473" loading="lazy"></p><h2 id="ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾¡å€¤ã‚’å†å®šç¾©ã™ã‚‹"><a href="#ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾¡å€¤ã‚’å†å®šç¾©ã™ã‚‹" class="headerlink" title="ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾¡å€¤ã‚’å†å®šç¾©ã™ã‚‹"></a>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾¡å€¤ã‚’å†å®šç¾©ã™ã‚‹</h2><p>ã¾ãŸã€GlyphFeedsã«ã¯ä¸€èˆ¬å…¬é–‹ç”¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ´»ç”¨APIã‚‚æ­è¼‰ã—ã¦ãŠã‚Šã€æ—¢å­˜åª’ä½“å‘ã‘ã®æ²è¼‰ç·¨é›†ã«åŠ ãˆã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ´»ç”¨ã—ãŸæ–°è¦ã‚µãƒ¼ãƒ“ã‚¹å‰µå‡ºã«ã‚‚å¯„ä¸ã—ã¾ã™ã€‚<br><a href="https://prtimes.jp/main/html/rd/p/000000140.000033323.html">æ—¥åˆŠå·¥æ¥­æ–°èç¤¾ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a>ã§ã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ´»ç”¨ã—ãŸæ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã€ä¸€ã¤ä¸€ã¤ã®è¨˜äº‹ã‚„ç”»åƒã‚’å•†å“ã¨ã—ã¦å£²ã‚Šå‡ºã™ECã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç´™é¢ãªã©ã«æ²è¼‰ã•ã‚Œãªã‹ã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚‚ä¾¡å€¤ã‚’è¦‹å‡ºã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚<br><img src="/images/20220810a/image_(31).png" alt="" width="1200" height="587" loading="lazy"></p><p>ã¾ã ã¾ã GlyphFeedsã®é­…åŠ›ã¯ä¼ãˆãã‚Œã¾ã›ã‚“ãŒã€éå»ã«ã‚‚GlyphFeedsã«ã¤ã„ã¦ç´¹ä»‹ã•ã‚ŒãŸè¨˜äº‹ãŒã”ã–ã„ã¾ã™ã®ã§ã€ãœã²<a href="https://future-architect.github.io/articles/20200914/">ã“ã¡ã‚‰</a>ã‚‚å¾¡è¦§ãã ã•ã„ã€‚</p><h2 id="ç§ãŸã¡ã§æœªæ¥ã‚’å‰µé€ ã™ã‚‹"><a href="#ç§ãŸã¡ã§æœªæ¥ã‚’å‰µé€ ã™ã‚‹" class="headerlink" title="ç§ãŸã¡ã§æœªæ¥ã‚’å‰µé€ ã™ã‚‹"></a>ç§ãŸã¡ã§æœªæ¥ã‚’å‰µé€ ã™ã‚‹</h2><p>2022å¹´ã‹ã‚‰å§‹ã¾ã£ãŸ<a href="https://kyodonewsprwire.jp/release/202204089747">èª­å£²æ–°èç¤¾ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a>ã§ã¯ã€å˜ãªã‚‹GlyphFeedså°å…¥ã ã‘ã§ã¯ãªãã€æ–°ãŸãªæ¥­å‹™é ˜åŸŸã«ã‚‚è¸ã¿è¾¼ã¿ã€æ–°èç¤¾å„ç¤¾ãŒåˆ©ç”¨ã§ãã‚‹æ¥­ç•Œæ¨™æº–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ§‹ç¯‰ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚</p><p>ãƒãƒ«ãƒãƒ™ãƒ³ãƒ€ãƒ¼ã§è¤‡é›‘åŒ–ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã®é›†ç´„ã«ã‚ˆã‚‹ç¶­æŒç®¡ç†ã‚³ã‚¹ãƒˆã®ä½æ¸›ã‚„ã€æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã®åŠ¹ç‡åŒ–ã§å–æè¨˜è€…ã‚„ç·¨é›†è¨˜è€…ã®ä½œæ¥­è² æ‹…ã‚’è»½æ¸›ã™ã‚‹åƒãæ–¹æ”¹é©ãªã©ã€æ–°èæ¥­ç•Œå…¨ä½“ã®èª²é¡Œè§£æ±ºã‚’ç›®æŒ‡ã—ã¾ã™ã€‚</p><p>ã•ã‚‰ã«ã€ä»Šå¾Œã¯GXï¼ˆã‚°ãƒªãƒ¼ãƒ³ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚‚è¦–é‡ã«å…¥ã‚Œã€ç’°å¢ƒã¸ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚ç©æ¥µçš„ã«è¡Œã£ã¦ã„ãã¾ã™ã€‚<br><img src="/images/20220810a/image_(35).png" alt="" width="1200" height="373" loading="lazy"></p><p>ä»Šå¾Œã®GlyphFeedsã®æˆé•·ã«ãœã²ã”æœŸå¾…ãã ã•ã„ï¼</p><h1 id="ã•ã„ã”ã«"><a href="#ã•ã„ã”ã«" class="headerlink" title="ã•ã„ã”ã«"></a>ã•ã„ã”ã«</h1><p>æ–°èç¤¾ã®ç·¨é›†æ¥­å‹™ã€ãã—ã¦ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æ–°èæ¥­ç•Œã¸ã®å–ã‚Šçµ„ã¿ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ãã¾ã—ãŸãŒã€ã„ã‹ãŒã ã£ãŸã§ã—ã‚‡ã†ã‹ã€‚<br>å°‘ã—ã§ã‚‚æ–°èæ¥­ç•Œã€GlyphFeedsã«èˆˆå‘³ã‚’æŒã£ã¦ã„ãŸã ã‘ãŸã‚‰å¹¸ã„ã§ã™ï¼</p><p>æ¬¡å›ã‹ã‚‰ã¯2å›ã«æ¸¡ã‚Šã€æ–°èç¤¾ã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®ç¾çŠ¶ã¨ã“ã‚Œã‹ã‚‰ã«ã¤ã„ã¦ç´¹ä»‹ã™ã‚‹äºˆå®šã§ã™ã€‚<br>æ–°èç¤¾ã®æœªæ¥ã¯ã©ã†ãªã£ã¦ã„ãã®ã‹ãƒ»ãƒ»ãƒ»æ–°èæ¥­ç•Œã®DXã«æºã‚ã‚‹ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®è¦–ç‚¹ã§æ–°èç¤¾ã®æœªæ¥ã«ã¤ã„ã¦è€ƒå¯Ÿã—ã¦ã„ãã¾ã™ã€‚</p><p>ãŠæ¥½ã—ã¿ã«ï¼</p><p>ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒã¯ <a href="https://unsplash.com/es/@freegraphictoday?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">AbsolutVision</a> on <a href="https://unsplash.com/s/photos/newspaper?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a> ã‚’åˆ©ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ–°èè¨˜è€…ã®ä»•äº‹ã€€ã„ã‚ã„ã‚ãªå–æã®ã‹ãŸã¡ã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12659_facil_062/">https://www.homemate-research-newspaper-office.com/useful/12659_facil_062/</a></span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="vertical-align: top; padding-right: 10px;">2.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ–°èè¨˜è€…ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒƒãƒ—ã€Œãƒ‡ã‚¹ã‚¯ã‹ã‚‰æ”¯å±€é•·ã€ã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12670_facil_073/">https://www.homemate-research-newspaper-office.com/useful/12670_facil_073/</a></span><a href="#fnref:2" rev="footnote"> â†©</a></li><li id="fn:3"><span style="vertical-align: top; padding-right: 10px;">3.</span><span style="vertical-align: top;">æ¯æ—¥ã“ã¨ã°ã€Œæ–°èæ ¡é–²ã¯æ™‚é–“ã¨ã®é—˜ã„ã€ï¼š<a href="https://mainichi-kotoba.jp/blog-20181020">https://mainichi-kotoba.jp/blog-20181020</a></span><a href="#fnref:3" rev="footnote"> â†©</a></li><li id="fn:4"><span style="vertical-align: top; padding-right: 10px;">4.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ–°èç´™é¢ã®æ ¡é–²ã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12683_facil_086/">https://www.homemate-research-newspaper-office.com/useful/12683_facil_086/</a></span><a href="#fnref:4" rev="footnote"> â†©</a></li><li id="fn:5"><span style="vertical-align: top; padding-right: 10px;">5.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ²è¼‰ã™ã‚‹æ–°èè¨˜äº‹ã¯ç·¨é›†ãƒ‡ã‚¹ã‚¯ä¼šè­°ã§æ±ºå®šã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12677_facil_080/">https://www.homemate-research-newspaper-office.com/useful/12677_facil_080/</a></span><a href="#fnref:5" rev="footnote"> â†©</a></li><li id="fn:6"><span style="vertical-align: top; padding-right: 10px;">6.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ–°èç´™é¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæ¥­ã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12680_facil_083/">https://www.homemate-research-newspaper-office.com/useful/12680_facil_083/</a></span><a href="#fnref:6" rev="footnote"> â†©</a></li><li id="fn:7"><span style="vertical-align: top; padding-right: 10px;">7.</span><span style="vertical-align: top;">ãƒ¡ãƒ‡ã‚£ã‚¢ãƒã€Œæ–°èã®å°åˆ·ã‹ã‚‰æ¬é€ã€ï¼š<a href="https://www.homemate-research-newspaper-office.com/useful/12684_facil_087/">https://www.homemate-research-newspaper-office.com/useful/12684_facil_087/</a></span><a href="#fnref:7" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220810a/absolutvision-WYd_PkCa1BY-unsplash.jpg&quot; alt=&quot;absolutvision-WYd_PkCa1BY-unsplash.jpg&quot; width=&quot;1200&quot; height=&quot;800&quot;</summary>
        
      
    
    
    
    <category term="Business" scheme="https://future-architect.github.io/categories/Business/"/>
    
    
    <category term="AWS" scheme="https://future-architect.github.io/tags/AWS/"/>
    
    <category term="ãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œ" scheme="https://future-architect.github.io/tags/%E3%83%A1%E3%83%87%E3%82%A3%E3%82%A2%E6%A5%AD%E7%95%8C/"/>
    
    <category term="ãƒ“ã‚¸ãƒã‚¹" scheme="https://future-architect.github.io/tags/%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9/"/>
    
    <category term="æ¥­ç•Œãƒ‰ãƒ¡ã‚¤ãƒ³" scheme="https://future-architect.github.io/tags/%E6%A5%AD%E7%95%8C%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3/"/>
    
    <category term="æ–°èæ¥­ç•Œ" scheme="https://future-architect.github.io/tags/%E6%96%B0%E8%81%9E%E6%A5%AD%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>Go 1.19ã®ãƒ¡ãƒ¢ãƒªå‘¨ã‚Šã®æ›´æ–°</title>
    <link href="https://future-architect.github.io/articles/20220808a/"/>
    <id>https://future-architect.github.io/articles/20220808a/</id>
    <published>2022-08-07T15:00:00.000Z</published>
    <updated>2022-08-08T01:44:06.100Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/articles/20220801a/">Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰</a>ã®6æœ¬ç›®ã§ã™ã€‚</p><p>Go 1.19ã§ã¯ã€ã„ãã¤ã‹ãƒ¡ãƒ¢ãƒªå‘¨ã‚Šã®æ›´æ–°ãŒã‚ã‚Šã¾ã—ãŸã€‚1ã¤ã¯ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿å‘¨ã‚Šã®ãŠè©±ã¨ã€ã‚ã¨ã¯ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã§ã™ã€‚ã€€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯<a href="https://pkg.go.dev/sync/atomic#Int64">sync&#x2F;atomic.Int64</a>ãªã©ã€ã„ãã¤ã‹å‹ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</p><h1 id="ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿"><a href="#ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿" class="headerlink" title="ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿"></a>ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿</h1><p><a href="https://go.dev/doc/gc-guide">ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿ã®è©³ç´°ã¨èª¿æ•´ã®ä»•æ–¹ã«ã¤ã„ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a><br>ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å‹•ä½œã®å¤‰åŒ–ãŒã¿ã‚‰ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ãœã²ã”è¦§ãã ã•ã„ã€‚</p><img src="/images/20220808a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2022-08-03_21.22.41.png" alt="" width="1200" height="500" loading="lazy"><p>ã€ŒGoã¯Javaã¨é•ã£ã¦ã€GCã®èª¿æ•´ãƒã‚¤ãƒ³ãƒˆãŒã»ã¨ã‚“ã©ãªãã€æœ€åˆã‹ã‚‰ãƒˆãƒƒãƒ—ã‚¹ãƒ”ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®é¸æŠã®ä¸­ã§ç›¸å¯¾çš„ã«ï¼‰ã ã‚ˆã€ã¿ãŸã„ã«èª¬æ˜ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ãã†ã„ã†ã‚ã‘ã«ã‚‚è¡Œã‹ãªããªã£ãŸã¨ã„ã†ã‹ã€ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ãŠãå¿…è¦ã¯ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã¨ã¯ã„ãˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚‚ååˆ†ã†ã¾ãã‚„ã£ã¦ãã‚Œã¾ã™ã—ã€ãã‚‚ãã‚‚å³åº§ã«çµ‚äº†ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã¯é ‘å¼µã‚‹å¿…è¦ã‚‚ãªã„ã®ã§ã€é•·æœŸé–“å‹•ä½œã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ç³»ã¨ãã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã®ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ãŒå¤§ãã„ã‚‚ã®ã‚’ä½¿ã£ã¦ã„ã‚‹äººã¯å¿…èª­ã§ã™ãŒã€ãã†ã§ãªã„äººã¯ãã“ã¾ã§è¿½ã„ã‹ã‘ã‚‹å¿…è¦ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><p>ãªãŠã€ã“ã‚Œã¯Goã®è¨€èªä»•æ§˜ã§ã¯ãªãã€Goè£½ã®ç´”æ­£Goå‡¦ç†ç³»ã«ç‰¹åŒ–ã—ãŸè©±ï¼ˆãŸã ã—gccgoã‚‚ã‹ãªã‚Šä¼¼ã¦ã„ã‚‹ã¨ã„ã†æ³¨é‡ˆã¤ã)ã¨ã®ã“ã¨ã§ã™ã€‚ã¾ãŸã€å‡¦ç†ç³»ä¾å­˜ã®è©±ãªã®ã§å°†æ¥ã¯ã¾ãŸå¤‰ã‚ã£ã¦ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p><p>Goã®ãƒ¡ãƒ¢ãƒªæˆ¦ç•¥ãŒæœ€åˆã«ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li>ã‚¹ã‚¿ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªã¯GCã‚’ä½¿ã‚ãšã«ã¾ã¨ã‚ã¦è§£æ”¾ã¨ã„ã†æˆ¦ç•¥ã§æ‰±ã‚ã‚Œã¦ã„ã‚‹</li><li>ãƒ’ãƒ¼ãƒ—ã¯GCãŒç®¡ç†ã™ã‚‹ã€‚ãƒ’ãƒ¼ãƒ—ã«ãŠãã‹ã‚¹ã‚¿ãƒƒã‚¯ã«ãŠãã‹ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¦‹ã¦ãã¾ã‚‹</li><li>Goã®GCã¯ãƒãƒ¼ã‚¯ã‚¢ãƒ³ãƒ‰ã‚¹ã‚¤ãƒ¼ãƒ—æ–¹å¼ã‚’åˆ©ç”¨</li></ul><h2 id="ç’°å¢ƒå¤‰æ•°-GOGC-ï¼ˆgo-1-18ä»¥å‰ã‚ˆã‚Šã‚ã£ãŸï¼‰"><a href="#ç’°å¢ƒå¤‰æ•°-GOGC-ï¼ˆgo-1-18ä»¥å‰ã‚ˆã‚Šã‚ã£ãŸï¼‰" class="headerlink" title="ç’°å¢ƒå¤‰æ•°: GOGC ï¼ˆgo 1.18ä»¥å‰ã‚ˆã‚Šã‚ã£ãŸï¼‰"></a>ç’°å¢ƒå¤‰æ•°: GOGC ï¼ˆgo 1.18ä»¥å‰ã‚ˆã‚Šã‚ã£ãŸï¼‰</h2><p>ã“ã“ã§è¨­å®šã—ãŸå€¤(100ã§10MBã€200ã§20MB)ã ã‘ãƒ’ãƒ¼ãƒ—ãƒ¡ãƒ¢ãƒªãŒä½¿ç”¨ã•ã‚Œã‚‹ã¨ã€GCãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æ•°å€¤ã‚’å°ã•ãã™ã‚Œã°ã™ã‚‹ã»ã©ã€GCãŒèµ°ã‚Šã‚„ã™ããªã‚‹ãŸã‚ã€ç„¡é§„ãªãƒ¡ãƒ¢ãƒªã¯æ¸›ã‚Šã¾ã™ã€‚ä¸€æ–¹ã§GCã®ãƒãƒ¼ã‚¯å‡¦ç†ã¯é‡ã„ãŸã‚ã€CPUã‚’æ¶ˆè²»ã—ã¾ã™ã€‚ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€ŒCPUã‚³ã‚¹ãƒˆã¨ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®é–“ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã€ã‚’èª¿æ•´ã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã¨èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><h2 id="ç’°å¢ƒå¤‰æ•°-GOMEMLIMIT-ï¼ˆgo-1-19ã§è¿½åŠ ï¼‰"><a href="#ç’°å¢ƒå¤‰æ•°-GOMEMLIMIT-ï¼ˆgo-1-19ã§è¿½åŠ ï¼‰" class="headerlink" title="ç’°å¢ƒå¤‰æ•°: GOMEMLIMIT ï¼ˆgo 1.19ã§è¿½åŠ ï¼‰"></a>ç’°å¢ƒå¤‰æ•°: GOMEMLIMIT ï¼ˆgo 1.19ã§è¿½åŠ ï¼‰</h2><p>GOGCã¯CPUã¨ãƒ¡ãƒ¢ãƒªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®è¨­å®šã¨ã—ã¦ã¯æœ‰åŠ¹ã§ã™ãŒã€å®Ÿéš›ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’è€ƒæ…®ã—ãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®Ÿéš›ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ’ãƒ¼ãƒ—ï¼ˆGCã§å‰Šé™¤ã•ã‚Œãªã„ï¼‰ãŒæ€¥ã«å¢—ãˆãŸå ´åˆã«ã€GOGCã ã‘ã§èª¿æ•´ã—ã‚ˆã†ã¨ã™ã‚‹ã¨CPUæ¶ˆè²»é‡ãŒç„¡é§„ã«å¤šããªã‚Šéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã“ã§<a href="https://go.googlesource.com/proposal/+/master/design/48409-soft-memory-limit.md">ææ¡ˆã•ã‚ŒãŸ</a>ã®ãŒã“ã®ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®šã§ã™ã€‚ã“ã®GCã‚¬ã‚¤ãƒ‰ã«ã¯æ›¸ã‹ã‚Œã¦ãªã„ã§ã™ãŒã€â€100MBâ€ã¨ã‹ã€â€100MiBâ€ã¨ã„ã£ãŸå†…å®¹ã‚’è¨­å®šã™ã‚‹ã‚ˆã†ã§ã™ã€‚</p><p>ãªãŠã€ã“ã‚Œã¯ã‚½ãƒ•ãƒˆãƒªãƒŸãƒƒãƒˆã§ã‚ã£ã¦ã€GCãŒç¨¼åƒå¾Œã«ã“ã®ãƒ¡ãƒ¢ãƒªé‡ä»¥ä¸‹ã«ãªã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¦ã¾ã›ã‚“ã€‚GCå¯¾è±¡ã˜ã‚ƒãªã„ãƒ©ã‚¤ãƒ–ãƒ’ãƒ¼ãƒ—ãŒå¢—ãˆã¦ã—ã¾ã†ã¨ã„ãã‚‰GCã§ã‚‚è§£æ”¾ã§ãã¾ã›ã‚“ã€‚ã‚¬ãƒ™ãƒ¼ã‚¸ã˜ã‚ƒãªã„ã§ã™ã—ã€‚5-10%ã»ã©ä½™è£•ã‚’ã¿ã¦è¨­å®šã—ã¾ã—ã‚‡ã†ã€ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€ãƒ‡ãƒ¼ã‚¿é‡ã«æ¯”ä¾‹ã—ã¦ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã™ã‚‹ã‚ˆã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å ´åˆã€ãƒ‡ãƒ¼ã‚¿é‡å´ã‚’åˆ¶é™ã›ãšã«ãƒ¡ãƒ¢ãƒªåˆ¶é™ã ã‘ã—ã¦ã—ã¾ã†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ãŒç™ºç”Ÿã™ã‚‹ã¨ã‚ã‚Šã¾ã™ã€‚</p><p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Goã®ä»®æƒ³ãƒ¡ãƒ¢ãƒªã®ä½¿ã„æ–¹ã®è§£èª¬ã€ã‚¹ãƒˆãƒƒãƒ—ã‚¶ãƒ¯ãƒ¼ãƒ«ãƒ‰ã®GCã¯é‡ã„(CPUã®25%ã‚’æŒã£ã¦ã„ãã—ã€ãƒãƒ¼ã‚¯ã¨ã‚¹ã‚¤ãƒ¼ãƒ—ã‚’åŒæ™‚ã«è¡Œã†ã®ã§ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ãŒå¤§å¹…ã«ä¼¸ã³ã‚‹ï¼‰ã¨ã„ã†è©±ã‚„ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®æŒ‡æ¨™ã®ç´¹ä»‹ãªã©ãŒã‚ã‚Šã¾ã™ã€‚</p><h1 id="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°"><a href="#ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°" class="headerlink" title="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°"></a>ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°</h1><p><a href="https://go.dev/ref/mem">The Go Memory Model</a>ãŒ8å¹´ã¶ã‚Šã«æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®ãƒ™ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹ã®ãŒRuss CoxãŒæŠ•ç¨¿ã—ãŸ3ã¤ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚</p><ul><li><a href="https://research.swtch.com/hwmm">Hardware Memory Models</a></li><li><a href="https://research.swtch.com/plmm">Programming Language Memory Models</a></li><li><a href="https://research.swtch.com/gomm">Updating the Go Memory Model</a></li></ul><p>ãªãŠã€2014å¹´ç‰ˆã‚‚ã€2022å¹´ç‰ˆã‚‚åŒã˜å‰æ›¸ãã¨ãªã£ã¦ã„ã¾ã™ã€‚</p><blockquote><p>ã‚¢ãƒ‰ãƒã‚¤ã‚¹</p><p>åŒæ™‚ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹è¤‡æ•°ã®goroutineã«ã‚ˆã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹ã‚ˆã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯ã€ãã®ã‚ˆã†ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’ç›´åˆ—åŒ–ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚</p><p>ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç›´åˆ—åŒ–ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã™ã‚‹ã«ã¯ã€ãƒãƒ£ãƒãƒ«æ“ä½œã¾ãŸã¯syncã€sync&#x2F;atomicãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã®è¦ç´ ãªã©ã‚’ä½¿ã„ã¾ã™ã€‚</p><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‹•ä½œã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ®‹ã‚Šã®éƒ¨åˆ†ã‚’èª­ã¾ãªã‘ã‚Œã°ãªã‚‰ãªã„å ´åˆã€ã‚ãªãŸã¯é ­ãŒè‰¯ã™ãã¾ã™ã€‚</p><p>è³¢ããªã‚‰ãªã„ã§ãã ã•ã„ã€‚</p></blockquote><p>ã‚ˆã†ã™ã‚‹ã«Goé–‹ç™ºè€…ãŒè¡Œã†ã¹ãã“ã¨ã¯ã€ãƒãƒ£ãƒãƒ«ã€sync&#x2F;atomicãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ã‚’é©åˆ‡ã«ä½¿ã†ã“ã¨ã€ã¨è¨€ã„åˆ‡ã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯2014å¹´ç‰ˆã‚‚2022å¹´ç‰ˆã‚‚å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚CPUç‰¹æœ‰ã®ç™–ãªã©ã‚’é§†ä½¿ã—ãŸãƒˆãƒªãƒƒã‚­ãƒ¼ãªãƒ­ãƒƒã‚¯ãƒ•ãƒªãƒ¼ãªé †åºåˆ¶å¾¡ï¼ï¼ï¼ã¿ãŸã„ãªã“ã¨ã‚’ã™ã‚‹ã¨ãƒˆãƒ©ãƒ–ãƒ«ã®å…ƒã«ãªã‚‹ã®ã§ã‚„ã‚ã¨ã‘ã‚ˆã€ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªä½“ã¯Goã§ã‚¢ãƒ—ãƒªã‚’æ›¸ãäººå‘ã‘ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€ä¸»ã«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’å®Ÿè£…ã™ã‚‹äººå‘ã‘ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚ˆã†ãªã‚‚ã®ã‹ã¨æ€ã„ã¾ã™ã€‚</p><h3 id="The-Go-Memory-Modelã®æ›´æ–°å†…å®¹"><a href="#The-Go-Memory-Modelã®æ›´æ–°å†…å®¹" class="headerlink" title="The Go Memory Modelã®æ›´æ–°å†…å®¹"></a>The Go Memory Modelã®æ›´æ–°å†…å®¹</h3><p>Goå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ–¹ã§ã©ã®ã‚ˆã†ãªå¤‰æ›´ãŒã‚ã£ãŸã®ã‹ã‚’ç›®diffã§å·®åˆ†ã‚’èª¿ã¹ã¾ã—ãŸã€‚</p><ul><li>Happens BeforeãŒ[<a href="https://go.dev/ref/mem#model]">https://go.dev/ref/mem#model]</a>(Memory Model)ã«ãƒªãƒ©ã‚¤ãƒˆ<ul><li>ä»–ã®è¨€èªã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®è«–æ–‡ç­‰ã¨åŒã˜èªå½™ã‚’ä½¿ã£ã¦å³å¯†ã«æ›¸ãæ›ãˆãŸã‚ˆã†ã«è¦‹ãˆã‚‹</li></ul></li><li><a href="https://go.dev/ref/mem#restrictions">Implementation Restrictions for Programs Containing Data Races</a>ãŒè¿½åŠ <ul><li>ThreadSanitizer (go build -race) ã®ç´¹ä»‹ã‚„ã€å˜ä¸€ã®å‘½ä»¤ã§ä¸€åº¦ã«èª­ã¿æ›¸ãã§ããªã„æ“ä½œãŒåˆ†æ–­ã•ã‚Œã¦è¡Œã‚ã‚ŒãŸæ™‚ï¼ˆã‚¹ãƒ©ã‚¤ã‚¹ã®3ã¤ã®æ§‹æˆè¦ç´ ã¨ã‹)ã®å•é¡Œã«ã¤ã„ã¦è¨€åŠ</li></ul></li><li>Synchronization<ul><li><a href="https://go.dev/ref/mem#locks">Locksã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³</a>ã§ã€1.18ã§è¿½åŠ ã•ã‚ŒãŸTryLockã®è¨˜è¿°ãŒè¿½åŠ </li><li><a href="https://go.dev/ref/mem#atomic">Atomic Values</a>, <a href="https://go.dev/ref/mem#finalizer">Finalizers</a>, <a href="https://go.dev/ref/mem#more">Additional Mechanisms</a>ãŒè¿½åŠ </li></ul></li><li><a href="https://go.dev/ref/mem#badcompiler">Incorrect compilation</a>ãŒè¿½åŠ <ul><li>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®Ÿè£…è€…å‘ã‘</li></ul></li></ul><p>Synchronizationã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯è¿½åŠ èª¬æ˜ã‚„ã“ã“ã€€ï¼˜å¹´é–“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ ã‚’åæ˜ ã—ãŸå°ç²’ãªå¤‰æ›´ã¨ãªã£ã¦ã„ã¾ã™ã€‚å¤§ããèª¬æ˜ãŒå¤‰ã‚ã£ãŸã®ãŒæœ€åˆã®ãƒ¢ãƒ‡ãƒ«èª¬æ˜ï¼ˆãŸã ã—å†…å®¹ã¯å¤§ããå¤‰ã‚ã£ã¦ã„ãªã„ã‚ˆã†ã«è¦‹ãˆã‚‹ï¼‰ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®Ÿè£…è€…å‘ã‘ã®èª¬æ˜ã®è¿½åŠ ã§ã™ã­ã€‚</p><h2 id="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦"><a href="#ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦" class="headerlink" title="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦"></a>ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦</h2><p>Russ Coxã®3ã¤ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚1å‘¨ã§ã¯ç†è§£ã§ããªã‹ã£ãŸã®ã§ã€ä½•å‘¨ã‹èª­ã‚“ã§ã¿ãŸçµæœã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã§ã™ã€‚</p><h3 id="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã¯"><a href="#ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã¯" class="headerlink" title="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã¯"></a>ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã¯</h3><ul><li>ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã¯ä¸è¦ã ã£ãŸãŒã€ãƒãƒ«ãƒãƒ—ãƒ­ã‚»ã‚¹ãŒå‡ºã¦ããŸã®ã§å¿…è¦ã«ãªã£ãŸã€‚</li><li>å¤§é›‘æŠŠã«ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã„ã†ã®ã¯ã€ã€Œãƒ¡ãƒ¢ãƒªã®èª­ã¿æ›¸ãã®é †åºã€ã®æ±ºå®šæ€§ã®å•é¡Œ<ul><li>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæœ€é©åŒ–ç›®çš„ã§å‘½ä»¤ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹<ul><li>RISCã®CPUå‘ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ–¹ãŒç©æ¥µçš„ã«ä»‹å…¥ã™ã‚‹ã¨ã„ã†ã®ã‚’è´ã„ãŸã“ã¨ãŒã‚ã‚‹(æ¸‹å·è£œè¶³)</li></ul></li><li>CPUãŒå‘½ä»¤ã‚’è§£é‡ˆã—ã¦åˆ¶ç´„ã‚’å´©ã•ãªã„ä¸­ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«é †åºã‚’å‹æ‰‹ã«æ›¸ãæ›ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼ˆæ¸‹å·è£œè¶³: ã‚¢ã‚¦ãƒˆã‚ªãƒ–ã‚ªãƒ¼ãƒ€ãƒ¼ï¼‰</li></ul></li><li>ãƒ¡ãƒ¢ãƒªã‚ªãƒ¼ãƒ€ãƒ¼ã«ã¯ãƒ©ãƒ³ã‚¯ãŒã‚ã‚‹ã€‚é€æ¬¡ä¸€è²«æ€§(Sequential Consistency)â†’å¼±ã„ä¸€è²«æ€§â†’ã‚†ã‚‹ã„ä¸€è²«æ€§ã¨ã“ã“ã§ã¯ï¼“æ®µéšã‚ã‚‹ã‚ã‚‹ã€‚å¼±ã„ã»ã©ä¸¦ã³æ›¿ãˆãŒè‡ªç”±ã«è¡Œã‚ã‚Œã‚‹ã€‚<ul><li>ä¿è¨¼ãŒå¼±ã‘ã‚Œã°å¼±ã„ã»ã©ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãŸã‚ã®çµ„ã¿æ›¿ãˆã®è‡ªç”±åº¦ãŒä¸ŠãŒã‚‹ã®ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ä¸ŠãŒã‚‹</li></ul></li><li>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ä¸¡æ–¹ãŒãƒ¡ãƒ¢ãƒªã‚’ãƒ¢ãƒ‡ãƒ«ã‚’æŒã¤</li><li>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¯ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ãã®ä¸Šã§å‹•ãã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®å¥‘ç´„</li><li>è¨€èªå´ã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®å¥‘ç´„</li><li>è¨€èªå´ã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®ç¾åœ¨ã®æ¨™æº–ã¯æ¥µã‚ã¦ä¿å®ˆçš„ãªï¼ˆJava 1.5ã€C++11ã€Go 1.19ãªã©)ã¯é€æ¬¡ä¸€è²«æ€§ã ãŒã€ ã“ã‚Œã§ã¯æ€§èƒ½ãŒä¸ŠãŒã‚‰ãªã„ãŸã‚ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¯ã‚ˆã‚ŠæŸ”è»Ÿæ€§ãŒé«˜ã„ï¼ˆã‚†ã‚‹ã„ï¼‰ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã‚’æŒã¤ã®ãŒæ™®é€šã¨ã®ã“ã¨</li><li>ä¿è¨¼ãŒå¿…è¦ä»¥ä¸Šã«å¼·ã„ã¨ã€ãã‚Œã«ç”˜ãˆãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢å®Ÿè£…ã«ãªã£ã¦ã—ã¾ã„ã€å°†æ¥é€Ÿåº¦ã®ãŸã‚ã«ã‚†ã‚‹ã„ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®CPUãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ã¨å‹•ã‹ãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã‹ã­ãªã„ã€‚</li></ul><h3 id="ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ãŠè©±"><a href="#ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ãŠè©±" class="headerlink" title="ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ãŠè©±"></a>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ãŠè©±</h3><p>ä»¥ä¸‹ã®å›³ã¯<a href="https://research.swtch.com/hwmm">Hardware Memory Models</a>ã‹ã‚‰ã®å¼•ç”¨ã«ãªã‚Šã¾ã™ã€‚</p><ul><li>é€æ¬¡ä¸€è²«æ€§ã§ã¯å¸¸ã«å…±æœ‰ãƒ¡ãƒ¢ãƒªã¨åŒæœŸã‚’å–ã‚‹</li></ul><img src="/images/20220808a/ä¸€è²«æ€§.png" alt="ä¸€è²«æ€§" width="964" height="190" loading="lazy"><ul><li>Intel(x86-TSO)ã®æ–¹ãŒãã‚Œã‚ˆã‚Šã‚‚ã‚†ã‚‹ã„ãƒ¢ãƒ‡ãƒ«ã¨ãªã£ã¦ã„ã‚‹ã€‚</li></ul><img src="/images/20220808a/intel.png" alt="intel" width="964" height="360" loading="lazy"><ul><li>ARMã¯ã•ã‚‰ã«å¼±ã„ãƒ¢ãƒ‡ãƒ«ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒ¡ãƒ¢ãƒªã®ã‚³ãƒ”ãƒ¼ã‚’æŒã£ã¦ã€å¿…è¦ã«å¿œã˜ã¦ä»–ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã«ã‚³ãƒ”ãƒ¼ã‚’ä¼æ¬ã•ã›ã‚‹å®Ÿè£…ã¨ã®ã“ã¨ã€‚</li></ul><img src="/images/20220808a/ARM.png" alt="ARM" width="616" height="588" loading="lazy"><ul><li>ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ï¼ˆã‚ã‚‹ã„ã¯ãƒ¡ãƒ¢ãƒªãƒ•ã‚§ãƒ³ã‚¹ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ï¼‰ã‚’ä½¿ã†ã“ã¨ã§ã€å‰ã®å‡¦ç†ãŒçµ‚ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤ºçš„ã«ç¤ºã›ã‚‹ã€‚</li></ul><p>ã‚ã¨ã¯ã€Plan 9ã‚’Pentium Proã«ç§»æ¤ã—ã‚ˆã†ã¨ã—ãŸã¨ãã®è‹¦åŠ´è©±ãŒãŸãã•ã‚“æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã“ã“ãŒä¸€ç•ªèªã‚ŠãŸã‹ã£ãŸã“ã¨ã§ã¯ãªã„ã‹ï¼Ÿ</p><h3 id="ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«"><a href="#ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«" class="headerlink" title="ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«"></a>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«</h3><ul><li>ä¸»ã«DRF-SCãŒåˆ©ç”¨ã•ã‚Œã‚‹<ul><li>SC for DRFã¨ã‚‚å‘¼ã°ã‚Œã‚‹</li><li>ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ¼ã‚¹ãŒãªã„çŠ¶æ…‹ã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ¼ã‚¹ãŒãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯é€æ¬¡ä¸€è²«ã—ãŸæ–¹æ³•ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¦ã€çµæœãŒæƒ³åƒã—ã‚„ã™ã„ã€‚</li></ul></li><li>Goã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«<ul><li>DRF-SCã€‚ä»–ã®è¨€èªã¨åŒã˜ã€‚</li><li>ãƒ‡ãƒ¼ã‚¿ã®ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹çŠ¶æ³ã§ã®å®Ÿè£…ãŒã¡ã‚‡ã£ã¨é•ã†ã€‚<ul><li>C++ã¯è‡ªç”±</li><li>Javaã¯ãã®ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã®çŠ¶æ³ã‚‚ã‚ˆã‚Šå³å¯†ã«å®šç¾©ã•ã‚Œã¦ã„ã¦ãƒ‡ãƒãƒƒã‚°ãŒæ¥½</li><li>Goã¯ä¿å®ˆçš„ãªrace conditionãƒã‚§ãƒƒã‚¯ã¨ã€å®Ÿè¡Œæ™‚ã¯ãƒãƒ¼ã‚¬ãƒ¼ãƒ‰(ãƒ‘ãƒ‹ãƒƒã‚¯)</li></ul></li></ul></li></ul><p>1è¡Œã«ã¾ã¨ã‚ã‚‹ã¨ã€ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®å¼·åº¦ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãŒã‚ã‚Šã€å¼±ãã™ã‚‹ã»ã©æœ€é©åŒ–ã®ä½™åœ°ãŒã‚ã‚‹ãŒã€ã‚³ãƒ¼ãƒ‰ã¨å®Ÿéš›ã®å‹•ãã®é•ã„ãŒå‡ºã¦ãã¦å‹•ä½œã®äºˆæ¸¬ã¯ã—ã«ãããªã‚‹ã€‚æœ€æ–°ã®Goã‚’ã¯ã˜ã‚ã¨ã—ãŸå„ç¨®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¯ä¿å®ˆçš„ã§äºˆæ¸¬ã—ã‚„ã™ã„ã‚‚ã®ã‚’é¸ã‚“ã ãŒã€ãã®ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¯æŸ”è»Ÿãªãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã€ã¨ã„ã†æ„Ÿã˜ã§ã™ã‹ã­ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>GCã®æ–¹ã¯èª¿æ•´ã®ä½™åœ°ãŒå¤šå°‘å‡ºã¦ããŸãŸã‚ã€å¤§è¦æ¨¡ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã“ã®ã‚ãŸã‚Šã‚‚æ„è­˜ã™ã‚‹å¿…è¦ãŒå‡ºã¦ãã¾ã—ãŸã€‚ã¨ã„ã£ã¦ã‚‚ã€èª¿æ•´ã®ç’°å¢ƒå¤‰æ•°ã¯ã¾ã 2ã¤ãªã®ã§ã€ã¾ã ã¾ã ååˆ†ã«ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®èª¬æ˜ã¯ã€èª­ã‚ã°èª­ã‚€ã»ã©æ™®æ®µã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®è©±ã‹ã‚‰ã¯ã¡ã‚‡ã£ã¨é ã„ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã‹ãªã‚Šä½ã„è©±ã§ã—ãŸã€‚æ™®æ®µã®é–‹ç™ºã§ã©ã®ã‚ˆã†ãªå½±éŸ¿ãŒã‚ã‚‹ã‹ã¨ã„ã†ã¨ã‚ã¾ã‚Šãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚syncãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æä¾›ã™ã‚‹å„ç¨®åŒæœŸãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã€ãƒãƒ£ãƒãƒ«ã‚’ä½¿ã£ãŸåŒæœŸã€sync&#x2F;atomicãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ã‚’æ™®æ®µã‹ã‚‰æ­£ã—ãä½¿ã£ã¦ã„ã‚Œã°ç‰¹ã«å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p><p>The Go Memory Modelã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä»Šå›åˆã‚ã¦ã˜ã£ãã‚Šèª­ã‚“ã§ã¿ã¾ã—ãŸãŒã€<a href="https://go.dev/ref/mem#synchronization">Synchronization</a>ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã€ãƒ¡ãƒ¢ãƒªã«é™ã‚‰ãšã€ã€Œâ—‹â—‹ã¨â–³â–³ã¯ã€å¿…ãšå‰è€…ã®å®Œäº†å¾Œã«ã‚‚ã†ç‰‡æ–¹ãŒå‘¼ã°ã‚Œã‚‹ã€ã¨ã„ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã¤ã„ã¦ã®è¨€èªä»•æ§˜é›†ã¨ã‚‚ãªã£ã¦ã„ã¾ã™ã®ã§ã€ä¸€åº¦è»½ãç›®ã‚’é€šã—ã¦ãŠãã¨ã‚ˆã•ãã†ã§ã™ã€‚èª­æ›¸ä¼šã®ãƒã‚¿ã«æœ€é©ã€‚</p><p>ä½™è«‡ã§ã™ãŒã€Apple Siliconã®macã¯Rosetta2ã§ã‚¤ãƒ³ãƒ†ãƒ«ãƒã‚¤ãƒŠãƒªã‚’ARMã§ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦å®Ÿè¡Œã—ã¾ã™ãŒã€Appleã¯ã“ã®ãŸã‚ã«ã‚¤ãƒ³ãƒ†ãƒ«æ–¹å¼ã®å¼·ã„åˆ¶ç´„ã‚’å®Ÿè£…ã—ãŸã‚ˆã†ã§ã™ã€‚åŒã˜ARMã¨ã„ã£ã¦ã‚‚ã€Microsoftã®Surfaceã®ã‚¤ãƒ³ãƒ†ãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨æ¯”ã¹ã¦Appleã®æ–¹ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåœ§å€’çš„ã«é«˜ã„ã®ã¯ã€å…ƒã€…ã®ã‚³ã‚¢ã®æ€§èƒ½å·®ã‚‚ã‚ã‚‹ãŒã“ã†ã„ã†ã¨ã“ã‚ã«ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚</p><ul><li><a href="https://www.infoq.com/news/2020/11/rosetta-2-translation/">https://www.infoq.com/news/2020/11/rosetta-2-translation/</a></li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;a href=&quot;/articles/20220801a/&quot;&gt;Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰&lt;/a&gt;ã®6æœ¬ç›®ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;Go 1.19ã§ã¯ã€ã„ãã¤ã‹ãƒ¡ãƒ¢ãƒªå‘¨ã‚Šã®æ›´æ–°ãŒã‚ã‚Šã¾ã—ãŸã€‚1ã¤ã¯ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚¿å‘¨ã‚Šã®ãŠè©±ã¨ã€ã‚ã¨ã¯ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã§ã™ã€‚ã€€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯&lt;a</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
    <category term="ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«" scheme="https://future-architect.github.io/tags/%E3%83%A1%E3%83%A2%E3%83%AA%E3%83%A2%E3%83%87%E3%83%AB/"/>
    
  </entry>
  
  <entry>
    <title>Go 1.19 Genericsã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</title>
    <link href="https://future-architect.github.io/articles/20220805a/"/>
    <id>https://future-architect.github.io/articles/20220805a/</id>
    <published>2022-08-04T15:00:00.000Z</published>
    <updated>2022-08-05T03:00:11.205Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220805a/baner.png" alt="" width="1200" height="479" loading="lazy"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã“ã‚“ã«ã¡ã¯ã€‚DXãƒ¦ãƒ‹ãƒƒãƒˆã®æ‘ä¸Šã§ã™ã€‚<br>æœ¬è¨˜äº‹ã¯<a href="/articles/20220801a/">Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰</a>ã®5æœ¬ç›®ã§ã™ã€‚é–¢æ•°ã‚„ãƒ¬ã‚·ãƒ¼ãƒã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®å¾®ä¿®æ­£ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p><p>Release Noteã§ã¯æ¬¡ã®ç®‡æ‰€ã«ãªã‚Šã¾ã™ã€‚</p><p><a href="https://tip.golang.org/ref/spec#Declarations_and_scope">https://tip.golang.org/ref/spec#Declarations_and_scope</a></p><blockquote><p>The scope of an identifier denoting a type parameter of a function or declared by a method receiver begins after the name of the function and ends at the end of the function body.</p></blockquote><p>ç¿»è¨³ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><blockquote><p>é–¢æ•°ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ãƒ¬ã‚·ãƒ¼ãƒã§å®£è¨€ã•ã‚ŒãŸã‚‚ã®ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯ã€é–¢æ•°åã®å¾Œã‚ã‹ã‚‰é–¢æ•°æœ¬ä½“ã®çµ‚ç«¯ã¾ã§ã§ã™ã€‚</p></blockquote><p>ã—ã‹ã—æœ¬ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯Go 1.19ã§ãƒªãƒªãƒ¼ã‚¹äºˆå®šã§ã—ãŸãŒã€Go 1.20ã§ã®ãƒªãƒªãƒ¼ã‚¹ã«å¤‰æ›´ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚<br><a href="https://github.com/golang/go/issues/51503#issuecomment-1154209161">https://github.com/golang/go/issues/51503#issuecomment-1154209161</a></p><p>ã‚ˆã£ã¦Go 1.20ãƒªãƒªãƒ¼ã‚¹äºˆå®šã®ç´¹ä»‹ã¨ã„ã†æ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚</p><h1 id="å¾“æ¥ã®å•é¡Œç‚¹"><a href="#å¾“æ¥ã®å•é¡Œç‚¹" class="headerlink" title="å¾“æ¥ã®å•é¡Œç‚¹"></a>å¾“æ¥ã®å•é¡Œç‚¹</h1><p>ã“ã¡ã‚‰ã®issueã§å•é¡Œæèµ·ã•ã‚Œã¦ã„ã¾ã™ã€‚<br><a href="https://github.com/golang/go/issues/51503">https://github.com/golang/go/issues/51503</a></p><p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãŒä¾‹ã¨ã—ã¦æç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T[T any] <span class="keyword">struct</span> &#123;&#125; <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(T[T])</span></span> Bar() &#123;&#125; <span class="comment">// error: T is not a generic type</span></span><br></pre></td></tr></table></figure><p>å‰è€…ãŒOKãªã‚‰å¾Œè€…ã‚‚OKã§ã‚ã‚‹ã¹ãã¨è­°è«–ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚</p><h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><p>å¾Œè€…ãŒãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹åŸå› ã¯ä»¥ä¸‹ã®issueã§èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚<br><a href="https://github.com/golang/go/issues/52038">https://github.com/golang/go/issues/52038</a></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(T[T])</span></span> Bar() &#123;&#125;</span><br></pre></td></tr></table></figure><p><code>[T]</code>ã®<code>T</code>ãŒå¤–å´ï¼ˆå·¦å´ï¼‰ã®<code>T</code>ã‚’å‚ç…§ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã§ã™ã€‚</p><p>é€†ã«å¤–å´ã‚’<code>T</code>ä»¥å¤–ã«ã™ã‚Œã°ã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Hoge[T any] <span class="keyword">struct</span>&#123;&#125; <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(Hoge[T])</span></span> Bar() &#123;&#125; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><p>å¾Œè€…ã®<code>Hoge</code>ã€<code>[T]</code>ã¯å‰è€…ã®<code>Hoge</code>ã€<code>[T any]</code>ã‚’ãã‚Œãã‚Œå‚ç…§ã§ãã¦ã„ã‚‹ãŸã‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚</p><p>ã‚‚ã—ãã¯<code>[T]</code>ã‚’åˆ¥ã®æ–‡å­—ã«ç½®ãæ›ãˆã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T[T any] <span class="keyword">struct</span>&#123;&#125; <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(T[Hoge])</span></span> Bar() &#123;&#125; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><h1 id="è§£æ±ºç­–"><a href="#è§£æ±ºç­–" class="headerlink" title="è§£æ±ºç­–"></a>è§£æ±ºç­–</h1><p>å†’é ­ã§å¼•ç”¨ã—ãŸãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã«ã™ã‚‹ã“ã¨ã§ã€ã“ã‚ŒãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªããªã‚Šã¾ã™ã€‚<br>ãƒ¬ã‚·ãƒ¼ãƒã®ä¸­ã§å®£è¨€ã•ã‚ŒãŸå‹ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’é–¢æ•°åä»¥é™ã«ã—ã¾ã™ã€‚<br>ã“ã‚Œã«ã‚ˆã£ã¦ã€å¤–å´ã®<code>T</code>ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯é–¢æ•°åä»¥é™ã¨ãªã‚Šã€<code>[T]</code>ã«é©ç”¨ã•ã‚Œãªããªã‚Šã¾ã™ã€‚</p><h1 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h1><p>ã‹ãªã‚Šãƒã‚¤ãƒŠãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã™ãŒã€GolangãŒã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸè¨€èªã«ãªã‚‹ã“ã¨ã¯é–“é•ã„ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚<br>ä¿®æ­£ç¯„å›²ãŒå¤§ãã„ã¨ã„ã†ã“ã¨ã§æƒœã—ãã‚‚Go 1.19ã§ã®ãƒªãƒªãƒ¼ã‚¹ã¯è¦‹é€ã‚‰ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸãŒã€Go 1.20ã§ã¯ä¿®æ­£ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§æœŸå¾…ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220805a/baner.png&quot; alt=&quot;&quot; width=&quot;1200&quot; height=&quot;479&quot; loading=&quot;lazy&quot;&gt;

&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹" scheme="https://future-architect.github.io/tags/%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AA%E3%82%AF%E3%82%B9/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
  </entry>
  
  <entry>
    <title>Go1.19 net/http ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</title>
    <link href="https://future-architect.github.io/articles/20220804a/"/>
    <id>https://future-architect.github.io/articles/20220804a/</id>
    <published>2022-08-03T15:00:00.000Z</published>
    <updated>2022-08-04T02:26:11.891Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220804a/top.png" alt="" width="827" height="361"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>TIGã®è¾»ã§ã™ã€‚<a href="(/articles/20220801a/)">Go 1.19é€£è¼‰</a>ã®4æœ¬ç›®ã§ã™ã€‚</p><p><a href="https://tip.golang.org/doc/go1.19">Go Release Notes</a> ã«è¨˜è¼‰ãŒã‚ã‚‹ Minor changes to the library ã® <code>net/http</code> ã®3ç‚¹ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãã¾ã™ã€‚<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p><ul><li><code>ResponseWriter.WriteHeader</code> ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸ 1xx ç³»ã®æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ</li><li><code>MaxBytesReader</code> ãŒèª­ã¿å–ã‚Šåˆ¶é™ã‚’è¶…éã—ãŸå ´åˆã« <code>MaxBytesError</code> ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ</li><li><code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„ 3xx ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã‚ãªã„ã‚ˆã†ã«ãªã£ãŸ</li></ul><h2 id="â‘ ResponseWriter-WriteHeader-ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸ-1xx-ç³»ã®æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ"><a href="#â‘ ResponseWriter-WriteHeader-ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸ-1xx-ç³»ã®æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ" class="headerlink" title="â‘ ResponseWriter.WriteHeader ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸ 1xx ç³»ã®æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ"></a>â‘ <code>ResponseWriter.WriteHeader</code> ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸ 1xx ç³»ã®æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ</h2><p>Go 1.19 ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸHTTPã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ 1xx ç³»ã®æƒ…å ±ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚Go 1.18 ã¾ã§ã¯Goã® <code>net/http</code> ã‚’ä½¿ã£ãŸHTTPã‚µãƒ¼ãƒã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 1xx ç³»ã‚’æ›¸ãè¾¼ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚é–¢é€£ã™ã‚‹Issue ã¯ä»¥ä¸‹ãªã©ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚</p><ul><li><a href="https://github.com/golang/go/issues/26089">net&#x2F;http: Server&#x2F;Handler&#x2F;ResponseWriter doesnâ€™t allowing sending arbitrary 1xx responses</a></li><li><a href="https://github.com/golang/go/issues/36734">net&#x2F;http: support status code 102 (Processing) in ResponseWriter</a></li><li><a href="https://github.com/golang/go/issues/26088">net&#x2F;http&#x2F;httputil: make ReverseProxy forward 1xx responses</a></li></ul><p>Goã®æ”¹å–„å†…å®¹ã®è©³ç´°ã‚’ç´¹ä»‹ã™ã‚‹å‰ã« 1xx ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒã©ã†ã„ã†ã‚‚ã®ã§ã‚ã‚‹ã‹ã€ã©ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚‹ã‹ç°¡å˜ã«ãŠã•ã‚‰ã„ã—ã¦ãŠãã¾ã™ã€‚</p><h3 id="1xx-ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰"><a href="#1xx-ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰" class="headerlink" title="1xx ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰"></a>1xx ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰</h3><p>1xx ã¯æƒ…å ±ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚</p><blockquote><p>The 1xx (Informational) class of status code indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response. 1xx responses are terminated by the first empty line after the status-line (the empty line signaling the end of the header section).  Since HTTP&#x2F;1.0 did not define any 1xx status codes, a server MUST NOT send a 1xx response to an HTTP&#x2F;1.0 client.</p></blockquote><p><a href="https://httpwg.org/specs/rfc7231.html">Hypertext Transfer Protocol (HTTP&#x2F;1.1): Semantics and Content</a> ã‚ˆã‚Š</p><p>ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®3ã¤ã§ã™ã€‚</p><ol><li>è¦æ±‚ã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Œäº†ã—æœ€çµ‚çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ä¿¡ã™ã‚‹å‰ã«ã€ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é€²æ—çŠ¶æ³ã‚’ä¼ãˆã‚‹ãŸã‚ã®ä¸­é–“çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ã‚ã‚‹</li><li>1xx ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡Œã®å¾Œã®æœ€åˆã®ç©ºè¡Œ(ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®çµ‚ã‚ã‚Šã‚’ç¤ºã™ç©ºè¡Œ)ã§çµ‚äº†ã™ã‚‹</li><li>HTTP&#x2F;1.0 ã§ã¯å®šç¾©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚µãƒ¼ãƒãƒ¼ã¯ HTTP&#x2F;1.0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã« 1xx ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ä¿¡ã—ã¦ã¯ã„ã‘ãªã„</li></ol><p>ã“ã®æŒ™å‹•ã¯å…·ä½“çš„ã«ã©ã®ã‚ˆã†ã«ãªã‚‹ã®ã‹ 1xx ç³»ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä¸€ã¤ã§ã‚ã‚‹ <a href="https://httpwg.org/specs/rfc8297.html">103 Early Hints</a> ã‚’ä½¿ã£ã¦ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚</p><h3 id="103-Early-Hints"><a href="#103-Early-Hints" class="headerlink" title="103 Early Hints"></a>103 Early Hints</h3><p>103 Early Hints ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæœ€çµ‚çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«å½¹ç«‹ã¤ãƒ’ãƒ³ãƒˆã‚’ä¼ãˆã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ãƒ˜ãƒƒãƒ€ã ã‘ã‚’é€ã‚‹ç›®çš„ã§ä½¿ã‚ã‚Œã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹é…ä¿¡ã®æœ€é©åŒ–ã«å½¹ã«ç«‹ã¤ã€ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚RFCã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ EXPERIMENTAL ã§ã‚ã‚Šã€å®Ÿé¨“çš„ãªä»•æ§˜ã§ã™ã€‚<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p><p>103 Early Hints ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒè§£é‡ˆã™ã‚‹å ´åˆ&#x2F;ã—ãªã„å ´åˆã®ãã‚Œãã‚Œã®æŒ™å‹•ã‚’è£œè¶³ã—ã¾ã™ã€‚</p><ul><li>103 Early Hints ã‚’è§£é‡ˆã™ã‚‹å ´åˆã®æŒ™å‹•</li></ul><img src="/images/20220804a/3.png" alt="3.png" width="654" height="520" loading="lazy"><p>ã‚¤ãƒ¡ãƒ¼ã‚¸å›³ã¯æ—¥æœ¬çµŒæ¸ˆæ–°èç¤¾ã•ã‚“ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã€Œ<a href="https://hack.nikkei.com/blog/advent20201220/">Chromeã¨Fastlyã®Early Hintsã®åŠ¹æœè¨ˆæ¸¬ã«è²¢çŒ®ã™ã‚‹</a>ã€ã‚ˆã‚Šå¼•ç”¨ã—ã¦ã„ã¾ã™ã€‚</p><p>å›³å·¦ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå›³å³ã®ã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦ <code>GET /index.html</code> ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã¨ãã«ã€ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”å´ã•ã‚Œã‚‹å‰ã«ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ 103 Early Hints ã¨ <code>link</code> ãƒ˜ãƒƒãƒ€ãƒ¼ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã•ã‚Œã¾ã™ã€‚ 103 Early Hints ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ã‘å–ã£ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ <code>GET /index.html</code> ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ãŸãšã—ã¦ <code>link</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¨˜è¼‰ãŒã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ <code>/main.css</code> ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãã¾ã™ã€‚<code>GET /main.css</code> ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã“ã¨ã§ã€æœ€çµ‚çš„ãª <code>/index.html</code> ã§å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ <code>/main.css</code> ã‚’äºˆã‚å–å¾—ã§ãã¾ã™ã€‚</p><ul><li>103 Early Hints ã‚’è§£é‡ˆã—ãªã„å ´åˆã®æŒ™å‹•</li></ul><img src="/images/20220804a/2.png" alt="2.png" width="589" height="520" loading="lazy"><p>103 Early Hints ã‚’è§£é‡ˆã—ãªã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚Šã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ <code>GET /index.html</code> ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”å´ã•ã‚ŒãŸå¾Œã« <code>GET /main.css</code> ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦æœ€çµ‚çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã—ã¾ã™ã€‚</p><h3 id="net-http-ã®æŒ™å‹•ã®å¤‰åŒ–"><a href="#net-http-ã®æŒ™å‹•ã®å¤‰åŒ–" class="headerlink" title="net/http ã®æŒ™å‹•ã®å¤‰åŒ–"></a><code>net/http</code> ã®æŒ™å‹•ã®å¤‰åŒ–</h3><p>å‰ç½®ããŒå°‘ã—é•·ããªã‚Šã¾ã—ãŸã€‚å…ˆç¨‹ç´¹ä»‹ã—ãŸ 103 Early Hints ã¨ 200 OKã‚’è¿”å´ã™ã‚‹ã‚ˆã†ãªHTTPã‚µãƒ¼ãƒã‚’ <code>net/http</code> ã‚’ä½¿ã£ã¦å®Ÿè£…ã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒä¸€ä¾‹ã¨ã—ã¦è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">earlyHintHandler := http.HandlerFunc(<span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">h := w.Header()</span><br><span class="line">h.Add(<span class="string">&quot;Link&quot;</span>, <span class="string">&quot;&lt;/main.css&gt;; rel=preload; as=style&quot;</span>)</span><br><span class="line">w.WriteHeader(http.StatusEarlyHints)</span><br><span class="line"></span><br><span class="line">w.Write([]<span class="type">byte</span>(<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">mux := http.NewServeMux()</span><br><span class="line">mux.Handle(<span class="string">&quot;/&quot;</span>, earlyHintHandler)</span><br><span class="line">log.Fatal(http.ListenAndServe(<span class="string">&quot;localhost:8080&quot;</span>, mux))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Go 1.18ã¾ã§ã¯ <code>WriteHeader()</code> ã¯ä»»æ„ã® 1xx ç³»ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã®ã“ã¨ã¯ <a href="https://pkg.go.dev/net/http@go1.18.5#ResponseWriter.WriteHeader">WriteHeader</a> ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚</p><blockquote><p>Go does not currently support sending user-defined 1xx informational headers, with the exception of 100-continue response header that the Server sends automatically when the Request.Body is read.</p></blockquote><p>ãã®ãŸã‚ã€ä¸Šè¨˜ã®å®Ÿè£…ã‚’ Go 1.18 ã§ãƒ“ãƒ«ãƒ‰&amp;èµ·å‹•ã—ãŸã‚µãƒ¼ãƒã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã‚‚æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚103 Early Hints ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã®ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ãŒã€200 OK ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰æ›¸ãè¾¼ã¾ã‚Œã¾ã›ã‚“ã€‚<code>curl</code><sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup> ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ã¡ç¶šã‘ã¾ã™ã€‚</p><figure class="highlight bash"><figcaption><span>Go 1.18ã®HTTPã‚µãƒ¼ãƒã®å ´åˆ</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; curl -LIXGET localhost:8080</span><br><span class="line">HTTP/1.1 103 Early Hints</span><br><span class="line">Link: &lt;/main.css&gt;; rel=preload; as=style</span><br><span class="line">Date: Tue, 02 Aug 2022 03:39:40 GMT</span><br><span class="line"></span><br><span class="line">... (ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ã¡ç¶šã‘ã‚‹) ...</span><br></pre></td></tr></table></figure><p>ä¸€æ–¹ã€Go 1.19 ã§ãƒ“ãƒ«ãƒ‰&amp;èµ·å‹•ã™ã‚‹ã¨ã€æƒ³å®šã©ãŠã‚Š 103 Early Hints ã¨ 200 OK ã®ä¸¡æ–¹ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚æƒ³å®šã©ãŠã‚Šæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãªãŠ <code>Link</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã¯æœ€çµ‚çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚‚å«ã¾ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</p><figure class="highlight bash"><figcaption><span>Go 1.19ã®HTTPã‚µãƒ¼ãƒã®å ´åˆ</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; curl -LIXGET localhost:8080</span><br><span class="line">HTTP/1.1 103 Early Hints</span><br><span class="line">Link: &lt;/main.css&gt;; rel=preload; as=style</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Link: &lt;/main.css&gt;; rel=preload; as=style</span><br><span class="line">Date: Tue, 02 Aug 2022 03:46:01 GMT</span><br><span class="line">Content-Length: 5</span><br><span class="line">Content-Type: text/plain; charset=utf-8</span><br></pre></td></tr></table></figure><h3 id="Goã®ãƒ‘ãƒƒãƒå†…å®¹"><a href="#Goã®ãƒ‘ãƒƒãƒå†…å®¹" class="headerlink" title="Goã®ãƒ‘ãƒƒãƒå†…å®¹"></a>Goã®ãƒ‘ãƒƒãƒå†…å®¹</h3><p>ãƒ‘ãƒƒãƒã¯ <a href="https://go-review.googlesource.com/c/go/+/269997">269997: net&#x2F;http: allow sending 1xx responses</a> ã§é€²ã‚ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚<code>WriteHeader()</code> ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãè¾¼ã‚€ã¨ãã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ 1xx ã®ã¨ãã¯HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã¨æ”¹è¡Œã‚’ãƒãƒƒãƒ•ã‚¡ã«æ›¸ãè¾¼ã‚“ã§ã€ãã‚Œã‚’ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒä¸»ã§ã™ã€‚</p><figure class="highlight diff"><figcaption><span>net/http/server.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">func (w *response) WriteHeader(code int) &#123;</span><br><span class="line">if w.conn.hijacked() &#123;</span><br><span class="line">caller := relevantCaller()</span><br><span class="line">w.conn.server.logf(&quot;http: response.WriteHeader on hijacked connection from %s (%s:%d)&quot;, caller.Function, path.Base(caller.File), caller.Line)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">if w.wroteHeader &#123;</span><br><span class="line">caller := relevantCaller()</span><br><span class="line">w.conn.server.logf(&quot;http: superfluous response.WriteHeader call from %s (%s:%d)&quot;, caller.Function, path.Base(caller.File), caller.Line)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">checkWriteHeaderCode(code)</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+// Handle informational headers</span></span><br><span class="line"><span class="addition">+if code &gt;= 100 &amp;&amp; code &lt;= 199 &#123;</span></span><br><span class="line"><span class="addition">+// Prevent a potential race with an automatically-sent 100 Continue triggered by Request.Body.Read()</span></span><br><span class="line"><span class="addition">+if code == 100 &amp;&amp; w.canWriteContinue.isSet() &#123;</span></span><br><span class="line"><span class="addition">+w.writeContinueMu.Lock()</span></span><br><span class="line"><span class="addition">+w.canWriteContinue.setFalse()</span></span><br><span class="line"><span class="addition">+w.writeContinueMu.Unlock()</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+writeStatusLine(w.conn.bufw, w.req.ProtoAtLeast(1, 1), code, w.statusBuf[:])</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+// Per RFC 8297 we must not clear the current header map</span></span><br><span class="line"><span class="addition">+w.handlerHeader.WriteSubset(w.conn.bufw, excludedHeadersNoBody)</span></span><br><span class="line"><span class="addition">+w.conn.bufw.Write(crlf)</span></span><br><span class="line"><span class="addition">+w.conn.bufw.Flush()</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+return</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"></span><br><span class="line">w.wroteHeader = true</span><br><span class="line">w.status = code</span><br><span class="line"></span><br><span class="line">if w.calledHeader &amp;&amp; w.cw.header == nil &#123;</span><br><span class="line">w.cw.header = w.handlerHeader.Clone()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if cl := w.handlerHeader.get(&quot;Content-Length&quot;); cl != &quot;&quot; &#123;</span><br><span class="line">v, err := strconv.ParseInt(cl, 10, 64)</span><br><span class="line">if err == nil &amp;&amp; v &gt;= 0 &#123;</span><br><span class="line">w.contentLength = v</span><br><span class="line">&#125; else &#123;</span><br><span class="line">w.conn.server.logf(&quot;http: invalid Content-Length of %q&quot;, cl)</span><br><span class="line">w.handlerHeader.Del(&quot;Content-Length&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="â‘¡MaxBytesReader-ãŒèª­ã¿å–ã‚Šåˆ¶é™ã‚’è¶…éã—ãŸå ´åˆã«-MaxBytesError-ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ"><a href="#â‘¡MaxBytesReader-ãŒèª­ã¿å–ã‚Šåˆ¶é™ã‚’è¶…éã—ãŸå ´åˆã«-MaxBytesError-ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ" class="headerlink" title="â‘¡MaxBytesReader ãŒèª­ã¿å–ã‚Šåˆ¶é™ã‚’è¶…éã—ãŸå ´åˆã« MaxBytesError ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ"></a>â‘¡<code>MaxBytesReader</code> ãŒèª­ã¿å–ã‚Šåˆ¶é™ã‚’è¶…éã—ãŸå ´åˆã« <code>MaxBytesError</code> ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ</h2><p>Go 1.18 ã§è¿½åŠ ã«ãªã£ãŸ<a href="https://pkg.go.dev/net/http#MaxBytesReader">MaxBytesReader</a> ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒè¡Œã„ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚Go1.18 ã§ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤§ãã™ãã‚‹å ´åˆã« <code>errors.New(&quot;http: request body too large&quot;)</code> ã¨ã—ã¦APIã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¨ãƒ©ãƒ¼ã‚’è¿”å´ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®ã‚¨ãƒ©ãƒ¼å›ºæœ‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¡Œã„ãŸã„å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ–‡å­—åˆ—ã§æ¯”è¼ƒã—ã¦ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</p><figure class="highlight go"><figcaption><span>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ãŒå¤§ãã™ãã‚‹å ´åˆã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¾‹</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b, err := io.ReadAll(r.Body)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> err.Error() == <span class="string">&quot;http: request body too large&quot;</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Go 1.19ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ã‚ˆã†ã«æ–°ãŸã« <code>MaxBytesError</code> å‹ã¨ã„ã† <code>error</code> ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ãŸå‹ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚å…ƒã®Issueã¯ <a href="https://github.com/golang/go/issues/30715">net&#x2F;http: add MaxBytesError #30715</a> ã§ã™ã€‚</p><ul><li>ãƒ‘ãƒƒãƒå†…å®¹ã®ä¸€éƒ¨</li></ul><figure class="highlight diff"><figcaption><span>net/http/request.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+// MaxBytesError is returned by MaxBytesReader when its read limit is exceeded.</span></span><br><span class="line"><span class="addition">+type MaxBytesError struct &#123;</span></span><br><span class="line"><span class="addition">+Limit int64</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+func (e *MaxBytesError) Error() string &#123;</span></span><br><span class="line"><span class="addition">+// Due to Hyrum&#x27;s law, this text cannot be changed.</span></span><br><span class="line"><span class="addition">+return &quot;http: request body too large&quot;</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line">type maxBytesReader struct &#123;</span><br><span class="line">w   ResponseWriter</span><br><span class="line">r   io.ReadCloser // underlying reader</span><br><span class="line"><span class="addition">+i   int64         // max bytes initially, for MaxBytesError</span></span><br><span class="line">n   int64         // max bytes remaining</span><br><span class="line">err error         // sticky error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç§ãŒèˆˆå‘³æ·±ãæ€ã£ãŸã“ã¨ã¯ã€ã‚ã–ã‚ã–æ–°ã—ã <code>maxBytesReader</code> å‹ã§ãƒã‚¤ãƒˆã®åˆæœŸã‚µã‚¤ã‚ºã‚’éå…¬é–‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ <code>i</code> ã¨ã—ã¦ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ãŒã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ›´ã—ã¦ã„ãªã„ç‚¹ã§ã™ã€‚<code>Error()</code> ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹ã¨ã€ŒHyrumã®æ³•å‰‡ã€ã«åŸºã¥ããŸã‚ã¨ã®ã“ã¨ã§ã™ã€‚<code>errors.New()</code> ã§è¿”å´ã™ã‚‹æ–‡å­—åˆ—ã¯Go Docã¨ã—ã¦å…¬é–‹ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ãŒã€Go 1.18ã§è¦³æ¸¬å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®æ–‡å­—åˆ—ã«ã‚ˆã‚Šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é…æ…®ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚ãªãŠã€Hyrumã®æ³•å‰‡ã¯ã€<a href="https://www.oreilly.co.jp/books/9784873119656/">Googleã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°</a>ã€ã®1ç« ã«ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li>Hyrumã®æ³•å‰‡</li></ul><blockquote><p>ã‚ã‚‹APIã«ååˆ†ãªæ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã‚‹ã¨ãã€APIã‚’ä½œã£ãŸè€…è‡ªèº«ãŒå¥‘ç´„ä»•æ§˜ã¨ã—ã¦ä½•ã‹ã‚’ç´„æŸã—ã¦ã„ã‚‹ã‹ã¯é‡è¦ã§ã¯ãªã„ã€‚ä½œã‚‰ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ãŒæŒã¤ã‚ã‚‰ã‚†ã‚‹è¦³å¯Ÿå¯èƒ½ï¼ˆobservableï¼‰ãªæŒ™å‹•ã«é–¢ã—ã¦ã€ãã‚Œã«ä¾å­˜ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‡ºã¦ãã‚‹ã‚‚ã®ã§ã‚ã‚‹ã€‚</p></blockquote><h2 id="â‘¢Location-ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„-3xx-ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã‚ãªã„ã‚ˆã†ã«ãªã£ãŸ"><a href="#â‘¢Location-ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„-3xx-ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã‚ãªã„ã‚ˆã†ã«ãªã£ãŸ" class="headerlink" title="â‘¢Location ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„ 3xx ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã‚ãªã„ã‚ˆã†ã«ãªã£ãŸ"></a>â‘¢<code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãªã„ 3xx ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã‚ãªã„ã‚ˆã†ã«ãªã£ãŸ</h2><p>Go1.18 ã¾ã§ã¯ 3xx ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ã§ <code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ‰±ã£ã¦ã„ã¾ã—ãŸã€‚</p><p>ä¸€æ–¹ <a href="https://httpwg.org/specs/rfc7231.html#status.301">RFC7231 Hypertext Transfer Protocol (HTTP&#x2F;1.1): Semantics and Content</a> ã§ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 301 ã«ãŠã‘ã‚‹ <code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ <code>SHOULD</code> ã®é …ç›®ã«ãªã‚Šã¾ã™ã€‚<a href="https://www.rfc-editor.org/rfc/rfc2119.html">RFC2119 Key words for use in RFCs to Indicate Requirement Levels</a> ã«ã‚ã‚‹ã‚ˆã†ã« <code>MUST</code> ã§ã‚ã‚Œã°ã€çµ¶å¯¾çš„ã«å«ã‚ã‚‹ã¹ãé …ç›®ã«ãªã‚Šã¾ã™ãŒã€<code>SHOULD</code> ã¯æ¨å¥¨ã•ã‚Œã‚‹é …ç›®ã§ã™ã€‚RFCä¸Šã¯ <code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ãŒå«ã¾ã‚Œãªã„ã“ã¨ã‚‚è¨±å®¹ã•ã‚Œã¾ã™ã€‚</p><p>ã“ã®ã“ã¨ã‹ã‚‰ Go ã®å®Ÿè£…ã¨ã—ã¦ã‚‚ <code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªãã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã¨ã›ãšã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’APIã®å‘¼ã³å‡ºã—å…ƒã«è¿”å´ã™ã‚‹ã‚ˆã†ã«æ”¹å–„ã—ã¾ã—ãŸã€‚</p><p>ãƒªã‚¢ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰ã§ã¯ <a href="https://github.com/golang/go/issues/49281">net&#x2F;http: canâ€™t read 301 response without a Location header #49281</a> ã¨ã„ã†èª²é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚AWSãŒæä¾›ã™ã‚‹S3ã®URLã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã¨ãã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ 301 ã§è¿”å´ã•ã‚ŒãŸãŒ <code>Location</code> ãƒ˜ãƒƒãƒ€ãƒ¼ãŒå«ã¾ã‚Œãªã„ãŸã‚ã«Goã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ <code>x-amz-bucket-region</code> ã‹ã‚‰æƒ³å®šã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã§ããšã€å›°ã£ã¦ã„ãŸã€ã¨ã®ã“ã¨ã§ã™ã€‚ã“ã®æŒ™å‹•ã¯ Go1.19 ã§æ”¹å–„ã•ã‚Œã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;errors&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getBucketRegion</span><span class="params">(bucket <span class="type">string</span>)</span></span> (<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line"><span class="comment">// Construct client that makes one request and does not follow redirects</span></span><br><span class="line">client := &amp;http.Client&#123;</span><br><span class="line">CheckRedirect: <span class="function"><span class="keyword">func</span><span class="params">(req *http.Request, via []*http.Request)</span></span> <span class="type">error</span> &#123;</span><br><span class="line"><span class="keyword">return</span> http.ErrUseLastResponse</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">resp, err := client.Get(<span class="string">&quot;https://&quot;</span> + bucket + <span class="string">&quot;.s3.us-west-1.amazonaws.com/&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span>, err <span class="comment">// &lt;-- function will return here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> resp.StatusCode == <span class="number">200</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;us-west-1&quot;</span>, <span class="literal">nil</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> resp.StatusCode == <span class="number">404</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span>, errors.New(<span class="string">&quot;Bucket does not exist.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> resp.Header.Get(<span class="string">&quot;x-amz-bucket-region&quot;</span>), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">region, err := getBucketRegion(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;region: %s\n&quot;</span>, region)</span><br><span class="line">fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p><code>net/http</code> ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã§ã¯ã•ã‚‰ã£ã¨3è¡Œè¨˜è¼‰ãŒã‚ã‚‹ã ã‘ã§ã™ãŒã€ãã‚Œãã‚Œã®èƒŒæ™¯ã‚„ãƒ‘ãƒƒãƒå†…å®¹ã‚’å«ã‚ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒªã‚¢ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰æ„Ÿã‚ãµã‚Œã‚‹èª²é¡Œã‚„ãƒ‹ãƒ¼ã‚ºã‚’æ„Ÿã˜ã‚‹ã“ã¨ã§ãã€ã¨ã¦ã‚‚ã‚ãã‚ãã—ã¾ã—ãŸã€‚</p><p>æœ¬è¨˜äº‹ã§ã¯ <code>net/http</code> ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãã®ä»–ã«ã‚‚ <code>net/url</code> ã§ <a href="https://pkg.go.dev/net/url@go1.19#JoinPath">JoinPath</a> ã¨ <a href="https://pkg.go.dev/net/url@go1.19#URL.JoinPath">URL.JoinPath</a> ãŒè¿½åŠ ã«ãªã£ã¦ã„ã¾ã™ã€‚HTTPã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ãã®ä»–ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ãŠã„ã¦ã‚‚ã€ä¾¿åˆ©ã«URLã‚’çµ„ã¿ç«‹ã¦ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p>æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">ãªãŠ2022å¹´8æœˆ2æ—¥ã«Go1.19 rc2ã§èª¿ã¹ã¦ã„ã¾ã™ã€‚</span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="vertical-align: top; padding-right: 10px;">2.</span><span style="vertical-align: top;">Chrome ã¨ Fastly ã«ã‚ˆã‚‹å®Ÿè£…å®Ÿé¨“ãŒå§‹ã¾ã£ã¦ã„ã¾ã™ã€‚<a href="https://www.fastly.com/jp/blog/beyond-server-push-experimenting-with-the-103-early-hints-status-code">https://www.fastly.com/jp/blog/beyond-server-push-experimenting-with-the-103-early-hints-status-code</a></span><a href="#fnref:2" rev="footnote"> â†©</a></li><li id="fn:3"><span style="vertical-align: top; padding-right: 10px;">3.</span><span style="vertical-align: top;">curlã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯7.83.1ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚</span><a href="#fnref:3" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220804a/top.png&quot; alt=&quot;&quot; width=&quot;827&quot; height=&quot;361&quot;&gt;

&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="HTTP" scheme="https://future-architect.github.io/tags/HTTP/"/>
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
  </entry>
  
  <entry>
    <title>Go1.19ã§è¿½åŠ ã•ã‚ŒãŸAppendç³»ãƒ¡ã‚½ãƒƒãƒ‰</title>
    <link href="https://future-architect.github.io/articles/20220803a/"/>
    <id>https://future-architect.github.io/articles/20220803a/</id>
    <published>2022-08-02T15:00:00.000Z</published>
    <updated>2022-08-03T03:28:30.720Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220803a/eyecatch.png" alt="" width="1200" height="486" loading="lazy"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>TIG&#x2F;DXãƒ¦ãƒ‹ãƒƒãƒˆã®å®®æ°¸ã§ã™ã€‚</p><p><a href="/articles/20220801a/">Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰</a>ã®3æœ¬ç›®ã§ã™ã€‚æœ¬è¨˜äº‹ã§ã¯Go1.19ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒã‚¤ãƒŠãƒ¼ãƒã‚§ãƒ³ã‚¸ã®ä¸­ã§ã‚‚ã€Appendç³»ãƒ¡ã‚½ãƒƒãƒ‰ã«æ³¨ç›®ã—ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p><p>Go1.19ã§Appendç³»ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸã®ã¯ä»¥ä¸‹2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<br>ãã‚Œãã‚Œã®Proposalã®ãƒªãƒ³ã‚¯ã‚’æ·»ä»˜ã—ã¾ã™ã€‚</p><ul><li>encoding&#x2F;binary<ul><li><a href="https://github.com/golang/go/issues/50601">encoding&#x2F;binary: add AppendByteOrder (#50601)</a></li><li><a href="https://github.com/golang/go/issues/51644">encoding&#x2F;binary: add AppendUvarint and AppendVarint (#51644)</a></li></ul></li><li>fmt<ul><li><a href="https://github.com/golang/go/issues/47579">fmt: add Append, Appendf, Appendln (#47579)</a></li></ul></li></ul><p>é †ã«èª¬æ˜ã—ã¾ã™ã€‚</p><h1 id="encoding-x2F-binary"><a href="#encoding-x2F-binary" class="headerlink" title="encoding&#x2F;binary"></a>encoding&#x2F;binary</h1><blockquote><p><em>The new interface AppendByteOrder provides efficient methods for appending a uint16, uint32, or uint64 to a byte slice. BigEndian and LittleEndian now implement this interface.<br>Similarly, the new functions AppendUvarint and AppendVarint are efficient appending versions of PutUvarint and PutVarint.<br><a href="https://tip.golang.org/doc/go1.19#:~:text=The%20new%20interface,and%20PutVarint.">Go 1.19 Release Notesã‚ˆã‚Šå¼•ç”¨</a></em></p></blockquote><p>encoding&#x2F;binaryãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯AppendByteOrderã€AppendUvarintã€ AppendVarintã€ãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</p><p><a href="https://github.com/golang/go/issues/50601">(#50601)</a>ã§ã¯ã€AppendByteOrderã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å°å…¥ãŒææ¡ˆã•ã‚Œã€BigEndian å‹ã¨ LittleEndian å‹ã«æ–°ãŸã«AppendUint16ã€AppendUint32ã€AppendUint64ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚<br><a href="https://github.com/golang/go/issues/51644">(#51644)</a>ã§ã¯<a href="https://github.com/golang/go/issues/50601">(#50601)</a>ã«ã¦AppendByteOrderã‚’å°å…¥ã—ãŸé–¢é€£ã§AppendUvarintã€ AppendVarintã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ã“ã®2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‹ã¸ã®ç´ã¥ã‘ã¯è¡Œã‚ã‚Œã¦ãŠã‚‰ãšãã‚Œãã‚Œ<code>uint64</code>ã€<code>int64</code>ã‚’å¼•æ•°ã«æŒã¡ã¾ã™ã€‚</p><h2 id="åˆ©ç”¨æ–¹æ³•"><a href="#åˆ©ç”¨æ–¹æ³•" class="headerlink" title="åˆ©ç”¨æ–¹æ³•"></a>åˆ©ç”¨æ–¹æ³•</h2><p>byteå‹ã®ã‚¹ãƒ©ã‚¤ã‚¹ã«æ•´æ•°å‹ã‚’ã•ã‚‰ã«è¿½åŠ ã™ã‚‹å ´åˆã€ä½¿ç”¨ã—ã¾ã™ã€‚</p><p>Go1.18ä»¥å‰ã§ä¸Šè¨˜ã‚’é”æˆã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®æ§˜ãªå®Ÿè£…ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</p><div class="note info" style="background: #e5f8e2; padding: 16px;">  <span class="fa fa-fw fa-check-circle"></span>  <p>âœ…åˆ©ç”¨æ–¹æ³•ã¨ã„ã†è¦³ç‚¹ã§ã¯ã€ä»Šå›å°å…¥ã•ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰ã¯ã©ã‚Œã‚‚åŒã˜æ§˜ãªä½¿ã‚ã‚Œæ–¹ã®ãŸã‚ã€AppendUint16ã«æ³¨ç›®ã—ã¦è§£èª¬ã—ã¾ã™ã€‚</p></div><br><p>â–¶<a href="https://go.dev/play/p/1txJEaI7FdK">playground</a></p><figure class="highlight go"><figcaption><span>go1.18ä»¥å‰</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/binary&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">in := []<span class="type">uint16</span>&#123;<span class="number">102</span>, <span class="number">117</span>, <span class="number">116</span>, <span class="number">117</span>, <span class="number">114</span>, <span class="number">101</span>, <span class="number">32</span>, <span class="number">116</span>, <span class="number">101</span>, <span class="number">99</span>, <span class="number">104</span>, <span class="number">45</span>, <span class="number">98</span>, <span class="number">108</span>, <span class="number">111</span>, <span class="number">103</span>&#125;</span><br><span class="line">out := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="built_in">len</span>(in))</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> in &#123;</span><br><span class="line"><span class="keyword">var</span> arr [<span class="number">2</span>]<span class="type">byte</span></span><br><span class="line">binary.LittleEndian.PutUint16(arr[:], v)</span><br><span class="line">out = <span class="built_in">append</span>(out, arr[:]...)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;raw: %v \n&quot;</span>, out)</span><br><span class="line">fmt.Printf(<span class="string">&quot;str: %s \n&quot;</span>, out)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–¼å®Ÿè¡Œçµæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">raw: [102 0 117 0 116 0 117 0 114 0 101 0 32 0 116 0 101 0 99 0 104 0 45 0 98 0 108 0 111 0 103 0]</span><br><span class="line">str: future tech-blog</span><br></pre></td></tr></table></figure><p>ä»Šå›å°å…¥ã•ã‚ŒãŸAppendUintãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚Œã°ã‚ˆã‚Šç«¯çš„ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>â–¶<a href="https://go.dev/play/p/Rvp0_2vONlp?v=gotip">playground</a></p><figure class="highlight go"><figcaption><span>go1.19ä»¥é™</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/binary&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">input := []<span class="type">uint16</span>&#123;<span class="number">102</span>, <span class="number">117</span>, <span class="number">116</span>, <span class="number">117</span>, <span class="number">114</span>, <span class="number">101</span>, <span class="number">32</span>, <span class="number">116</span>, <span class="number">101</span>, <span class="number">99</span>, <span class="number">104</span>, <span class="number">45</span>, <span class="number">98</span>, <span class="number">108</span>, <span class="number">111</span>, <span class="number">103</span>&#125;</span><br><span class="line">out := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="built_in">len</span>(input))</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> input &#123;</span><br><span class="line">out = binary.LittleEndian.AppendUint16(out, v)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;raw: %v \n&quot;</span>, out)</span><br><span class="line">fmt.Printf(<span class="string">&quot;str: %s \n&quot;</span>, out)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â–¼å®Ÿè¡Œçµæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">raw: [102 0 117 0 116 0 117 0 114 0 101 0 32 0 116 0 101 0 99 0 104 0 45 0 98 0 108 0 111 0 103 0]</span><br><span class="line">str: future tech-blog</span><br></pre></td></tr></table></figure><p>Appendã§å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šè¨˜è¿°è¡Œæ•°ãŒæ¸›ã‚Šã€å¯èª­æ€§ã‚‚ãã£ã¨ä¸ŠãŒã‚Šã¾ã—ãŸã€‚</p><p>AppendUint32ã€AppendUint64ã‚‚åŸºæœ¬çš„ãªåˆ©ç”¨æ–¹æ³•ã¯åŒã˜ã§ã™ã€‚</p><h1 id="fmt"><a href="#fmt" class="headerlink" title="fmt"></a>fmt</h1><blockquote><p><em>The new functions Append, Appendf, and Appendln append formatted data to byte slices.<br><a href="https://tip.golang.org/doc/go1.19#:~:text=The%20new%20functions%20Append%2C%20Appendf%2C%20and%20Appendln%20append%20formatted%20data%20to%20byte%20slices.">Go 1.19 Release Notesã‚ˆã‚Šå¼•ç”¨</a></em></p></blockquote><p>fmtãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚‚Appendç³»ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚<br>ã“ã¡ã‚‰ã‚‚byteå‹ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æˆ»ã‚Šå€¤ã«æŒã¤ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚</p><p>ã“ã¡ã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å°å…¥çµŒç·¯ã¯proposalã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™</p><blockquote><p><em>fmt.Sprintf is an allocator that produces a string, but there are times when you want formatted-output, but want to write into a []byte. And you can do that with bytes.Buffer and fmt.Fprintf<br>â€¦(ä¸­ç•¥)<br>What I want: Something like Sprintf, but that can write into a []byte, and can fail gracefully if thereâ€™s not enough space to write things.<br><a href="https://github.com/golang/go/issues/47579">fmt: add Append, Appendf, Appendln (#47579)ã‚ˆã‚Šå¼•ç”¨</a></em></p></blockquote><p>ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸå‡ºåŠ›ã§[]byteã«æ›¸ãè¾¼ã¿ã‚’è¡Œã†å ´åˆã€ã“ã‚Œã¾ã§ã¯bytes.Bufferã¨fmt.Fprintfã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚Appendfã®å°å…¥ã«ã‚ˆã‚Šã“ã‚Œã‚’æ°—è»½ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><h2 id="åˆ©ç”¨æ–¹æ³•-1"><a href="#åˆ©ç”¨æ–¹æ³•-1" class="headerlink" title="åˆ©ç”¨æ–¹æ³•"></a>åˆ©ç”¨æ–¹æ³•</h2><p>Sprintfã¨æ¯”è¼ƒã™ã‚‹ã¨åˆ©ç”¨æ–¹æ³•ãŒã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚<br>fmtã«ã¯Sprintfãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ä»»æ„ã®å‹ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã€æ–‡å­—åˆ—ã§è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚</p><p>Appendfã§ã¯å¼•æ•°ã«byteå‹ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æŒã¡ã€Sprintfã¨ã¯ç•°ãªã‚Šã€æˆ»ã‚Šå€¤ã«byteå‹ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æŒã¡ã¾ã™ã€‚<br>ã¤ã¾ã‚Šã€ä»»æ„ã®å‹ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ã—ãŸå¾Œã€å¼•æ•°ã«ä¸ãˆã‚‰ã‚ŒãŸbyteå‹ã‚¹ãƒ©ã‚¤ã‚¹ã«å€¤ã‚’è¿½åŠ ã—ã€è¿”å´ã—ã¾ã™ã€‚</p><p>Sprintfã¨Appendfã®å®Ÿè£…ã‚’è¦‹ãŸã»ã†ãŒã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã®ã§ã€ä»¥ä¸‹æ¯”è¼ƒã‚’è¡Œã„ã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>fmt.Sprintf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Sprintf formats according to a format specifier and returns the resulting string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sprintf</span><span class="params">(format <span class="type">string</span>, a ...any)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">p := newPrinter()</span><br><span class="line">p.doPrintf(format, a)</span><br><span class="line">s := <span class="type">string</span>(p.buf)</span><br><span class="line">p.free()</span><br><span class="line"><span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><figcaption><span>fmt.Appendf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Appendf formats according to a format specifier, appends the result to the byte</span></span><br><span class="line"><span class="comment">// slice, and returns the updated slice.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Appendf</span><span class="params">(b []<span class="type">byte</span>, format <span class="type">string</span>, a ...any)</span></span> []<span class="type">byte</span> &#123;</span><br><span class="line">p := newPrinter()</span><br><span class="line">p.doPrintf(format, a)</span><br><span class="line">b = <span class="built_in">append</span>(b, p.buf...)</span><br><span class="line">p.free()</span><br><span class="line"><span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç´°ã‹ãªç‚¹ã§ç•°ãªã‚Šã¾ã™ãŒã€2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®æœ¬è³ªçš„ãªå·®åˆ†ã¯ä»¥ä¸‹ã®1è¡Œã®ã¿ã§ã™ã€‚</p><figure class="highlight diff"><figcaption><span>diff</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-   s := string(p.buf)</span></span><br><span class="line"><span class="addition">+b = append(b, p.buf...)</span></span><br></pre></td></tr></table></figure><p>ã§ã¯å®Ÿéš›ã«ä½¿ç”¨ã—ã¦ã¿ã¾ã™ã€‚</p><p><code>in:=tech-blog</code>ã‚’<code>%s</code>ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ã€ç©ºã®byteå‹ã‚¹ãƒ©ã‚¤ã‚¹ã«è¿½åŠ ã—ã¾ã™ã€‚</p><p>â–¶<a href="https://go.dev/play/p/mWlytnqwn5a?v=gotip">playground</a></p><figure class="highlight go"><figcaption><span>fmt.Appendf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">in := <span class="string">&quot;tech-blog&quot;</span></span><br><span class="line">out := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line">out = fmt.Appendf(out, <span class="string">&quot;future %s&quot;</span>, in)</span><br><span class="line">fmt.Printf(<span class="string">&quot;raw: %v \n&quot;</span>, out)</span><br><span class="line">fmt.Printf(<span class="string">&quot;str: %s \n&quot;</span>, out)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â–¼å®Ÿè¡Œçµæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">raw: [102 117 116 117 114 101 32 116 101 99 104 45 98 108 111 103]</span><br><span class="line">str: future tech-blog</span><br></pre></td></tr></table></figure><p>ç©ºã ã£ãŸbyteå‹ã‚¹ãƒ©ã‚¤ã‚¹outã«è¦ç´ ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚</p><p>Appendã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯è¡Œã‚ãšã€è¦ç´ ã®è¿½åŠ ã®ã¿è¡Œã„ã¾ã™ã€‚</p><p>â–¶<a href="https://go.dev/play/p/esdszlv900P?v=gotip">playground</a></p><figure class="highlight go"><figcaption><span>fmt.Append</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">in := <span class="string">&quot;tech-blog&quot;</span></span><br><span class="line">out := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line">out = fmt.Append(out, in)</span><br><span class="line">fmt.Printf(<span class="string">&quot;raw: %v \n&quot;</span>, out)</span><br><span class="line">fmt.Printf(<span class="string">&quot;str: %s \n&quot;</span>, out)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–¼å®Ÿè¡Œçµæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">raw: [116 101 99 104 45 98 108 111 103]</span><br><span class="line">str: tech-blog</span><br></pre></td></tr></table></figure><p>Appendlnã¯Appendã—ãŸå¾Œã«æ”¹è¡Œã‚’æŒ¿å…¥ã—ã¾ã™ã€‚<br>å…ˆç¨‹ã®ã‚³ãƒ¼ãƒ‰ã«<code>out = fmt.Appendln(out, &quot;future&quot;)</code>ã‚’åŠ ãˆã¾ã™ã€‚</p><p>â–¶<a href="https://go.dev/play/p/esdszlv900P?v=gotip">playground</a></p><figure class="highlight go"><figcaption><span>fmt.Appendln</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">in := <span class="string">&quot;tech-blog&quot;</span></span><br><span class="line">out := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line">out = fmt.Appendln(out, <span class="string">&quot;future&quot;</span>)</span><br><span class="line">out = fmt.Append(out, in)</span><br><span class="line">fmt.Printf(<span class="string">&quot;raw: %v \n&quot;</span>, out)</span><br><span class="line">fmt.Printf(<span class="string">&quot;str: %s \n&quot;</span>, out)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â–¼å®Ÿè¡Œçµæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">raw: [102 117 116 117 114 101 10 116 101 99 104 45 98 108 111 103]</span><br><span class="line">str: future</span><br><span class="line">tech-blog</span><br></pre></td></tr></table></figure><p>æœŸå¾…ã©ãŠã‚Šã€Appendlnã§è¿½åŠ ã—ãŸ<code>future</code>ã§æ”¹è¡ŒãŒæŒ¿å…¥ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚</p><h1 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h1><p>ä»Šå›ã¯Go1.19ã§ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸå„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒã‚¤ãƒŠãƒ¼ãƒã‚§ãƒ³ã‚¸ã®ä¸­ã§ã‚‚Appendç³»ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«æ³¨ç›®ã—ã¾ã—ãŸã€‚<br>ä»Šå›ã®ãƒªãƒªãƒ¼ã‚¹ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€<a href="https://github.com/golang/go/issues/53693">proposal: encoding: provide append-like variants #53693</a>ã§ã¯<code>encoding/hex</code>,<code>encoding/base32</code>,<code>encoding/base64</code>ã«å¯¾ã—ã¦Appendç³»ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã„ã†ææ¡ˆãŒã•ã‚Œã¦ãŠã‚Šã€ä»Šå¾Œã‚‚encodingå‘¨ã‚Šã®APIã¯ãƒã‚¤ãƒŠãƒ¼ãƒªãƒªãƒ¼ã‚¹ãŒç¶šããã†ã§ã™ã€‚</p><p><a href="https://github.com/golang/go/issues/53693">(#53693)</a>ä»¥å¤–ã«ã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ãªProposalã§Append-likeãªãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li><a href="https://github.com/golang/go/issues/24630">proposal: encoding: BinaryMarshaler should be an append API #24630</a></li><li><a href="https://github.com/golang/go/issues/54078">proposal: compress: add AppendEncoded and AppendDecoded #54078</a></li></ul><p>æ™®æ®µã¨ã¯ç•°ãªã‚‹åˆ‡ã‚Šå£ã§å…¬å¼ãƒªãƒã‚¸ãƒˆãƒªã‚’çœºã‚ã¦ã„ã¾ã—ãŸãŒã€ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„APIã«æ³¨ç›®ã™ã‚‹ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¹å‰²ã‚„é–¢æ•°ã®å‘½åã«éå¸¸ã«æ…é‡ã«è­°è«–ãŒé€²ã‚ã‚‰ã‚Œã¦ã„ã‚‹äº‹ã«æ°—ãŒä»˜ãã¾ã™ã€‚<br>Goã®æ€æƒ³ã‚„è³ªã®é«˜ã„ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å­¦ã¶ã¨ã„ã†ç‚¹ã§ä»Šå›ã®é€£è¼‰ã¯éå¸¸ã«è‰¯ã„ä½“é¨“ã§ã—ãŸã€‚</p><p>æœ€å¾Œã¾ã§ãŠä»˜ãåˆã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220803a/eyecatch.png&quot; alt=&quot;&quot; width=&quot;1200&quot; height=&quot;486&quot; loading=&quot;lazy&quot;&gt;

&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot;</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
  </entry>
  
  <entry>
    <title>Go1.19 encoding/csv ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</title>
    <link href="https://future-architect.github.io/articles/20220802a/"/>
    <id>https://future-architect.github.io/articles/20220802a/</id>
    <published>2022-08-01T15:00:00.000Z</published>
    <updated>2022-08-03T03:25:53.876Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220802a/go1.19csv.png" alt="" width="800" height="447"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>TIGçœŸé‡ã§ã™ã€‚<a href="/articles/20220801a/">Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰</a>ã®2æœ¬ç›®ã§ã™ã€‚</p><p>encoding&#x2F;csv ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚ <a href="/articles/20210811a/">Go 1.17ã®ã¨ãã‚‚ encoding&#x2F;csv</a> ã‚’å–ã‚Šä¸Šã’ãŸã®ã§2å›ç›®ã§ã™ã€‚</p><p>ã¡ãªã¿ã«ãã®æ™‚ã«èª¬æ˜ã—ãŸ<code>FieldPos()</code> ã§ã™ãŒã€é¡ä¼¼ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒGo 1.19ã® <code>encoding/xml</code> ã«ã‚‚è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚éš£ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é¡ä¼¼ã®å±•é–‹ãŒã•ã‚Œã¦ã„ã‚‹ã®ã¯é¢ç™½ã„ã§ã™ã­ã€‚</p><blockquote><p><code>encoding/xml</code><br>The new method <code>Decoder.InputPos</code> reports the readerâ€™s current input position as a line and column, analogous to encoding&#x2F;csvâ€™s <code>Decoder.FieldPos</code>.<br>readerã®ç¾åœ¨å…¥åŠ›ä½ç½®ã®è¡Œã¨åˆ—ã‚’ç¤ºã™ã‚’å–å¾—ã—ã¾ã™ã€‚ <code>encoding/csv</code> ã® <code>Decoder.FieldPos</code> ã¨åŒæ§˜ã§ã™ã€‚</p></blockquote><h2 id="ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦"><a href="#ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦" class="headerlink" title="ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦"></a>ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦</h2><p>ã•ã¦ã€<code>encoding/csv</code> ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦ã§ã™ã€‚</p><p><a href="https://tip.golang.org/doc/go1.19">Go 1.19 Release Notes</a> ã«1è¡Œã ã‘æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚</p><blockquote><p>The new method Reader.InputOffset reports the readerâ€™s current input position as a byte offset, analogous to encoding&#x2F;jsonâ€™s Decoder.InputOffset.<br>æ–°ã—ã„ <code>Reader.InputOffset</code> ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ç¾åœ¨ã®å…¥åŠ›ä½ç½®ã‚’ãƒã‚¤ãƒˆã‚ªãƒ•ã‚»ãƒƒãƒˆã¨ã—ã¦å–å¾—ã—ã¾ã™ã€‚encoding&#x2F;jsonã® <code>Decoder.InputOffset</code> ã¨é¡ä¼¼ã—ã¦ã„ã¾ã™ã€‚</p></blockquote><p>è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã¯<a href="https://pkg.go.dev/encoding/csv@master#Reader.InputOffset">GoDocs</a>ã«æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>è¿½åŠ ã•ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Reader)</span></span> InputOffset() <span class="type">int64</span></span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ã‚ãƒ¼ã“ã‚Œã§ä¾¿åˆ©ã«ãªã‚‹ã­ã£ã¦ãƒ”ãƒ³ã¨æ¥ã‚‹äººã¯ã€ãã“ãã“ãƒ‡ã‚£ãƒ¼ãƒ—ãª <code>encoding/csv</code> ã®ãƒ•ã‚¡ãƒ³ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿèª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚</p><h2 id="ã¾ãšã©ã†ã„ã†APIã‹å‹•ã‹ã—ã¾ã—ã‚‡ã†"><a href="#ã¾ãšã©ã†ã„ã†APIã‹å‹•ã‹ã—ã¾ã—ã‚‡ã†" class="headerlink" title="ã¾ãšã©ã†ã„ã†APIã‹å‹•ã‹ã—ã¾ã—ã‚‡ã†"></a>ã¾ãšã©ã†ã„ã†APIã‹å‹•ã‹ã—ã¾ã—ã‚‡ã†</h2><p>ä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å‹•ã‹ã—ã¦ã„ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;go version</span><br><span class="line">go version go1.19rc2 windows/amd64</span><br></pre></td></tr></table></figure><p>æ”¹è¡Œã‚’å«ã‚€CSVãƒ‡ãƒ¼ã‚¿ã§å‹•ã‹ã—ã¦ã¿ã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/csv&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;io&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">s := <span class="string">`aaa,&quot;b</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bb&quot;,ccc</span></span><br><span class="line"><span class="string">ddd,eee,fff</span></span><br><span class="line"><span class="string">zzz,yyy,xxx</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">r := csv.NewReader(strings.NewReader(s))</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;input offset:%d: &quot;</span>, r.InputOffset())</span><br><span class="line"></span><br><span class="line">record, err := r.Read()</span><br><span class="line"><span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatal(err) <span class="comment">// ä½•ã‹ã—ã‚‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, record)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çµæœã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;go run main.go</span><br><span class="line">input offset:0: []string&#123;<span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;b\n\nbb&quot;</span>, <span class="string">&quot;ccc&quot;</span>&#125;</span><br><span class="line">input offset:16: []string&#123;<span class="string">&quot;ddd&quot;</span>, <span class="string">&quot;eee&quot;</span>, <span class="string">&quot;fff&quot;</span>&#125;</span><br><span class="line">input offset:28: []string&#123;<span class="string">&quot;zzz&quot;</span>, <span class="string">&quot;yyy&quot;</span>, <span class="string">&quot;xxx&quot;</span>&#125;</span><br><span class="line">input offset:40:</span><br></pre></td></tr></table></figure><p>æœ€åˆã¯0ã§ <code>r.Read()</code> ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ãƒã‚¤ãƒˆä½ç½®ãŒé€²ã¿ã€å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã³ã«dddã€zzzé …ç›®ã®ç›´å‰ã¾ã§å…ˆã«é€²ã‚“ã§ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãƒã‚¤ãƒˆä½ç½®çš„ã«ã©ã“ã¾ã§é€²ã‚“ã ã‹ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p><h2 id="Issueä¸Šã§ã®ã‚„ã‚Šå–ã‚Š"><a href="#Issueä¸Šã§ã®ã‚„ã‚Šå–ã‚Š" class="headerlink" title="Issueä¸Šã§ã®ã‚„ã‚Šå–ã‚Š"></a>Issueä¸Šã§ã®ã‚„ã‚Šå–ã‚Š</h2><p><a href="https://github.com/golang/go/issues/43401">encoding&#x2F;csv: add Reader.InputOffset method #43401</a> ãŒè©²å½“ã®Issueã§ã™ãŒã€<code>encoding/json.Decoder</code> ã¨ã„ã†å‰ä¾‹ãŒã‚ã‚‹ã‹ã‚‰ã‹å‰²ã‚Šã¨ã™ã‚“ãªã‚Šææ¡ˆã‹ã‚‰å—ã‘å…¥ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</p><p>è­°è«–ãŒã‚ã£ãŸãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ç¨‹åº¦ã€‚</p><ul><li><code>encoding/json</code> ã® <code>Decoder.InputOffset</code> ã¯JSONãƒã‚¤ãƒŠãƒªã‚’ã©ã“ã¾ã§èª­ã¿å–ã£ãŸã‹çŸ¥ã‚‹ã™ã¹ãŒç„¡ã„ã®ã§æœ‰åŠ¹ã§ã‚ã‚‹<ul><li>CSVã®å ´åˆã¯è¡Œãƒ™ãƒ¼ã‚¹ãªã®ã§ã€ä¸è¦ã§ã¯ï¼Ÿ<ul><li>ã„ã‚„ã„ã‚„ã€ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹ã—å¿…è¦ã€‚ä¾‹ãˆã° CSVã«å¯¾ã—ã¦è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã€ã‚ªãƒ•ã‚»ãƒƒãƒˆã‹ã‚‰ç‰¹å®šã®è¡Œã‚’èª­ã¿å–ã‚ŠãŸã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹</li><li>ï¼ˆç­†è€…è£œè¶³ï¼‰ã‚ã¨ã€CSVã¯é …ç›®ã®æ”¹è¡ŒãŒè¨±å®¹ã•ã‚Œã¦ã„ã‚‹ã®ã§å¿…ãšã—ã‚‚èª­ã¿å–ã£ãŸè¡Œã§ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒåˆ†ã‹ã‚‹ã‚ã‘ã§ã‚‚ãªã„</li></ul></li></ul></li></ul><p>ã¡ãªã¿ã«ã€å‰ä¾‹ã¨ã•ã‚Œã¦ã„ã‚‹ <code>encoding/json.Decoder</code> ã¯2020å¹´2æœˆ25æ—¥ã® <a href="https://go.dev/doc/go1.14#:~:text=The%20Decoder%20type%20supports%20a%20new%20method%20InputOffset%20that%20returns%20the%20input%20stream%20byte%20offset%20of%20the%20current%20decoder%20position.">Go 1.14</a>ã«è¿½åŠ ã•ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚</p><h2 id="è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã®å†…å®¹ã¯åˆ†ã‹ã‚‹ã‘ã©ã€ã©ã†ã„ã†æ™‚ã«å¬‰ã—ã„ã®ã‹"><a href="#è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã®å†…å®¹ã¯åˆ†ã‹ã‚‹ã‘ã©ã€ã©ã†ã„ã†æ™‚ã«å¬‰ã—ã„ã®ã‹" class="headerlink" title="è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã®å†…å®¹ã¯åˆ†ã‹ã‚‹ã‘ã©ã€ã©ã†ã„ã†æ™‚ã«å¬‰ã—ã„ã®ã‹"></a>è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã®å†…å®¹ã¯åˆ†ã‹ã‚‹ã‘ã©ã€ã©ã†ã„ã†æ™‚ã«å¬‰ã—ã„ã®ã‹</h2><p>Issueã®ãã ã‚Šã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ä¸»è¦ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯2ã¤æ€ã„ã¤ãã¾ã™ã€‚</p><ol><li>CSVã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰æ™‚ã«ä¸æ­£ãªå…¥åŠ›ãŒåˆã£ãŸå ´åˆã€ã©ã®ãƒã‚¤ãƒˆä½ç½®ã§å¤±æ•—ã—ãŸã‹çŸ¥ã‚‰ã›ãŸã„<ol><li>é€šå¸¸ã¯ã“ã¡ã‚‰ã®ç”¨é€”ãŒå¤šã„ã®ã§ã¯ã¨æ€ã„ã¾ã™ãŒâ€¦ã•ã¦ã„ã‹ã«ã€‚</li></ol></li><li>ï¼ˆå·¨å¤§ãªï¼‰CSVãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã•ã›ã‚‹ãŸã‚ã€æ­£ç¢ºãªä½ç½®ã‚’çŸ¥ã‚ŠãŸã„å ´åˆ<ol><li>ã©ã†ã„ã†ã‚±ãƒ¼ã‚¹ã§å¿…è¦ã«ãªã‚‹ã‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‹ãªã„ã§ã™ãŒ(ç§ãŒæ‰±ã†ã‚ˆã†ãªæ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ é ˜åŸŸã ã¨RDBã¨ã‹Elasticsearchã«çªã£è¾¼ã‚“ã˜ã‚ƒã†ã®ã§..)ã€ <a href="https://stackoverflow.com/questions/22875018/read-random-lines-off-a-text-file-in-go">Read random lines off a text file in go - Stack Overflow</a> ã«ã‚ã‚‹é€šã‚Šã€éœ€è¦ã¯ã‚ã‚‹ã‚ˆã†ã§ã™</li></ol></li></ol><p>ãã‚Œãã‚Œã©ã‚“ãªæ„Ÿã˜ã«ãªã‚‹ã‹ç°¡æ˜“å®Ÿè£…ã§ç´¹ä»‹ã—ã¾ã™ã€‚</p><h3 id="ä¸æ­£ãªCSVå…¥åŠ›ä¾‹"><a href="#ä¸æ­£ãªCSVå…¥åŠ›ä¾‹" class="headerlink" title="ä¸æ­£ãªCSVå…¥åŠ›ä¾‹"></a>ä¸æ­£ãªCSVå…¥åŠ›ä¾‹</h3><p>è©¦ã—ã«ä¸æ­£ãªã‚¯ã‚¦ã‚©ãƒ¼ãƒˆã‚’æ··å…¥ã•ã›ã¦ã¿ã¾ã™ã€‚ ee<code>&quot;</code>e ãŒè©²å½“ã®éƒ¨åˆ†ã§ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.goã®CSVã«ä¸æ­£ãªã‚¯ã‚©ãƒ¼ãƒˆã‚’æ··å…¥ã•ã›ã‚‹</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">`aaa,&quot;b</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bb&quot;,ccc</span></span><br><span class="line"><span class="string">ddd,ee&quot;e,fff</span></span><br><span class="line"><span class="string">zzz,yyy,xxx</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><p>å‹•ã‹ã—ã¦ã¿ã‚‹ã¨ã€æ¬¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã¾ã™ã€‚</p><figure class="highlight sh"><figcaption><span>å®Ÿè¡Œçµæœ</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;go run main.go</span><br><span class="line">input offset:0: []string&#123;<span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;b\n\nbb&quot;</span>, <span class="string">&quot;ccc&quot;</span>&#125;</span><br><span class="line">input offset:16: 2022/08/02 12:17:52 parse error on line 4, column 7: bare <span class="string">&quot; in non-quoted-field</span></span><br><span class="line"><span class="string">exit status 1</span></span><br></pre></td></tr></table></figure><p>ã‚„ã£ã¦ã¿ã¦æ°—ãŒã¤ã„ãŸã‚“ã§ã™ãŒã€CSVãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯è¡Œç•ªå·ã‚‚åˆ—ä½ç½®ã‚‚å‡ºã¦ã„ã‚‹ãŸã‚ã€ <code>InputOffset()</code> ã‚’ã‚ã–ã‚ã–å‡ºã•ãªãã¦ã‚‚è‰¯ã„ã‹ãªã¨ã¯æ€ã„ã¾ã—ãŸã€‚</p><p>ä¿¡é ¼ã§ããªã„é€£æºå…ˆã¨ã®ã‚„ã‚Šå–ã‚Šã§ã€ä¸æ­£å€¤ã‚’æ··å…¥ã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã€ <code>InputOffset()</code> ã‚’è¡¨ç¤ºã—ãªãã¦ã‚‚ã¾ãå¤§ä¸ˆå¤«ã‹ãªã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚</p><h3 id="å·¨å¤§ãªCSVã«å¯¾ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ä¾‹"><a href="#å·¨å¤§ãªCSVã«å¯¾ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ä¾‹" class="headerlink" title="å·¨å¤§ãªCSVã«å¯¾ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ä¾‹"></a>å·¨å¤§ãªCSVã«å¯¾ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ä¾‹</h3><p>ã¨ã„ã†ã“ã¨ã§ã€å·¨å¤§ãªCSVã®ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã¯<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00200521&tstat=000001011777&cycle=0&tclass1=000001094741&cycle_facet=tclass1&tclass2val=0">å›½å‹¢èª¿æŸ» - å¹´é½¢ï¼ˆï¼•æ­³éšç´šï¼‰ï¼Œç”·å¥³åˆ¥äººå£ï¼éƒ½é“åºœçœŒï¼ˆå¤§æ­£ï¼™å¹´ï½å¹³æˆ27å¹´ï¼‰</a> ã‹ã‚‰å–å¾—ã—ãŸCSVã‚’ä½¿ã£ã¦ã„ã¾ã™ï¼ˆ<code>c03.csv</code> ã¨ã„ã†åç§°ã‚‚ãã®ã¾ã¾ã§ã™ï¼‰ã€‚1.7ä¸‡è¡Œã»ã©ã§1MBã»ã©ãªã®ã§ãƒ¡ãƒ¢ãƒªã«è¼‰ã›ã‚Œã‚‹ã»ã©ã§ã™ãŒã€ã„ã£ãŸã‚“ã“ã‚ŒãŒ1000TBãã‚‰ã„ã‚ã‚‹ã¨ä»®å®šã—ã¾ã™ã€‚</p><p>æœ€åˆã«å¯¾è±¡ã¨ãªã‚‹å·¨å¤§ãªCSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚Šã€å¾Œã§æ¤œç´¢ã—ãŸã„ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒç™»å ´ã—ãŸã‚‰ãã®ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®ã‚’è¦šãˆã¦ãŠãã¾ã™ï¼ˆã“ã®æƒ…å ±ã‚’å¾Œã§ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¦ã‚‚è‰¯ã„ã§ã™ã­ï¼‰ã€‚</p><p>ãã®å¾Œã€<code>fetchFirstLine()</code> ã§è¦šãˆã¦ãŠã„ãŸã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®ã‚’ã‚‚ã¨ã«å·¨å¤§ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ <code>f.Seek()</code> ã‚’ç”¨ã„ã¦ãã®ä½ç½®ã‹ã‚‰1è¡Œã ã‘CSVã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;bufio&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/csv&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;io&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// éƒ½é“åºœçœŒã”ã¨ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®ã‚’ `indexMap` ã«æ ¼ç´ã™ã‚‹</span></span><br><span class="line">f, err := os.Open(<span class="string">&quot;c03.csv&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatal(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line">indexMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int64</span>)</span><br><span class="line">r := csv.NewReader(f)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> prefectureCD <span class="type">string</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">offset := r.InputOffset()</span><br><span class="line">record, err := r.Read()</span><br><span class="line"><span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> record[<span class="number">0</span>] != prefectureCD &#123;</span><br><span class="line">prefectureCD = record[<span class="number">0</span>]</span><br><span class="line">indexMap[record[<span class="number">1</span>]] = offset</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatal(err) <span class="comment">// ä½•ã‹ã—ã‚‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®ã‚’è¡¨ç¤º</span></span><br><span class="line">fmt.Println(<span class="string">&quot;åŒ—æµ·é“&quot;</span>, indexMap[<span class="string">&quot;åŒ—æµ·é“&quot;</span>])</span><br><span class="line">fmt.Println(<span class="string">&quot;ç¥å¥ˆå·çœŒ&quot;</span>, indexMap[<span class="string">&quot;æ±äº¬éƒ½&quot;</span>])</span><br><span class="line">fmt.Println(<span class="string">&quot;æ²–ç¸„çœŒ&quot;</span>, indexMap[<span class="string">&quot;æ²–ç¸„çœŒ&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// è©²å½“ã®æœ€åˆã®1è¡Œã‚’å–å¾—ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã‚’æƒ³å®šï¼‰</span></span><br><span class="line">line, err := fetchFirstLine(indexMap, <span class="string">&quot;æ±äº¬éƒ½&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatal(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, line)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fetchFirstLine</span><span class="params">(indexMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int64</span>, key <span class="type">string</span>)</span></span> ([]<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line">f, err := os.Open(<span class="string">&quot;c03.csv&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line">_, err = f.Seek(indexMap[key], <span class="number">0</span>) <span class="comment">//ç‰¹å®šã®ä½ç½®ã‹ã‚‰èª­ã‚€</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">r := csv.NewReader(f)</span><br><span class="line"><span class="keyword">return</span> r.Read()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Ÿè¡Œã™ã‚‹ã¨ã“ã†ã„ã†æ„Ÿã˜ã§ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;go run main.go</span><br><span class="line">åŒ—æµ·é“ 146</span><br><span class="line">ç¥å¥ˆå·çœŒ 262340</span><br><span class="line">æ²–ç¸„çœŒ 1006890</span><br><span class="line">[]string&#123;<span class="string">&quot;13&quot;</span>, <span class="string">&quot;æ±äº¬éƒ½&quot;</span>, <span class="string">&quot;ç·æ•°&quot;</span>, <span class="string">&quot;å¤§æ­£&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;1920&quot;</span>, <span class="string">&quot;3699428&quot;</span>, <span class="string">&quot;1952989&quot;</span>, <span class="string">&quot;1746439&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>ã“ã†ã„ã£ãŸç”¨é€”ã«é–¢ã—ã¦ã¯ã€ <code>f.Seek()</code> ã‚’ä½¿ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ç‰¹å®šä½ç½®ã‹ã‚‰èª­ã¿è¾¼ã‚€ãŸã‚ã«ã¯ã€å¾“æ¥ã®è¡Œç•ªå·ãªã©ã§ã¯ä¸é©åˆ‡ã§ã™ã€‚ãªãœãªã‚‰100ä¸‡è¡Œç›®ã‹ã‚‰èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚‹ã¨åˆ†ã‹ã£ã¦ã‚‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã‹ã‚‰æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„è¡Œç•ªå·ãŒå¤§ãã‘ã‚Œã°å¤§ãã„ã»ã©æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚</p><p>ã“ã®ã‚ˆã†ã«ã—ã¦ã€ <code>InputOffset()</code> ã§å–å¾—ã—ãŸãƒã‚¤ãƒˆä½ç½®ã‚’ã‚‚ã¨ã«ã€å·¨å¤§ãªãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚ˆã†ãªã“ã¨ãŒã§ãã¾ã™ã€‚</p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸ <code>InputOffset()</code> ã«ã¤ã„ã¦èª¿ã¹ã¾ã—ãŸã€‚ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã ã‘è¦‹ã‚‹ã¨ä¸æ­£ãªå…¥åŠ›å€¤ã«å¯¾ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ç”¨é€”ã«ç”¨ã„ã‚‹ã®ã‹ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°ã‚‚ã†å°‘ã—ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªç”¨é€”ã§ã®åˆ©ç”¨ã‚’æƒ³å®šã—ã¦ã„ãã†ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220802a/go1.19csv.png&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;447&quot;&gt;

&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
    <category term="CSV" scheme="https://future-architect.github.io/tags/CSV/"/>
    
  </entry>
  
  <entry>
    <title> Go 1.19ãƒªãƒªãƒ¼ã‚¹é€£è¼‰å§‹ã¾ã‚Šã¾ã™ GoDoc/ãƒ„ãƒ¼ãƒ«å‘¨ã‚Šã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</title>
    <link href="https://future-architect.github.io/articles/20220801a/"/>
    <id>https://future-architect.github.io/articles/20220801a/</id>
    <published>2022-07-31T15:00:00.000Z</published>
    <updated>2022-08-14T02:42:15.565Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20200521/go1.19.png" alt="" width="" height=""><p>Go 1.18ã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹å°å…¥ã®å¤§è¦æ¨¡ãƒªãƒªãƒ¼ã‚¹ã¨æ¯”ã¹ã‚‹ã¨æ¯”è¼ƒçš„å°ã•ãª1.19ã§ã™ãŒã€ãã‚Œã§ã‚‚ã•ã¾ã–ã¾ãªå¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã‚‚ã‚‚ã¡ã‚ã‚“ã€æ’ä¾‹è¡Œäº‹ã«ãªã‚Šã¤ã¤ã‚ã‚‹ã€ã“ã®ãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚°ã§ãƒªãƒªãƒ¼ã‚¹é€£è¼‰ã‚’ã‚„ã‚Šã¾ã™ã€‚ç‰¹ã«ã€ç¶²ç¾…æ€§ã¨ã‹è€ƒãˆãšã«æ›¸ããŸã„äººãŒæ›¸ããŸã„ãƒ†ãƒ¼ãƒã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚ã‚‚ã—ã€ã€Œã“ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦èªã‚‰ã›ã‚ï¼ã€ã¨ã„ã†æ–¹ãŒã„ã¾ã—ãŸã‚‰ã€ç¤¾å¤–ã‹ã‚‰ã‚‚é£›ã³è¾¼ã¿å‚åŠ å¯èƒ½ã§ã™ã®ã§ã€ãœã²ã©ã†ãã€‚</p><p>ãªãŠã€æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã¯ãŠãã‚‰ã8æœˆä¸­æ—¬ã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚ç¾æ™‚ç‚¹ã®<a href="https://tip.golang.org/doc/go1.19">æœ€æ–°ç‰ˆã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ</a>ã‚’å‚è€ƒã«ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚‚ã—ã‹ã—ãŸã‚‰æ­£å¼ç‰ˆã§å¤‰æ›´ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãã®å ´åˆã¯è£œè¶³ã‚’è¡Œã†äºˆå®šã§ã™ã€‚</p><div class="scroll"><table><thead><tr><th align="center">Date</th><th align="center">Title</th><th align="center">Author</th></tr></thead><tbody><tr><td align="center">8&#x2F;1 (æœˆ)</td><td align="center">Docã‚³ãƒ¡ãƒ³ãƒˆ&#x2F;ãƒ„ãƒ¼ãƒ«å‘¨ã‚Šã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</td><td align="center">æ¾å·å–œè¦</td></tr><tr><td align="center">8&#x2F;2 (ç«)</td><td align="center"><a href="/articles/20220802a/">encoding&#x2F;csv</a></td><td align="center">çœŸé‡éš¼è¨˜ã•ã‚“</td></tr><tr><td align="center">8&#x2F;3 (æ°´)</td><td align="center"><a href="/articles/20220803a/">encoding&#x2F;byte, fmtã®Appendç³»ãƒ¡ã‚½ãƒƒãƒ‰</a></td><td align="center">å®®æ°¸å´‡å²ã•ã‚“</td></tr><tr><td align="center">8&#x2F;4 (æœ¨)</td><td align="center"><a href="/articles/20220804a/">net&#x2F;http</a></td><td align="center">è¾»å¤§å¿—éƒã•ã‚“</td></tr><tr><td align="center">8&#x2F;5 (é‡‘)</td><td align="center"><a href="/articles/20220805a/">ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹</a></td><td align="center">æ‘ä¸ŠçŸ¥å„ªã•ã‚“</td></tr><tr><td align="center">8&#x2F;8 (æœˆ)</td><td align="center"><a href="/articles/20220808a/">ãƒ¡ãƒ¢ãƒªå‘¨ã‚Š</a></td><td align="center">æ¾å·å–œè¦</td></tr></tbody></table></div><p>ã¾ãšã¯ã€GoDocã¨ã€ãã®ä»–ãƒ„ãƒ¼ãƒ«å‘¨ã‚Šã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ç´¹ä»‹ã§ã™ã€‚</p><h1 id="Docã‚³ãƒ¡ãƒ³ãƒˆã®æ›´æ–°"><a href="#Docã‚³ãƒ¡ãƒ³ãƒˆã®æ›´æ–°" class="headerlink" title="Docã‚³ãƒ¡ãƒ³ãƒˆã®æ›´æ–°"></a>Docã‚³ãƒ¡ãƒ³ãƒˆã®æ›´æ–°</h1><p>ä»¥å‰ã€Qiitaã®æ–¹ã«ã€<a href="https://qiita.com/shibukawa/items/8c70fdd1972fad76a5ce">ãƒãƒ§ãƒƒãƒˆã§ãã‚‹Goãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã«ãªã‚‹ãŸã‚ã®è©³è§£GoDoc</a>ã¨ã„ã†è¨˜äº‹ã‚’æ²è¼‰ã—ã¾ã—ãŸã€‚</p><p><a href="https://qiita.com/shibukawa/items/8c70fdd1972fad76a5ce">https://qiita.com/shibukawa/items/8c70fdd1972fad76a5ce</a></p><p>GoDocã®æ›¸ãæ–¹ã®è©³ç´°ã§ã™ãŒã€ä»¥å‰ã¯ç©ºè¡Œã‚’ã‚ã‘ã¦æ®µè½ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆã€URLãŒã‚ã‚Œã°ãƒªãƒ³ã‚¯ã€ã¨ã„ã†ç¨‹åº¦ã®ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã—ã‹ãªãã€ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã—ãŸã€‚GitHub FlavorãªMarkdownã¨ã¾ã§ã‚‚ã„ã‹ãªãã¦ã‚‚ã€ã‚‚ã†ã¡ã‚‡ã£ã¨ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ãŒé«˜æ©Ÿèƒ½ã«ãªã£ã¦ã»ã—ã„ã€ã›ã‚ã¦ãƒªã‚¹ãƒˆã ã‘ã§ã‚‚ãƒ»ãƒ»ãƒ»ã¨æ€ã£ã¦ã„ãŸæ—¥æœ¬å…¨å›½1å„„2000ä¸‡ã®Goãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã«ã¨ã£ã¦å¾…æœ›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒ1.19ã§å…¥ã‚Šã¾ã—ãŸã€‚</p><ul><li>ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«</li><li>ãƒªãƒ³ã‚¯</li><li>ãƒªã‚¹ãƒˆ</li></ul><p>ã¾ãŸã€gofmtãŒæ”¹å–„ã•ã‚Œã€Docã‚³ãƒ¡ãƒ³ãƒˆã§ã‚ˆãã‚ã‚‹é–“é•ã„ãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚è©³ã—ãã¯<a href="https://tip.golang.org/doc/comment">Go Doc Comments</a>ã¨ã„ã†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p><p>Docã‚³ãƒ¡ãƒ³ãƒˆã¯pkg.go.devã§å…¬é–‹ã•ã‚Œã‚‹ã ã‘ã§ã¯ãªãã€IDEã§ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ã—ãŸã¨ãã«è¡¨ç¤ºã•ã‚ŒãŸã‚Šã‚‚ã™ã‚‹ãŸã‚ã€ä¸å¯§ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯åˆ©ç”¨è€…ã¸ã®åŠ©ã‘ã¨ãªã‚Šã¾ã™ã€‚</p><h2 id="ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆheadingï¼‰"><a href="#ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆheadingï¼‰" class="headerlink" title="ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆheadingï¼‰"></a>ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆheadingï¼‰</h2><p>ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ã¯Markdownã¨åŒã˜ãã€ <code>#</code> è¨˜å·ï¼‹ã‚¹ãƒšãƒ¼ã‚¹ï¼‹ãƒ†ã‚­ã‚¹ãƒˆã¨ã„ã†å½¢å¼ã§æ›¸ãã¾ã™ã€‚ãªãŠã€ä»–ã®ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã§ã¯ã€HTMLã«ã‚ã‚ã›ã¦ã‹ã€6éšå±¤ã¾ã§æ›¸ã‘ã‚‹ã®ã§ã™ãŒã€Goã®å ´åˆã¯1éšå±¤ã®ã‚¿ã‚¤ãƒˆãƒ«ã—ã‹æ›¸ã‘ã¾ã›ã‚“ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Package strconv implements conversions to and from string representations</span></span><br><span class="line"><span class="comment">// of basic data types.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// # Numeric Conversions</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The most common numeric conversions are [Atoi] (string to int) and [Itoa] (int to string).</span></span><br></pre></td></tr></table></figure><h2 id="ãƒªãƒ³ã‚¯ã®æ›¸ãæ–¹"><a href="#ãƒªãƒ³ã‚¯ã®æ›¸ãæ–¹" class="headerlink" title="ãƒªãƒ³ã‚¯ã®æ›¸ãæ–¹"></a>ãƒªãƒ³ã‚¯ã®æ›¸ãæ–¹</h2><p>ã¾ãšãƒªãƒ³ã‚¯ã§ã™ãŒã€URLã‚’è¨­å®šã—ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ãª <code>[ ]</code> ã§ããã£ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’æ›¸ãã€ãã®ä¸‹ã®æ³¨é‡ˆã®ã‚ˆã†ã«ãƒªãƒ³ã‚¯ã‚’æ›¸ãã¾ã™ã€‚æ›¸ç±ã«æ›¸ãã‚ˆã†ãªæ›¸ãæ–¹ã§ã™ã­ã€‚ã‚ã‚‹ã„ã¯reStructuredTextã®ã€ã‚ã¾ã‚Šä½¿ã‚ã‚Œãªã„æ–¹ã®æ›¸ãæ–¹ã€‚ãƒªãƒ³ã‚¯å®šç¾©ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯é€šå¸¸ã®ãƒ‘ãƒ©ã‚°ãƒ©ãƒ•ã¨ç©ºè¡Œã§ç©ºã‘ã¦æ›¸ãã¾ã™ã€‚gofmtã¯ãƒªãƒ³ã‚¯å®šç¾©ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯å…¨è‡ªå‹•ã§æœ«å°¾ã«ç§»å‹•ã—ã¦ãã‚Œã‚‹ã¨ã®ã“ã¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Package json implements encoding and decoding of JSON as defined in</span></span><br><span class="line"><span class="comment">// [RFC 7159]. The mapping between JSON and Go values is described</span></span><br><span class="line"><span class="comment">// in the documentation for the Marshal and Unmarshal functions.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// For an introduction to this package, see the article</span></span><br><span class="line"><span class="comment">// â€œ[JSON and Go].â€</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// [RFC 7159]: https://tools.ietf.org/html/rfc7159</span></span><br><span class="line"><span class="comment">// [JSON and Go]: https://golang.org/doc/articles/json_and_go.htmlpackage json</span></span><br></pre></td></tr></table></figure><p>ãã‚Œä»¥å¤–ã«ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®ä¸­ã§ç›¸äº’ãƒªãƒ³ã‚¯ã‚‚æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åï¼ˆéšå±¤ãŒã‚ã‚‹ãªã‚‰encoding&#x2F;jsonã®ã‚ˆã†ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ä»˜ãã§ï¼‰ã€æ§‹é€ ä½“ã®ã‚ˆã†ãªãƒˆãƒƒãƒ—ã®è¦ç´ ã€ãã‚Œã‚‰ã®å­ä¾›ã®è¦ç´ ãªã©ã‚’ãƒ”ãƒªã‚ªãƒ‰ã§ã¤ãªã„ã§æ›¸ãã¨ã®ã“ã¨ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ã‚’å‰ã«ã¤ã‘ã¦ã€ <code>[*bytes.Buffer]</code>ã®ã‚ˆã†ã«ã‚‚ã§ãã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ReadFrom reads data from r until EOF and appends it to the buffer, growing</span></span><br><span class="line"><span class="comment">// the buffer as needed. The return value n is the number of bytes read. Any</span></span><br><span class="line"><span class="comment">// error except [io.EOF] encountered during the read is also returned. If the</span></span><br><span class="line"><span class="comment">// buffer becomes too large, ReadFrom will panic with [ErrTooLarge].</span></span><br></pre></td></tr></table></figure><h2 id="ãƒªã‚¹ãƒˆ"><a href="#ãƒªã‚¹ãƒˆ" class="headerlink" title="ãƒªã‚¹ãƒˆ"></a>ãƒªã‚¹ãƒˆ</h2><p>ãƒªã‚¹ãƒˆã¯ã€ä»Šã¾ã§ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®æ´¾ç”Ÿã¨ã„ã†æ„Ÿã˜ã§ã€ãƒªã‚¹ãƒˆã®å‰ã®æ®µè½ã®æœ«å°¾ã®ã‚³ãƒ­ãƒ³ã¨ã€ãƒªã‚¹ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒå¿…è¦ãªç‚¹ã«è¦æ³¨æ„ã§ã™ã€‚</p><p>ãƒãƒ¬ãƒƒãƒˆãƒªã‚¹ãƒˆã¨æ•°å­—ã¤ãã®2ã¤ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒ¬ãƒƒãƒˆãƒªã‚¹ãƒˆã¯ãƒã‚¤ãƒŠã‚¹è¨˜å·ã‚„ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ãªã©è¤‡æ•°ã®è¨˜å·ã«å¯¾å¿œã—ã¦ã„ã‚‹ã¨ã®ã“ã¨ã§ã™ãŒã€gofmtã«ã‹ã‘ã‚‹ã¨ã€ç©ºç™½ã‚¹ãƒšãƒ¼ã‚¹2å€‹ï¼‹ãƒã‚¤ãƒŠã‚¹ï¼‹ã‚¹ãƒšãƒ¼ã‚¹ã«æ•´åˆ—ã—ã¡ã‚ƒã†ã¨ã®ã“ã¨ã§ã€ãƒã‚¤ãƒŠã‚¹ã ã‘è¦šãˆã¦ãŠã‘ã°è‰¯ã•ãã†ã€‚</p><p>æ•°å­—ã¯ä»–ã®ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã§ã‚‚ã‚ˆãã‚ã‚‹å½¢å¼ã§ã™ãŒã€ã‚¹ãƒšãƒ¼ã‚¹ãŒå‰ã«1å€‹å…¥ã‚‹ã®ãŒæ­£å¼ã¨ã®ã“ã¨ï¼ˆgofmtãŒãã®ã‚ˆã†ã«æ•´å½¢ã™ã‚‹ï¼‰ã€‚</p><p>ãŸã ã—ã€ãƒã‚¹ãƒˆãªã©ã¯ã§ãã¾ã›ã‚“ã—ã€ãƒªã‚¹ãƒˆã®ä¸­ã«ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãªã©ã‚‚æ›¸ã‘ã¾ã›ã‚“ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// PublicSuffixList provides the public suffix of a domain. For example:</span></span><br><span class="line"><span class="comment">//   - the public suffix of &quot;example.com&quot; is &quot;com&quot;,</span></span><br><span class="line"><span class="comment">//   - the public suffix of &quot;foo1.foo2.foo3.co.uk&quot; is &quot;co.uk&quot;, and</span></span><br><span class="line"><span class="comment">//   - the public suffix of &quot;bar.pvt.k12.ma.us&quot; is &quot;pvt.k12.ma.us&quot;.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Clean returns the shortest path name equivalent to path</span></span><br><span class="line"><span class="comment">// by purely lexical processing. It applies the following rules</span></span><br><span class="line"><span class="comment">// iteratively until no further processing can be done:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  1. Replace multiple slashes with a single slash.</span></span><br><span class="line"><span class="comment">//  2. Eliminate each . path name element (the current directory).</span></span><br><span class="line"><span class="comment">//  3. Eliminate each inner .. path name element (the parent directory)</span></span><br><span class="line"><span class="comment">//     along with the non-.. element that precedes it.</span></span><br><span class="line"><span class="comment">//  4. Eliminate .. elements that begin a rooted path:</span></span><br><span class="line"><span class="comment">//     that is, replace &quot;/..&quot; by &quot;/&quot; at the beginning of a path.</span></span><br></pre></td></tr></table></figure><h2 id="ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯"><a href="#ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯" class="headerlink" title="ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯"></a>ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯</h2><p>ã“ã‚Œã¯å‰ã‹ã‚‰ã‚ã£ãŸã‚‚ã®ã§ã™ã€‚å‰ã®æ®µè½ã®æœ«å°¾ã®ã‚³ãƒ­ãƒ³ï¼‹ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã§ã€ã‚¹ãƒšãƒ¼ã‚¹ãªã©ãŒç¶­æŒã•ã‚ŒãŸå½¢ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Search uses binary search...</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// As a more whimsical example, this program guesses your number:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  func GuessingGame() &#123;</span></span><br><span class="line"><span class="comment">//      var s string</span></span><br><span class="line"><span class="comment">//      fmt.Printf(&quot;Pick an integer from 0 to 100.\n&quot;)</span></span><br><span class="line"><span class="comment">//      answer := sort.Search(100, func(i int) bool &#123;</span></span><br><span class="line"><span class="comment">//          fmt.Printf(&quot;Is your number &lt;= %d? &quot;, i)</span></span><br><span class="line"><span class="comment">//          fmt.Scanf(&quot;%s&quot;, &amp;s)</span></span><br><span class="line"><span class="comment">//          return s != &quot;&quot; &amp;&amp; s[0] == &#x27;y&#x27;</span></span><br><span class="line"><span class="comment">//      &#125;)</span></span><br><span class="line"><span class="comment">//      fmt.Printf(&quot;Your number is %d.\n&quot;, answer)</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br></pre></td></tr></table></figure><h2 id="Go-Doc-Commentsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å¿…èª­"><a href="#Go-Doc-Commentsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å¿…èª­" class="headerlink" title="Go Doc Commentsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å¿…èª­"></a>Go Doc Commentsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å¿…èª­</h2><p>ä»Šå›ã¯ãƒ¡ãƒ¢ãƒªã‚„GCã«åŠ ãˆã¦ã€Doc Commentsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä¸Šè¨˜ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ã“ã“ã‹ã‚‰ã®å¼•ç”¨ã§ã—ãŸã€‚</p><p>ãªãŠã€ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å˜ã«æ–‡æ³•ã®æ›¸ãæ–¹ã ã‘ã§ã¯ãªãã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã‚³ãƒãƒ³ãƒ‰ã€å‹ã€é–¢æ•°ã€å®šæ•°ã€å¤‰æ•°ã¨ã„ã£ãŸè¦ç´ ã¸ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›¸ãæ–¹ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãŒå‰åŠã®åŠåˆ†ã‚’å ã‚ã¦ã„ã¾ã™ã€‚</p><p>ä¾‹ãˆã°ã€ã‚¼ãƒ­å€¤ãŒç›®çš„ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã¯æ›¸ã‘ã€ã¨ã‹é–¢æ•°ã®å ´åˆã¯åå‰ä»˜ãã®è¿”ã‚Šå€¤ã¨ã®ä½µç”¨ã§èª­ã¿ã‚„ã™ããªã‚‹ãã€ã¨ã‹ã€ä¸¦åˆ—å®Ÿè¡Œã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœŸå¾…ã¨é•ã†å ´åˆï¼ˆå‹ã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¸¦åˆ—ä¸å¯ã€é–¢æ•°ã®å ´åˆã¯ä¸¦åˆ—å¯èƒ½ã€ã¨ã„ã†ã®ãŒæœŸå¾…ã®ãƒ©ã‚¤ãƒ³ï¼‰ã¯ãã¡ã‚“ã¨æ˜ç¤ºçš„ã«èª¬æ˜ã—ã‚ˆã†ã€ã¨ã‹ã§ã™ã­ã€‚</p><p>ã“ã®å‰åŠéƒ¨åˆ†ã€Goç‰¹æœ‰ã®å†…å®¹ã‚‚ã‚ã‚Šã¾ã™ãŒã€Javaã¨ã‹TypeScriptã¨ã‹ä½¿ã£ã¦ã„ã‚‹äººã«ã‚‚å½¹ç«‹ã¤ã¨æ€ã†ã®ã§ã€ç¤¾å†…ã§å‹‰å¼·ä¼šã‚’ã—ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€è»½ãã¿ã‚“ãªã§èª­ã‚€æ•™æã¨ã—ã¦å–ã‚Šä¸Šã’ã¦ã‚‚ã‚ˆã„ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ã¾ãŸã€æœ€å¾Œã«ã¯ã‚ˆãã‚ã‚‹é–“é•ã„ã«ã¤ã„ã¦ã®èª¬æ˜ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><h1 id="ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã®æ›´æ–°"><a href="#ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã®æ›´æ–°" class="headerlink" title="ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã®æ›´æ–°"></a>ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã®æ›´æ–°</h1><p>ãã®ä»–æ°—ã«ãªã‚‹æ”¹å–„ã¨ã—ã¦ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ›´æ–°ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã—ãŸã€‚</p><h2 id="unix-ã¨ã„ã†build-constraintãŒè¿½åŠ "><a href="#unix-ã¨ã„ã†build-constraintãŒè¿½åŠ " class="headerlink" title="unix ã¨ã„ã†build constraintãŒè¿½åŠ "></a><code>unix</code> ã¨ã„ã†build constraintãŒè¿½åŠ </h2><p>Go 1.17ã§signal_unix.goã¯æ¬¡ã®ã‚ˆã†ãªbuild constraintãŒã¤ã„ã¦ã„ã¾ã—ãŸã€‚</p><figure class="highlight go"><figcaption><span>os/signal/signal_unix.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//go:build aix || darwin || dragonfly || freebsd || (js &amp;&amp; wasm) || linux || netbsd || openbsd || solaris || windows</span></span><br></pre></td></tr></table></figure><p>ãã‚ŒãŒã“ã‚“ãªã«ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ãªã‚Šã¾ã™ã‚ˆã£ã¨ã€‚ã„ã„ã§ã™ã­ã€‚</p><figure class="highlight go"><figcaption><span>os/signal/signal_unix.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//go:build unix || (js &amp;&amp; wasm) || windows</span></span><br></pre></td></tr></table></figure><h2 id="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ”¹è‰¯ã§switchæ–‡ãŒé«˜é€ŸåŒ–"><a href="#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ”¹è‰¯ã§switchæ–‡ãŒé«˜é€ŸåŒ–" class="headerlink" title="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ”¹è‰¯ã§switchæ–‡ãŒé«˜é€ŸåŒ–"></a>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ”¹è‰¯ã§switchæ–‡ãŒé«˜é€ŸåŒ–</h2><p>æ•°å€¤ã¨æ–‡å­—åˆ—ã‚’å¯¾è±¡ã«ã‚¸ãƒ£ãƒ³ãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã†ã‚ˆã†ã«æ”¹è‰¯ã•ã‚ŒãŸãŸã‚ã€20%ã»ã©é«˜é€ŸåŒ–ã•ã‚ŒãŸã¨ã®ã“ã¨ã§ã™ã€‚</p><h2 id="ELFç’°å¢ƒã§ãƒªãƒ³ã‚«ãƒ¼ãŒåœ§ç¸®å½¢å¼ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’æŒã¤ã‚ˆã†ã«ãªã£ãŸ"><a href="#ELFç’°å¢ƒã§ãƒªãƒ³ã‚«ãƒ¼ãŒåœ§ç¸®å½¢å¼ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’æŒã¤ã‚ˆã†ã«ãªã£ãŸ" class="headerlink" title="ELFç’°å¢ƒã§ãƒªãƒ³ã‚«ãƒ¼ãŒåœ§ç¸®å½¢å¼ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’æŒã¤ã‚ˆã†ã«ãªã£ãŸ"></a>ELFç’°å¢ƒã§ãƒªãƒ³ã‚«ãƒ¼ãŒåœ§ç¸®å½¢å¼ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’æŒã¤ã‚ˆã†ã«ãªã£ãŸ</h2><p>ãƒ¬ã‚¬ã‚·ãƒ¼ãª.zdebugã‹ã‚‰ã€SHF_COMPRESSEDã«å¤‰ã‚ã£ãŸã¨ã®ã“ã¨ã§ã—ãŸã€‚Hello Worldã®çŸ­ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã‚µã‚¤ã‚ºã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã—ãŸï¼ˆM2 Airä¸Šã§GOOS&#x3D;linux go build)ã€‚</p><div class="scroll"><table><thead><tr><th align="center">1.18</th><th align="center">1.19rc2</th></tr></thead><tbody><tr><td align="center">1799875</td><td align="center">1821715</td></tr></tbody></table></div><p>ã†ãƒ¼ã‚€ã€‚å¢—ãˆã¦ã‚‹ï¼Ÿã¨ã¯ã„ãˆã€Mach-OãªmacOSãƒã‚¤ãƒ†ã‚£ãƒ–ã§ã‚„ã£ãŸå ´åˆã¯ã‚‚ã†ã¡ã‚‡ã£ã¨(70KB)å¢—ãˆã¦ã„ãŸã®ã§ä»–ã®å¢—åŠ åˆ†ãŒæ‰“ã¡æ¶ˆã•ã‚ŒãŸã€ã¨è€ƒãˆã‚Œã°è‰¯ã•ãã†ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20200521/go1.19.png&quot; alt=&quot;&quot; width=&quot;&quot; height=&quot;&quot;&gt;

&lt;p&gt;Go</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" scheme="https://future-architect.github.io/tags/%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88/"/>
    
    <category term="ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹" scheme="https://future-architect.github.io/tags/%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9/"/>
    
    <category term="Go1.19" scheme="https://future-architect.github.io/tags/Go1-19/"/>
    
    <category term="GoDoc" scheme="https://future-architect.github.io/tags/GoDoc/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootã§å‹•çš„ãªæ¡ä»¶ã‚’ã‚‚ã¨ã«DIã—ãŸã„</title>
    <link href="https://future-architect.github.io/articles/20220729a/"/>
    <id>https://future-architect.github.io/articles/20220729a/</id>
    <published>2022-07-28T15:00:00.000Z</published>
    <updated>2022-07-29T04:00:38.935Z</updated>
    
    <content type="html"><![CDATA[<p>SpringBootã®Dependency Injectionï¼ˆDIï¼‰ã¯ä¾¿åˆ©ã§ã™ã‚ˆã­ï¼Ÿåˆ©ç”¨ã™ã‚‹å´ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚„ã‚‰ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚„ã‚‰ã‚»ãƒƒã‚¿ãƒ¼ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚„ã‚‰ã®å½¢å¼ã§æ›¸ã„ã¦ãŠãã¨ã€DIã‚³ãƒ³ãƒ†ãƒŠãŒå‹æ‰‹ã«å®Ÿè¡Œæ™‚ã«å¯¾è±¡ã¨ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã£ã¦ãã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã‚’ã—ã¦ãã‚Œã¾ã™ã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹å´ã«æ›¸ã‘ã¾ã™ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseDI</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MyService myService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UseDI</span><span class="params">(MyService myService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.myService = myService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyService</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DIã‚³ãƒ³ãƒ†ãƒŠãŒnewã—ã¦ãã‚ŒãŸã‚ˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Ÿè¡Œæ™‚ã«DIã—ã¦ãã‚Œã‚‹ã¨ã¯ã„ã£ã¦ã‚‚ã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‹ã‚¯ãƒ©ã‚¹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å‰ã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚æœ¬å½“ã«å®Ÿè¡Œæ™‚ã«æ±ºã¾ã‚‹ã‚ˆã†ãªå€¤ã‚’ã‚‚ã¨ã«å‹•çš„ã«ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’å¤‰ãˆãŸã„ã¨ã„ã†è¦ä»¶ãŒã‚ã£ãŸã®ã§ã‚„ã‚Šæ–¹ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚SpringBootä¸Šã ã£ãŸã®ã§ã€æ±ç”¨çš„ãªä»•çµ„ã¿ã§ã¯ãªãã¦SpringBootã®ä»•çµ„ã¿ã«ä¹—ã£ã‹ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p><p>å‹•çš„ã¨ã„ã†ã®ã¯ã€ä¾‹ãˆã°ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ©ãƒ³ã‚¯ã‚’è¦‹ã¦ã€VIPãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’é¸æŠã—ãŸã„ã€ã¿ãŸã„ãªã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ©ãƒ³ã‚¯ã®ç¨®é¡ã¯å‹•çš„ã«å¢—ãˆãŸã‚Šã™ã‚‹ã®ã§ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãŸããªã„ã€ã¿ãŸã„ãªæ„Ÿã˜ã®è¦ä»¶ã ã¨ã—ã¾ã™ã€‚</p><img src="/images/20220729a/åç§°æœªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«.drawio.png" alt="åç§°æœªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«.drawio.png" width="460" height="191" loading="lazy"><h1 id="ã¾ãšã¯ãƒ­ã‚¸ãƒƒã‚¯ã®ç™»éŒ²æ©Ÿæ§‹"><a href="#ã¾ãšã¯ãƒ­ã‚¸ãƒƒã‚¯ã®ç™»éŒ²æ©Ÿæ§‹" class="headerlink" title="ã¾ãšã¯ãƒ­ã‚¸ãƒƒã‚¯ã®ç™»éŒ²æ©Ÿæ§‹"></a>ã¾ãšã¯ãƒ­ã‚¸ãƒƒã‚¯ã®ç™»éŒ²æ©Ÿæ§‹</h1><p>ã‚„ã¯ã‚ŠDIã™ã‚‹ã«ã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã‚ˆã­ã€‚ <code>@UserRank</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚1ã¤ã ã‘å¼•æ•°ã‚’æŒã¤å˜ä¸€å€¤ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¾ã™ã€‚ã§ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæˆã‚’ä½¿ã£ã¦ã€<code>@Component</code>ã‚‚ã¤ã‘ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸã‚‰ã€å³åº§ã«DIå¯¾è±¡ï¼ˆåˆ¥é€”<code>@Service</code>ã‚„ã‚‰<code>@Component</code>ã‚„ã‚‰<code>@Bean</code>ã‚’ã¤ã‘ã‚‹å¿…è¦ã¯ãªã„ï¼‰ã¨ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/annotations/UserRank.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.annotations;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(&#123;</span></span><br><span class="line"><span class="meta">    ElementType.TYPE,</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="meta">@Component</span> <span class="comment">// ã“ã“ã«ä¸¦ã¹ã‚‹ã¨åˆæˆã¨ãªã£ã¦ã€UserRankã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸã‚‚ã®ã«Componentã‚’ã¤ã‘ãŸã®ã¨åŒã˜åŠ¹æœã‚‚ä»˜ä¸ã•ã‚Œã‚‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> UserRank&#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>String value()</code>ã®ã¨ã“ã‚ãŒå¼•æ•°ã§ã€<code>value</code>ã¨ã„ã†åå‰ã§ã‚ã‚Œã°ã€<code>@UserRank(&quot;VIP&quot;)</code>ã¨æ›¸ã‘ã¾ã™ãŒã€ä»®ã«<code>type</code>ã ã¨ã€<code>@UserRank(type=&quot;VIP&quot;)</code>ã¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€è¤‡æ•°å€‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã¤ã‘ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚VIPã«ãªã£ãŸå‹¤ç¶šå›æ•°ã§ã‚‚é¸æŠã—ãŸã„ãŒã€ç‰¹åˆ¥ãªå ´åˆä»¥å¤–ã¯çœç•¥ã—ãŸã„å ´åˆã€<code>int streak() default 0;</code>ã¿ãŸã„ã«<code>default</code>ã‚’ã¤ã‘ã‚‹ã¨çœç•¥å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p><p>ã“ã‚Œã§ã€ãƒ­ã‚¸ãƒƒã‚¯å´ã«å‹•çš„ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œã‚Œã¾ã—ãŸã€‚</p><p>å®Ÿéš›ã«ã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã‚ãªã„ã§ã‚‚ã€ç‰¹å®šã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‚‚ã®ã¨ã‹ã€ã‚¯ãƒ©ã‚¹åã§ãªã©ã®æ¡ä»¶ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ¢ã›ã‚‹ã®ã§ã™ãŒã€ã‚„ã¯ã‚Šã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã»ã†ãŒã‚¢ã‚¹ãƒšã‚¯ãƒˆæŒ‡å‘ã£ã½ã„æ„Ÿã˜ã§ã€ãƒ­ã‚¸ãƒƒã‚¯ã®ä¸­èº«ã¨æ¢ç´¢ãƒ«ãƒ¼ãƒ«ã‚’åˆ‡ã‚Šé›¢ã—ã¦è¡¨ç¾ã§ãã‚‹ã®ã§ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã—ã¦ã„ã¾ã™ã€‚</p><h1 id="å‹•çš„ã«é¸æŠã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã€‚"><a href="#å‹•çš„ã«é¸æŠã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã€‚" class="headerlink" title="å‹•çš„ã«é¸æŠã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã€‚"></a>å‹•çš„ã«é¸æŠã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã€‚</h1><p>ã¾ãšã¯å®Ÿè£…ã«ã¤ã‘ã‚‹ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œã£ã¦ãŠãã¾ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/UserService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> String <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Ÿè£…ã‚’2ã¤ä½œã‚Šã¾ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/services/VIPService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.services;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.annotations.UserRank;</span><br><span class="line"><span class="keyword">import</span> com.example.UserService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VIPç”¨ãƒ­ã‚¸ãƒƒã‚¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@UserRank(&quot;VIP&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VIPService</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;VIPç”¨ãƒ­ã‚¸ãƒƒã‚¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;VIP&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>src/main/java/com/example/services/GenericUserService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.services;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.annotations.UserRank;</span><br><span class="line"><span class="keyword">import</span> com.example.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸€èˆ¬ç”¨ãƒ­ã‚¸ãƒƒã‚¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@UserRank(&quot;ä¸€èˆ¬&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneralUserService</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€èˆ¬äººç”¨ãƒ­ã‚¸ãƒƒã‚¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ä¸€èˆ¬äºº&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒƒãƒ—ã‚’ä½œã‚‹"><a href="#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒƒãƒ—ã‚’ä½œã‚‹" class="headerlink" title="ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒƒãƒ—ã‚’ä½œã‚‹"></a>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒƒãƒ—ã‚’ä½œã‚‹</h1><p>ã¡ã‚‡ã£ã¨é•·ã„ã§ã™ãŒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒƒãƒ—ã‚’ä½œã‚‹ã‚¯ãƒ©ã‚¹ãŒä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p><p><code>ClassPathScanningCandidateComponentProvider</code>ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã¨ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä»¥ä¸‹ã®ã‚¯ãƒ©ã‚¹ç¾¤ã‚’å–å¾—ã§ãã¾ã™ã€‚å–å¾—æ™‚ã«ã¯åå‰ã¨ã‹ã„ã‚ã„ã‚ãƒ•ã‚£ãƒ«ã‚¿ãŒè¨­å®šã§ãã‚‹ã®ã§ã™ãŒã€ã“ã“ã§ã¯<code>UserRank</code>ã¨ã„ã†ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã¤ã„ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã‚’å…¨å–å¾—ã—ã¦ã„ã¾ã™ã€‚ä¸€åº¦ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸã‚‰ãã®çµæœä½¿ã„ã¾ã‚ã—ãŸã„ã®ã§<code>static</code>ãª<code>Map</code>ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/UserServiceFactory.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.type.filter.AnnotationTypeFilter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.annoatations.UserRank;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚¯ã”ã¨ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒƒãƒ—ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€å¿…è¦ã«å¿œã˜ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceFactory</span> &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ä¸ãˆã¦ã„ã‚‹ãŒã€è¨­å®šã—ãŸã„å ´åˆã¯mainã§ã“ã‚Œã‚’å‘¼ã¶ã“ã¨ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> String[] scanTargets = &#123;<span class="string">&quot;com.example&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¨­å®š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScanTarget</span><span class="params">(String[] packages)</span> &#123;</span><br><span class="line">scanTargets = packages;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸­ã«å«ã¾ã‚Œã‚‹ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’é›†ã‚ãŸã‚‚ã®</span></span><br><span class="line"><span class="comment"> * åˆæœŸã®å–å¾—æ™‚ã«åˆæœŸåŒ–ã‚’è¡Œã†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> Map&lt;String, Class&lt;?&gt;&gt; services = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ã‚µãƒ¼ãƒ“ã‚¹ã®Mapã‚’ä½œæˆã™ã‚‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">initServiceMap</span><span class="params">()</span> &#123;</span><br><span class="line">services = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="type">var</span> <span class="variable">provider</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathScanningCandidateComponentProvider</span>(<span class="literal">false</span>);</span><br><span class="line">provider.addIncludeFilter(<span class="keyword">new</span> <span class="title class_">AnnotationTypeFilter</span>(UserService.class));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> scanTarget : scanTargets) &#123;</span><br><span class="line"><span class="type">var</span> <span class="variable">beanSet</span> <span class="operator">=</span> provider.findCandidateComponents(scanTarget);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> def : beanSet) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Class&lt;?&gt; clazz = Class.forName(def.getBeanClassName());</span><br><span class="line"><span class="type">var</span> <span class="variable">annotation</span> <span class="operator">=</span> (UserRank)clazz.getAnnotation(UserRank.class);</span><br><span class="line">services.put(annotation.value(), clazz);</span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line"><span class="comment">// å–å¾—ã—ãŸåå‰ã§ã‚¯ãƒ©ã‚¹ã‚’ãã®å ´ã§å–ã‚Šå‡ºã—ã¦ã„ã‚‹ã ã‘ãªã®ã§Class.forNameãŒã“ã®ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã“ã¨ã¯ãªã„è¦‹è¾¼ã¿</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ©Ÿæ§‹ã®è¿½åŠ "><a href="#ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ©Ÿæ§‹ã®è¿½åŠ " class="headerlink" title="ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ©Ÿæ§‹ã®è¿½åŠ "></a>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ©Ÿæ§‹ã®è¿½åŠ </h1><p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆã¯SpringBootã®æä¾›ã™ã‚‹DIã‚³ãƒ³ãƒ†ãƒŠã®æ©Ÿæ§‹ã‚’ä½¿ã„ã¾ã™ã€‚ãã†ã™ã‚Œã°ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ãŒä½•ã‹ã—ã‚‰ã®å¤–éƒ¨ä¾å­˜ã‚’æŒã£ã¦ã„ã¦ã‚‚ãã‚Œã®DIã‚‚ä¸€ç·’ã«è¡Œãˆã¾ã™ã€‚</p><p>DIã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ã¯<code>BeanFactory</code>ã‚’ä½¿ã†ã®ã§ã™ãŒã€ã“ã‚Œè‡ªèº«ã¯DIã§ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ã¦ã‚‚ã‚‰ãˆã°OKã§ã™ã€‚ã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¯å‰ã®ã‚³ãƒ¼ãƒ‰ã§å–å¾—ã§ãã¦ã„ã¾ã™ã®ã§ã€ã‚ã¨ã¯åå‰ã‚’ã‚‚ã¨ã«ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã£ã¦ãã¦ã€<code>beanFactory.getBean()</code>ã‚’å‘¼ã‚“ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹ã ã‘ã§ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/UserServiceFactory .java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.BeanFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceFactory</span> &#123;</span><br><span class="line"><span class="comment">// ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã«ä½¿ã†ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼</span></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> BeanFactory beanFactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ãƒ©ãƒ³ã‚¯ã‚’ã‚‚ã¨ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’å–å¾—ã™ã‚‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> rank ãƒ©ãƒ³ã‚¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> UserService <span class="title function_">findService</span><span class="params">(String rank)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (services == <span class="literal">null</span>) &#123;</span><br><span class="line">initServiceMap(); <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">var</span> <span class="variable">clazz</span> <span class="operator">=</span> services.get(rank);</span><br><span class="line"><span class="keyword">if</span> (clazz == <span class="literal">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (UserService) beanFactory.getBean(clazz);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ã£ã¦ã¿ã‚‹"><a href="#ä½¿ã£ã¦ã¿ã‚‹" class="headerlink" title="ä½¿ã£ã¦ã¿ã‚‹"></a>ä½¿ã£ã¦ã¿ã‚‹</h1><p>ãã‚Œã§ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«çµ„ã¿è¾¼ã‚“ã§ã¿ã¾ã™ã€‚</p><figure class="highlight java"><figcaption><span>src/main/java/com/example/MyController.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.CookieValue;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserServiceFactory factory;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyController</span><span class="params">(UserServiceFactory factory)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.factory= factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/do&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">doService</span><span class="params">(<span class="meta">@CookieValue(&quot;rank&quot;)</span> String rank)</span> &#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">service</span> <span class="operator">=</span> factory.findService(rank); <span class="comment">// åå‰ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—</span></span><br><span class="line">        <span class="keyword">if</span> (service == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;ä¸æ­£ãªãƒ©ãƒ³ã‚¯&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> service.execute();                <span class="comment">// ãƒ©ãƒ³ã‚¯ã”ã¨ã®ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ã¯ã„ã€‚ã“ã‚Œã§å‹•çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã¨ã£ã¦ãã¦å®Ÿè¡Œã™ã‚‹ã‚ˆã‚Šå‹•çš„ãªDIã‚³ãƒ³ãƒ†ãƒŠãŒå®Ÿè£…ã§ãã¾ã—ãŸã€‚</p><h1 id="ã‚‚ã£ã¨ç°¡å˜ãªå®Ÿè£…ã‚‚ã‚ã‚‹ã‚ˆ"><a href="#ã‚‚ã£ã¨ç°¡å˜ãªå®Ÿè£…ã‚‚ã‚ã‚‹ã‚ˆ" class="headerlink" title="ã‚‚ã£ã¨ç°¡å˜ãªå®Ÿè£…ã‚‚ã‚ã‚‹ã‚ˆ"></a>ã‚‚ã£ã¨ç°¡å˜ãªå®Ÿè£…ã‚‚ã‚ã‚‹ã‚ˆ</h1><p><a href="https://twitter.com/ryushi">@ryushi</a>ã•ã‚“ã«<a href="https://www.baeldung.com/spring-dynamic-autowire">æ•™ãˆã¦ã‚‚ã‚‰ã£ãŸè¨˜äº‹</a>ã§ã¯ã‚‚ã£ã¨ç°¡å˜ãªã‚„ã‚Šæ–¹ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã—ãŸã€‚</p><p>SpringBootã®DIã‚³ãƒ³ãƒ†ãƒŠã«è‡ªèº«ã«ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ–‡å­—åˆ—ã§åå‰ã‚’ã¤ã‘ã¦ã€ãã®æ–‡å­—åˆ—ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã‚’è¡Œã†æ©Ÿæ§‹ãŒã‚ã‚Šã¾ã™ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;GBregionService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GBRegionService</span> <span class="keyword">implements</span> <span class="title class_">RegionService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã®ã‚ˆã†ã«DIã®ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«æ–‡å­—åˆ—ã‚’ã¤ã‘ã¦ã‚ã’ã¦ã€<code>getBean()</code>ã«ãã®åå‰ã‚’æ¸¡ã™ã¨çµã‚Šè¾¼ã¿ã‚’è¡Œã£ã¦ãã‚Œã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ï¼ˆã¡ã‚‡ã£ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚’çŸ­ããªã‚‹ã‚ˆã†ã«æ”¹å¤‰ã—ã¦ã„ã¾ã™ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeanFactoryDynamicAutowireService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SERVICE_NAME_SUFFIX</span> <span class="operator">=</span> <span class="string">&quot;regionService&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> BeanFactory beanFactory;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BeanFactoryDynamicAutowireService</span><span class="params">(BeanFactory beanFactory)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.beanFactory = beanFactory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isServerActive</span><span class="params">(String isoCountryCode, <span class="type">int</span> serverId)</span> &#123;</span><br><span class="line">        <span class="type">RegionService</span> <span class="variable">service</span> <span class="operator">=</span> beanFactory.getBean(isoCountryCode + SERVICE_NAME_SUFFIX,</span><br><span class="line">          RegionService.class);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> service.isServerActive(serverId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åˆã®å®Ÿè£…ã‚‚ä»Šå›ã¯ã‚µãƒ³ãƒ—ãƒ«ã®ãŸã‚ã«ã ã„ã¶ã‚·ãƒ³ãƒ—ãƒ«åŒ–ã—ã¦ã„ã¾ã™ãŒã€è¦ä»¶ã¨ã—ã¦ã¯DIå¯¾è±¡ã‚’æ¢ã™ãƒ­ã‚¸ãƒƒã‚¯ã¯æœ¬å½“ã¯ã‚‚ã†ã¡ã‚‡ã£ã¨è¤‡é›‘ã§ã€ãƒãƒƒãƒã—ãªã‹ã£ãŸã¨ãã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã‹ã‚‚ã‚„ã‚ã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã€ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã¨ã¯åˆ¥ã®<code>ClassPathScanningCandidateComponentProvider</code>ã§ã¨ã£ã¦ããŸã‚¯ãƒ©ã‚¹ãƒªã‚¹ãƒˆã‚’Mapã«å…¥ã‚Œã¦ã€ã„ã‚ã„ã‚ãªæ¤œç´¢ãŒè¡Œãˆã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚<br>ã‚·ãƒ³ãƒ—ãƒ«ãªæ©Ÿæ§‹ã§ç‰¹æ®Šãªæ¤œç´¢æ¡ä»¶ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«å…¥ã‚Œã‚‹ãƒªãƒ†ãƒ©ãƒ«ã®åå‰ã®ãƒ«ãƒ¼ãƒ«ã‚’ä½œã‚Šã€ãã‚Œã‚’å®Ÿè£…è€…ãŒå®ˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãŸã‚“ãªã‚‹æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã§è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ãƒã‚§ãƒƒã‚¯ã¨ã‹ã‚‚åŠ¹ã‹ãªã„ã®ã§ä¸è¦ªåˆ‡ã‹ãªã¨ã„ã†ç‚¹ãŒãƒãƒƒã‚¯ã§ã—ãŸã€‚ç‹¬è‡ªã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«<code>@AliasFor</code>ã§è¦ªã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«å€¤ã‚’æ¸¡ã™ã¨ãã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®åŠ å·¥ã¨ã‹åˆæˆã¨ã‹ã„ã‚ã„ã‚ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚Œã°å®Ÿç¾ã§ããã†ã§ã—ãŸãŒã€ãã†ã„ã†ã®ã¯ã§ããªãã†ã§ã—ãŸã®ã§ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ç‹¬ç«‹æ€§ã®é«˜ã„ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã©ã‹ã©ã‹è¿½åŠ ã—ã¦ã€ãã‚Œã‚’å‹•çš„ãªæ¡ä»¶ã‚’ã‚‚ã¨ã«é¸æŠã—ã¦å®Ÿè¡Œã™ã‚‹ã€ã¿ãŸã„ãªã¨ãã«ä½¿ãˆã‚‹æ©Ÿæ§‹ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚</p><p>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å˜ç‹¬ã§ã®å®Ÿè£…æ–¹æ³•ã¯èª¿ã¹ã‚‹ã¨ã™ãå‡ºã¦ããŸã®ã§ã™ãŒã€ãã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã‚¯ãƒ©ã‚¹ä¸€è¦§ã‚’å–å¾—ã—ã¦ãã‚‹ã‚³ãƒ¼ãƒ‰ã€ã¾ãŸãã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®å¼•æ•°ã‚’ã‚‚ã¨ã«ãƒãƒƒãƒ—ã‚’ä½œã£ã¦ã€å‹•çš„ã«é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‹ã¨ã“ã‚ãªã©ã€ã¤ãªãåˆã‚ã›ã®ã‚µãƒ³ãƒ—ãƒ«ã¯å‡ºã¦ã“ãªã‹ã£ãŸã®ã§ã€ã„ã‚ã„ã‚èª¿ã¹ãªãŒã‚‰æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚</p><p>ã“ã®ã‚ˆã†ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã‹ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Javaã®ãƒ¡ã‚¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°çš„ãªã¨ã“ã‚ã‚’ã„ã‚ã„ã‚çŸ¥ã‚Œã¦æ¥½ã—ã‹ã£ãŸã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;SpringBootã®Dependency</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Java" scheme="https://future-architect.github.io/tags/Java/"/>
    
    <category term="SpringBoot" scheme="https://future-architect.github.io/tags/SpringBoot/"/>
    
    <category term="DI" scheme="https://future-architect.github.io/tags/DI/"/>
    
  </entry>
  
  <entry>
    <title>ãƒ‡ã‚¶ã‚¤ãƒ³æ€è€ƒã«ãŠã‘ã‚‹Viabilityã¨Feasibilityã®å£</title>
    <link href="https://future-architect.github.io/articles/20220727a/"/>
    <id>https://future-architect.github.io/articles/20220727a/</id>
    <published>2022-07-26T15:00:00.000Z</published>
    <updated>2022-08-01T00:41:09.528Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>TIG DX-Unitã®ãƒŸãƒ³ã§ã™ã€‚</p><p>DXã‚¢ãƒ—ãƒ­ãƒ¼ãƒé€£è¼‰2æœ¬ç›®ã¨ã—ã¦æœ¬è¨˜äº‹ã§ã¯ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã‚’ç”¨ã„ãŸã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆãƒ»ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè¨­è¨ˆã‚’ã™ã‚‹éš›ã«è€ƒæ…®ã™ã¹ã3ã¤ã®è¦³ç‚¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã€ãã®æ–‡è„ˆã®ä¸­ã§<a href="/articles/20220706a/">ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯</a>ã¯ã©ã†ã„ã†ç«‹ã¡ä½ç½®ã«ã„ã‚‹ã®ã‹ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p><h2 id="Desirability-Viability-Feasibility"><a href="#Desirability-Viability-Feasibility" class="headerlink" title="Desirability, Viability, Feasibility"></a>Desirability, Viability, Feasibility</h2><img src="/images/20220727a/ã‚¹ãƒ©ã‚¤ãƒ‰1.PNG" alt="" width="1200" height="675" loading="lazy"><p>ãƒ‡ã‚¶ã‚¤ãƒ³æ€è€ƒã¯ã€Desirabilityï¼ˆæœ‰ç”¨æ€§ï¼‰ãƒ»Viabilityï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰ãƒ»Feasibilityï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰ã®3è¦ç´ ã‚’å…¨ã¦æº€ãŸã™ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿã¿å‡ºã™ã“ã¨ãŒã‚´ãƒ¼ãƒ«ã ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>ã€‚</p><p>ãƒ¦ãƒ¼ã‚¶ã®ãƒ‹ãƒ¼ã‚ºã«å¿œãˆã€ãƒ“ã‚¸ãƒã‚¹çš„ã«å®Ÿè¡Œãƒ»æŒç¶šå¯èƒ½ã§ã€æŠ€è¡“çš„ã«ã‚‚å®Ÿç¾å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã“ãã€èª°ã‚‚ãŒè¿½æ±‚ã™ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã®ç†æƒ³åƒã ã¨è¨€ãˆã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚é€†ã«ã€å¸¸ã«ã“ã®ï¼“ã¤ã®è¦³ç‚¹ã‹ã‚‰ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç­–å®šãƒ»æ¤œè¨¼ã—ã¦ã„è¡Œã‹ãªã„ã¨ã€ã‚¢ã‚¤ãƒ‡ã‚¢å…·ç¾åŒ–ã®éç¨‹ã«ãŠã‘ã‚‹ã‚³ã‚¹ãƒˆã‚„å¤±æ•—ã®ãƒªã‚¹ã‚¯ã‚’å¢—åŠ ã•ã›ã‚‹ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚</p><h3 id="1-Desirabilityï¼ˆæœ‰ç”¨æ€§ï¼‰"><a href="#1-Desirabilityï¼ˆæœ‰ç”¨æ€§ï¼‰" class="headerlink" title="1. Desirabilityï¼ˆæœ‰ç”¨æ€§ï¼‰"></a>1. Desirabilityï¼ˆæœ‰ç”¨æ€§ï¼‰</h3><img src="/images/20220727a/ã‚¹ãƒ©ã‚¤ãƒ‰2.PNG" alt="" width="1200" height="675" loading="lazy"><p>ã€Œãƒ¦ãƒ¼ã‚¶ã«å¿…è¦ã¨ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãƒ»å•†å“ãªã®ã‹ï¼Ÿã€ã€ã€Œèª°ã‹ã®èª²é¡Œã‚’è§£æ±ºã—ã¦ã„ã‚‹ã®ã‹ï¼Ÿã€ã€ã€Œä»–ã«è‰¯ã„æ—¢å­˜å•†å“ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ãªã„ã®ã‹ï¼Ÿã€ç­‰ã®è³ªå•ã«ç­”ãˆã‚‹ã®ãŒæœ€åˆã®è¦³ç‚¹ã§ã‚ã‚‹ã€ŒDesirabilityã€ï¼ˆæœ‰ç”¨æ€§ï¼‰ã®å½¹å‰²ã§ã™ã€‚</p><p>æœ‰ç”¨æ€§ã®ãªã„ã‚µãƒ¼ãƒ“ã‚¹ãƒ»å•†å“ã¯å¸‚å ´ä¾¡å€¤ã‚‚ãªãã€äººã€…ã‹ã‚‰æ±‚ã‚ã‚‰ã‚Œãªã„ã®ã§ã€ã‚‚ã¡ã‚ã‚“å£²ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ã¯ã€Œã“ã‚“ãªã‚‚ã®ãŒã‚ã£ãŸã‚‰ã„ã„ãªã€ç­‰ã®ãƒ‹ãƒ¼ã‚ºã‚„éœ€è¦ã‹ã‚‰å§‹ã¾ã‚‹ã“ã¨ãŒå¤šãã€æœ‰ç”¨æ€§ã®æ¤œè¨¼ãŒãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®èµ·ç‚¹ã«ãªã‚‹ã¨è¨€ã£ã¦ã‚‚éè¨€ã§ã¯ãªã„ã§ã—ã‚‡ã†ã€‚ãã®ãŸã‚ã€å¿…ç„¶çš„ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã®å¤šãã¯ã€å¸‚å ´èª¿æŸ»ã‚„ãƒ¦ãƒ¼ã‚¶ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç­‰ã€UXãƒ‡ã‚¶ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã§ã„ã†ã€ŒUnderstandã€ï¼ˆç†è§£ï¼‰ã‚„ã€ŒEmpathizeã€ï¼ˆå…±æ„Ÿï¼‰ã®ãƒ•ã‚§ãƒ¼ã‚ºã‹ã‚‰è¡Œã‚ã‚Œã¾ã™ã€‚</p><img src="/images/20220727a/image.png" alt="" width="555" height="365" loading="lazy"><blockquote><p>ã‚¢ãƒœã‚«ãƒ‰ãƒˆãƒ¼ã‚¹ãƒˆã‚’ã©ã“ã§ã‚‚ã„ã¤ã§ã‚‚â€¦ ã©ã‚Œãã‚‰ã„ãƒ‹ãƒ¼ã‚ºãŒã‚ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼ˆå€‹äººçš„ã«ã¯æ¬²ã—ã„ï¼‰<br>å‡ºå±•ï¼š@UNNECESSARYINVENTIONS&#x2F;INSTAGRAM</p></blockquote><h3 id="2-Viabilityï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰"><a href="#2-Viabilityï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰" class="headerlink" title="2. Viabilityï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰"></a>2. Viabilityï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰</h3><img src="/images/20220727a/ã‚¹ãƒ©ã‚¤ãƒ‰3.PNG" alt="" width="1200" height="675" loading="lazy"><p>ç›´è¨³ã™ã‚‹ã¨ã€Œå®Ÿè¡Œå¯èƒ½æ€§ã€ã€å°‘ã—æ‰ãˆæ–¹ã‚’å¤‰ãˆã‚‹ã¨ã€ŒæŒç¶šå¯èƒ½æ€§ã€ã¨ã‚‚è¨€ãˆã‚‹ã€ŒViabilityã€ã¯å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ãŒå•é¡Œãªãå±•é–‹ã§ãã€ç¶™ç¶šçš„ã«ä¾¡å€¤ã‚’æä¾›ã§ãã‚‹ã‹ã©ã†ã‹ã‚’è€ƒå¯Ÿã™ã‚‹è¦³ç‚¹ã§ã™ã€‚</p><p>åˆ©ç›Šã‚’ç¢ºä¿ã§ãã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®è¨­è¨ˆã‚„å„ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã®ç†è§£ã‚’å¾—ã‚‹ç­‰ã€ãƒ“ã‚¸ãƒã‚¹è¦³ç‚¹ã‹ã‚‰ã®çŸ­æœŸçš„ãªè€ƒå¯Ÿã¯ã‚‚ã¡ã‚ã‚“ã€ã€Œã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ã«ã¨ã£ã¦ç¾å®Ÿçš„ãªãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã€ã€ã€Œç¤¾ä¼šãƒ»è‡ªç„¶ç’°å¢ƒã¸ã®è² æ‹…ã¯ã©ã‚Œãã‚‰ã„ã‚ã‚‹ã®ã‹ï¼Ÿã€ç­‰ã€é¡§å®¢ã‚„ç¤¾ä¼šçš„è©•ä¾¡ã®è¦–ç‚¹ã‹ã‚‰ã‚‚è€ƒãˆãŸã†ãˆã§ã€é•·æœŸçš„ãªæŒç¶šå¯èƒ½æ€§ã®ç¢ºä¿ãŒå¿…è¦ã§ã™ã€‚</p><img src="/images/20220727a/image_2.png" alt="" width="1200" height="358" loading="lazy"><blockquote><p>è‹¥ã„åˆ©ç”¨è€…ã®ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ã«æ‚ªå½±éŸ¿ã‚’åŠã¼ã™ã¨æŒ‡æ‘˜ã•ã‚ŒãŸInstagramâ€¦ æŒç¶šå¯èƒ½ãªãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‹ï¼Ÿ<br>å‡ºå±•ï¼šROYAL SOCIETY FOR PUBLIC HEALTH</p></blockquote><p>ã€Œãƒ¦ãƒ¼ã‚¶ã®ãƒ‹ãƒ¼ã‚ºã«ã¯ç¢ºå®Ÿã«å¿œãˆã‚‰ã‚Œã¦ã„ã‚‹ã‘ã©ã€ãƒ“ã‚¸ãƒã‚¹ã¨ã—ã¦make senseã—ã¦ã‚‹ã‚“ã ã£ã‘ï¼Ÿã€ã¨ã€ã€ŒDesirabilityã€ã‚’æ‹…ä¿ã—ãŸå¾Œã€æœ€åˆã«ç›´é¢ã™ã‚‹å£ã®ä¸€ã¤ã ã¨è¨€ãˆã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚</p><p>ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶è¦³ç‚¹ã‹ã‚‰è¦‹ã‚‹ã¨ã©ã‚Œã‚‚ã€ŒãŠå¾—ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã§ãã‚‹ã€ã‚¯ãƒ¼ãƒãƒ³ã€ãƒã‚¤ãƒ³ãƒˆã¨ãƒ­ã‚¤ãƒ¤ãƒªãƒ†ã‚£ã®ä»•çµ„ã¿ã§ã™ãŒã€ãƒ“ã‚¸ãƒã‚¹è¦³ç‚¹ã‹ã‚‰è¦‹ãŸå ´åˆã€ä¼æ¥­ã®çŠ¶æ³ãƒ»å•†å“ã®æ€§è³ªã«ã‚ˆã£ã¦ã©ã‚Œã‚’æ¡ç”¨ã—ãŸæ–¹ãŒæ–°è¦ãƒ“ã‚¸ãƒã‚¹ã¨ã—ã¦ã®ã€ŒæŒç¶šå¯èƒ½æ€§ã€ã‚’ç¢ºä¿ã§ãã‚‹ã‹ãŒå¤‰ã‚ã£ã¦ãã¾ã™ã€‚</p><p>ä¸€èˆ¬çš„ã«ã€ã‚¯ãƒ¼ãƒãƒ³ã‚„ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒã¯æ–°è¦é¡§å®¢ç²å¾—ã«åŠ¹æœçš„ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ãŒã€å•†å“ãŒå®‰ãè¦‹ãˆã¦ã—ã¾ã†ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚ã‚¯ãƒ¼ãƒãƒ³ã‚„ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒã®è²©ä¿ƒæ‰‹æ®µã‚’ä½¿ãˆã°çŸ­æœŸé–“ã§ã®æ–°è¦é¡§å®¢ç²å¾—ã€å£²ä¸Šå¢—åŠ ã‚’å®Ÿç¾ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã®å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®å£²ã‚ŠãŒãƒ–ãƒ©ãƒ³ãƒ‰ãƒ»é«˜ç´šæ„Ÿã ã£ãŸå ´åˆã€ã‚‚ã—ã‹ã—ãŸã‚‰ãƒ­ã‚¤ãƒ¤ãƒªãƒ†ã‚£ã®ä»•çµ„ã¿ã§ã‚ˆã‚Šå„ªè¶Šæ„Ÿã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚¤ãƒ³ã‚»ãƒ³ãƒ†ã‚£ãƒ–ï¼ˆä¾‹ãˆã°ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã ã‘ã«æ¡ˆå†…ã•ã‚Œã‚‹ç‰¹åˆ¥ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’å—ã‘ã‚‰ã‚Œã‚‹ç­‰ï¼‰ã‚’æä¾›ã—ãŸæ–¹ãŒé•·æœŸçš„ãªã€ŒæŒç¶šå¯èƒ½æ€§ã€ã«ç¹‹ãŒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><h3 id="3-Feasibilityï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰"><a href="#3-Feasibilityï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰" class="headerlink" title="3. Feasibilityï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰"></a>3. Feasibilityï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰</h3><img src="/images/20220727a/ã‚¹ãƒ©ã‚¤ãƒ‰4.PNG" alt="" width="1200" height="675" loading="lazy"><p>æœ€å¾Œã®è¦³ç‚¹ã§ã‚ã‚‹ã€ã€ŒFeasibilityã€ã¯ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ãƒ»æŠ€è¡“ãŒååˆ†ã§ã‚ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ã€Œå®Ÿç¾å¯èƒ½æ€§ã€ã§ã™ã€‚</p><p>ã€Œãƒ“ã‚¸ãƒã‚¹ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å½¢ã«ã™ã‚‹ãŸã‚ã®æŠ€è¡“ã¯å­˜åœ¨ã™ã‚‹ã‹ã€ã€ã€Œé–‹ç™ºã™ã‚‹ãŸã‚ã®äººæãŒæƒã£ã¦ã„ã‚‹ã‹ã€ã€ã€Œé–‹ç™ºæŠ€è¡“ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã¯ã©ã®ç¨‹åº¦ã‹ã€ç­‰ã€ã‚¢ã‚¤ãƒ‡ã‚¢å…·ç¾åŒ–ã®æ®µéšã§æ˜ã‚‰ã‹ã«ã—ãªã„ã¨ã„ã‘ãªã„æŠ€è¡“çš„ãªèª²é¡Œã¯å¤šãã‚ã‚Šã¾ã™ã€‚ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹é–‹å§‹ç›´å¾Œã¯ã€æŠ€è¡“çš„ãªåˆ¶ç´„ã«å›šã‚ã‚Œã™ããšã«ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç™ºæ•£ã•ã›ã‚‹ã“ã¨ã¯é‡è¦ã§ã™ã€‚ãã®ä¸€æ–¹ã§ã€å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã™ã‚‹ãƒªã‚¹ã‚¯ã¨ã‚³ã‚¹ãƒˆã‚’ãƒŸãƒ‹ãƒãƒ ã«æŠ‘ãˆã‚‹ã«ã¯ã€æ—©ã„æ®µéšã‹ã‚‰ã‚¢ã‚¤ãƒ‡ã‚¢ã®å®Ÿç¾å¯èƒ½æ€§ã‚’æŠŠæ¡ã™ã‚‹ã“ã¨ã¯ä¸å¯æ¬ ã ã¨è¨€ãˆã¾ã™ã€‚</p><img src="/images/20220727a/image_3.png" alt="" width="1200" height="600" loading="lazy"><blockquote><p>ç¬é–“ç§»å‹•ã€å®Ÿç¾ã—ãŸã„ã§ã™ã­<br>å‡ºå±•ï¼šCOKADA&#x2F;GETTY IMAGES</p></blockquote><p>ç­†è€…ã®çµŒé¨“ä¸Šã€å¤šãã®ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼å‘ã‘ã®ãƒ“ã‚¸ãƒã‚¹ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã€ç¬é–“ç§»å‹•ç­‰SFçš„ãªæŠ€è¡“ã•ãˆè¦ã—ãªã‘ã‚Œã°ã€ç†è«–ä¸Šå¤§æŠµã¯å®Ÿç¾å¯èƒ½ã§ã™ãƒ»ãƒ»ãƒ»ãŠé‡‘ã¨æ™‚é–“ãŒç„¡é™ã«ã‚ã‚Œã°ã€‚ãã®ãŸã‚ã€æ®†ã©ã®å ´åˆã€ãƒ‡ã‚¶ã‚¤ãƒ³æ®µéšã§ã®ã€Œå®Ÿç¾å¯èƒ½æ€§ã€ã«é–¢ã™ã‚‹å•ã¯ã€ã€Œç‰©ç†çš„ã«å®Ÿç¾ã§ãã‚‹ã®ã‹ï¼Ÿã€ã¨ã„ã†ãƒ”ãƒ¥ã‚¢ãªæ„å‘³åˆã„ã‚ˆã‚Šã‚‚ã€ã€Œå®Ÿç¾ã™ã‚‹ã«ã¯ã©ã®ãã‚‰ã„ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã®ã‹ï¼Ÿã€ã‚„ã€Œè²»ç”¨å¯¾åŠ¹æœã¯ã©ã®ç¨‹åº¦ãªã®ã‹ï¼Ÿã€ç­‰ã€Viabilityã¸ã®å½±éŸ¿ã«çµ¡ã‚“ã å´é¢ã®æ–¹ãŒå¼·ã„ã¨æ„Ÿã˜ã¾ã™ã€‚</p><p>ä¾‹ãˆã°ã€ã€Œã‚¬ã‚½ãƒªãƒ³ã‚¹ã‚¿ãƒ³ãƒ‰ã§ã®æ±ºæ¸ˆãŒæ‰‹é–“ã€ã¨ã„ã†ãƒšã‚¤ãƒ³ãƒã‚¤ãƒ³ãƒˆã«å¯¾ã—ã¦ã€ã€Œç”Ÿä½“èªè¨¼ã‚’ç”¨ã„ãŸæ±ºæ¸ˆæ–¹æ³•ã€ã¨ã„ã†ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ææ¡ˆã—ãŸå ´åˆã€ã€Œå®Ÿç¾å¯èƒ½ã‹ï¼Ÿã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ã€ãã‚Œã¯ã‚‚ã¡ã‚ã‚“æŠ€è¡“çš„ã«ã¯å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p><p>ã—ã‹ã—ã€ãã‚Œã‚ˆã‚Šã‚‚ã€Œç”Ÿä½“èªè¨¼ã‚’å°å…¥ã™ã‚‹ãŸã‚ã®ã‚³ã‚¹ãƒˆã¯ã©ã‚Œãã‚‰ã„ã‹ï¼Ÿã€ã€ã€Œã‚¹ã‚¿ãƒ³ãƒ‰ã®æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã€ãƒ¦ãƒ¼ã‚¶ã®æ—¢å­˜ã‚¢ãƒ—ãƒªã‚’æ´»ç”¨ã—ãŸå ´åˆãƒªãƒªãƒ¼ã‚¹ã‚’æ—©ã‚ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‹ï¼Ÿã€ç­‰ã®å•ã‚’èµ·ç‚¹ã«æ¤œè¨¼ã—ãŸæ–¹ãŒã€ã€Œç”Ÿä½“èªè¨¼ã€ãŒã€Œæ±ºæ¸ˆã®æ‰‹é–“ã€ã«å¯¾ã—ã¦ã®æœ€é©ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã©ã†ã‹ã€è¦‹æ¥µã‚ã‚„ã™ã„ã§ã—ã‚‡ã†ã€‚</p><h2 id="Viabilityã¨Feasibilityã®å£"><a href="#Viabilityã¨Feasibilityã®å£" class="headerlink" title="Viabilityã¨Feasibilityã®å£"></a>Viabilityã¨Feasibilityã®å£</h2><img src="/images/20220727a/ã‚¹ãƒ©ã‚¤ãƒ‰5.PNG" alt="" width="1200" height="675" loading="lazy"><p>å‰æ®µã§ç”³ã—ä¸Šã’ãŸé€šã‚Šã€ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆã®å‰åŠã¯UXãƒ‡ã‚¶ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ç­‰ã‚’é€šã—ã¦ã€Œ<a href="#1-desirability%E6%9C%89%E7%94%A8%E6%80%A7">Desirability</a>ã€ï¼ˆæœ‰ç”¨æ€§ï¼‰ã‚’æ‹…ä¿ã§ãã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚ãŸã ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¾ŒåŠã«é€²ã‚€ã«ã‚ãŸã‚Šã€ã€Œ<a href="#2-viability%E6%8C%81%E7%B6%9A%E5%8F%AF%E8%83%BD%E6%80%A7">Viability</a>ã€ï¼ˆæŒç¶šå¯èƒ½æ€§ï¼‰ã¨ã€Œ<a href="#3-feasibility%E5%AE%9F%E7%8F%BE%E5%8F%AF%E8%83%BD%E6%80%A7">Feasibility</a>ã€ï¼ˆå®Ÿç¾å¯èƒ½æ€§ï¼‰ã®ç¢ºä¿ã«è‹¦ã—ã¾ã‚Œã‚‹ãƒãƒ¼ãƒ ãƒ»ä¼æ¥­ã¯å°‘ãªããªã„ã®ã§ã¯ã€‚</p><p>ãã‚Œã‚‚ãã®ã¯ãšã§ã€ã€Œ<a href="#1-desirability%E6%9C%89%E7%94%A8%E6%80%A7">Desirability</a>ã€ã®æ¤œè¨¼ã¯ãã®ä¼æ¥­ãŒæ—¢å­˜ã§æŒã£ã¦ã„ã‚‹æ¥­ç•Œã®çŸ¥è¦‹ã‚„ãƒ¦ãƒ¼ã‚¶åŸºç›¤ãŒã‚ã‚Œã°ã€ã‚ã‚‹ç¨‹åº¦æ¨é€²ã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã€Œ<a href="#3-feasibility%E5%AE%9F%E7%8F%BE%E5%8F%AF%E8%83%BD%E6%80%A7">Feasibility</a>ã€ã‚’ç­–å®šãƒ»æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ãƒã‚¦ãƒã‚¦ã‚„ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®äººæãƒ»æŠ€è¡“åŠ›ã¯èª°ã‚‚ãŒæŒã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã—ã¦ã€ã€Œ<a href="#3-feasibility%E5%AE%9F%E7%8F%BE%E5%8F%AF%E8%83%BD%E6%80%A7">Feasibility</a>ã€ã‚’ç¢ºèªã§ããªã‘ã‚Œã°ã‚‚ã¡ã‚ã‚“ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã®å®Ÿç¾æ€§ãƒ»èª¬å¾—æ€§ã¯ä¸‹ãŒã‚Šã€ã€Œ<a href="#2-viability%E6%8C%81%E7%B6%9A%E5%8F%AF%E8%83%BD%E6%80%A7">Viability</a>ã€ã®æ¤œè¨¼ã¨ç¢ºä¿ã‚‚å›°é›£ã«ãªã‚Šã¾ã™ã€‚</p><p>å®Ÿéš›ã«ã€ç­†è€…ãŒéå»ä¸€å¹´é–“ã§æºã‚ã£ãŸãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†…ã€å‡¡ãåŠæ•°ãŒã€ŒDesirabilityã¯è‡ªç¤¾ã§ç¢ºä¿ã—ãŸãŒã€å…ˆã«é€²ã‚ã‚‰ã‚Œãªã„ã€çŠ¶æ…‹ã§ãŠå®¢ã•ã¾ã‹ã‚‰ã”ç›¸è«‡ã‚’å—ã‘ã¾ã—ãŸã€‚</p><h2 id="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®å¼·ã¿"><a href="#ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®å¼·ã¿" class="headerlink" title="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®å¼·ã¿"></a>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®å¼·ã¿</h2><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã§ã¯ã€Œä¸€æ°—é€šè²«ã€ã¨ã„ã†è¨€è‘‰ãŒææ¡ˆã®å ´ã ã‘ã§ã¯ãªãã€ç¤¾å†…ã®ä¼šè©±ã§ã‚‚è‰¯ãé£›ã³äº¤ã„ã¾ã™ã€‚<br>ç­†è€…è‡ªèº«ã€ã‚ã¾ã‚Šã“ã®è¨€è‘‰ã‚’å®‰æ˜“ã«ä½¿ã‚ãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ãŒã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®æ®µéšã§ãƒ“ã‚¸ãƒã‚¹ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸¡è»¸ã§ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã§ãã‚‹ã“ã¨ã“ãã€ã‚°ãƒ©ãƒ³ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ»é–‹ç™ºãƒ»é‹ç”¨ä¿å®ˆã¾ã§ã§ãã‚‹ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®æœ€å¤§ã®å¼·ã¿ã ã¨è¨€ãˆã¾ã™ã€‚</p><h3 id="æŠ€è¡“ã®ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã«ã‚ˆã‚‹å®Ÿç¾æ€§ã®é«˜ã„ãƒ“ã‚¸ãƒã‚¹è¨­è¨ˆ"><a href="#æŠ€è¡“ã®ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã«ã‚ˆã‚‹å®Ÿç¾æ€§ã®é«˜ã„ãƒ“ã‚¸ãƒã‚¹è¨­è¨ˆ" class="headerlink" title="æŠ€è¡“ã®ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã«ã‚ˆã‚‹å®Ÿç¾æ€§ã®é«˜ã„ãƒ“ã‚¸ãƒã‚¹è¨­è¨ˆ"></a>æŠ€è¡“ã®ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã«ã‚ˆã‚‹å®Ÿç¾æ€§ã®é«˜ã„ãƒ“ã‚¸ãƒã‚¹è¨­è¨ˆ</h3><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã¯ã€ãƒ¦ãƒ¼ã‚¶ãŒè§¦ã‚Œã‚‹è¡¨é¢çš„ãªéƒ¨åˆ†ã ã‘ã§ã¯ãªãã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ ¹å¹¹ã§ã‚ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¾ã§ç­–å®šã—ãªãŒã‚‰é€²ã‚ã‚‹ãŸã‚ã€UXãƒ‡ã‚¶ã‚¤ãƒ³ã®å„éç¨‹ã§å®Ÿç¾æ€§ã«æ„è­˜ã‚’é…ã‚ŠãªãŒã‚‰å‰µå‡ºã—ãŸã‚¢ã‚¤ãƒ‡ã‚¢ã®å…·ç¾åŒ–ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¯æŠ€è¡“çš„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã«å¯¾ã™ã‚‹ãƒ•ãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒè»½ãã€å¿…è¦ã«å¿œã˜ã¦æŠ€è¡“æ¤œè¨¼ã‚’é€šã—ã¦å®Ÿç¾å¯èƒ½æ€§ã‚’é«˜ã‚ã‚‰ã‚Œã¾ã™ã€‚</p><p>ã“ã®æŠ€è¡“ã®ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã«ã‚ˆã‚Šã€å®Ÿç¾æ€§ã®æ‹…ä¿ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆãŒå¯èƒ½ã«ãªã‚Šã€ãƒªã‚¹ã‚¯ã‚’ãƒŸãƒ‹ãƒãƒ ã«æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã®ãŒä¸€ã¤å¤§ããªãƒã‚¤ãƒ³ãƒˆã ã¨è€ƒãˆã¾ã™ã€‚</p><h3 id="ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã¾ã§ã«æŒã£ã¦ã„ã‘ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿ"><a href="#ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã¾ã§ã«æŒã£ã¦ã„ã‘ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿ" class="headerlink" title="ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã¾ã§ã«æŒã£ã¦ã„ã‘ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿ"></a>ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã¾ã§ã«æŒã£ã¦ã„ã‘ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿ</h3><p>ç­†è€…ãŒå‚åŠ ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ®†ã©ã¯ã€å˜ã«ãƒ“ã‚¸ãƒã‚¹ã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’æ§‹æƒ³ã™ã‚‹ã ã‘ã§ã¯ãªãã€å®Ÿéš›ã«åŒæ™‚ä¸¦è¡Œã—ã¦ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆéæ©Ÿèƒ½ãƒ»æ©Ÿèƒ½ï¼‰ã‚‚è€ƒãˆã¦é€²ã‚ã¾ã™ã€‚</p><p>æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ï¼ˆåŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ã‚„å‘¨è¾ºã‚·ã‚¹ãƒ†ãƒ ï¼‰ã®æŠŠæ¡ã¨æ´»ç”¨ã‚‚è€ƒæ…®ã—ã€å…¨ä½“æœ€é©ã®è¦³ç‚¹ã§ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã‚’æ¨é€²ã™ã‚‹ãŸã‚ã€ãƒ“ã‚¸ãƒã‚¹æ¤œè¨ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã¸ã¨ç§»ã‚‹ã‚³ã‚¹ãƒˆã¨æ™‚é–“ã‚’æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><h3 id="ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã¦çµ‚ã‚ã‚Šã§ã¯ãªãã€ä¸­é•·æœŸçš„è¦³ç‚¹ã§ã®æ”¯æ´"><a href="#ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã¦çµ‚ã‚ã‚Šã§ã¯ãªãã€ä¸­é•·æœŸçš„è¦³ç‚¹ã§ã®æ”¯æ´" class="headerlink" title="ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã¦çµ‚ã‚ã‚Šã§ã¯ãªãã€ä¸­é•·æœŸçš„è¦³ç‚¹ã§ã®æ”¯æ´"></a>ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã¦çµ‚ã‚ã‚Šã§ã¯ãªãã€ä¸­é•·æœŸçš„è¦³ç‚¹ã§ã®æ”¯æ´</h3><p>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã‹ã‚‰ãŠå®¢ã•ã¾ã¨åŒã˜èˆ¹ã«ä¹—ã‚Šã€ä¿å®ˆé‹ç”¨ã‚’è¦‹æ®ãˆãŸã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆãŒã§ãã‚‹ã®ã‚‚ã€ä¸€æ°—é€šè²«ã ã‹ã‚‰ã“ãã§ãã‚‹ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®å¼·ã¿ã®ä¸€ã¤ã ã¨æ€ã„ã¾ã™ã€‚</p><p>ã‚µãƒ¼ãƒ“ã‚¹ç­–å®šã®æ™‚ç‚¹ã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹å¾Œã«å¿…è¦ãªè¦³ç‚¹ã®è€ƒæ…®ã¨æ´—ã„å‡ºã—ã‚’å®Ÿæ–½ã—ã€ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹å¾Œã‚‚å¿…è¦ã«å¿œã˜ã¦ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ã‚·ã‚¹ãƒ†ãƒ ã®ç¶­æŒãƒ»æ‹¡å¤§ã‚’æ”¯æ´ã—ã¦ã„ãã¾ã™ã€‚</p><h2 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h2><p>ç­†è€…ãŒå®Ÿéš›ã«æºã‚ã£ãŸæ¡ˆä»¶ã®ä¸­ã§ã¯ã€è‡ªåˆ†ãŸã¡ã§ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆã—ãŸã‘ã©ãªã‹ãªã‹å…·ä½“åŒ–ã¾ã§è¡Œã‘ãªã‹ã£ãŸã‚Šã€ä»–ç¤¾ã®ã‚³ãƒ³ã‚µãƒ«ãƒ•ã‚¡ãƒ¼ãƒ ã•ã‚“ã«ã‚µãƒ¼ãƒ“ã‚¹è¨ˆç”»ã‚’ç«‹ã¦ã¦ã‚‚ã‚‰ã£ãŸãŒãªã‹ãªã‹ã€Œã‚·ã‚¹ãƒ†ãƒ åŒ–ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å±•é–‹ã«ç¹‹ã’ã‚‰ã‚Œãªã„ã€ã€ã€Œç¤¾å†…ã®ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã¨åˆæ„ãŒå–ã‚Œãªã„ã€ç­‰ã®ç†ç”±ã§ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã«ç›¸è«‡ã„ãŸã ã„ã¦å§‹ã¾ã£ãŸæ¡ˆä»¶ãŒæ•°å¤šãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã“ãã€å‰æ®µã§ç”³ã—ä¸Šã’ãŸã€ŒViabilityã¨Feasibilityã®å£ã€ã‚’ä¹—ã‚Šè¶Šãˆã‚‹é›£ã—ã•ã®è¨¼ã ã¨è€ƒãˆã¾ã™ã€‚</p><p>ãã†ã„ã£ãŸçµŒé¨“ã‹ã‚‰ã‚‚ã€ã€ŒæŠ€è¡“çš„ãªçŸ¥è¦‹ã‚’æ´»ã‹ã—ãªãŒã‚‰åœ°ã«è¶³ã®ç€ã„ãŸã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆãŒã§ãã€ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã«ç§»ã£ã¦ã„ã‘ã‚‹ã€ã€ã“ã‚ŒãŒ0ã‹ã‚‰1ã‚’æ§‹æƒ³ã—ã€1ã‹ã‚‰10ã«ä»•çµ„ã¿ã‚’ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ãŒå®Ÿæ–½ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã®å¼·ã¿ã ã¨è¨€ãˆã¾ã™ã€‚</p><p>æœ€å¾Œã«ãªã‚Šã¾ã™ãŒã€å½“ç¤¾ãŒé‹å–¶ã™ã‚‹ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã§ã‚‚ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã«ã¤ã„ã¦ãƒˆãƒ¼ã‚¯ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><p>å…·ä½“çš„ãªãƒ—ãƒ­ã‚»ã‚¹ã‚„äº‹ä¾‹ã«ã¤ã„ã¦ã‚‚ã–ã£ãã°ã‚‰ã‚“ã«è©±ã—ã¦ã„ã‚‹ã®ã§èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯æ˜¯éï¼</p><p>Future Tech Cast<br>#26 ã€DXã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‘ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã£ã¦ä½•?</p><ul><li><a href="https://open.spotify.com/episode/3jSrMzDmviOanNXWdJUTZl?si=FrxB4p5NTZiUsApn80ZnkA">å‰ç·¨ï¼ˆSpotifyï¼‰</a></li><li><a href="https://open.spotify.com/episode/3nNafUcBkKLR9UAHVeHAdB?si=94PzEa9vQpmfobGtMQLntQ">å¾Œç·¨ï¼ˆSpotifyï¼‰</a></li></ul><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;"><a href="https://www.ideou.com/pages/design-thinking">https://www.ideou.com/pages/design-thinking</a></span><a href="#fnref:1" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h2&gt;&lt;p&gt;TIG</summary>
        
      
    
    
    
    <category term="Business" scheme="https://future-architect.github.io/categories/Business/"/>
    
    
    <category term="ãƒ“ã‚¸ãƒã‚¹" scheme="https://future-architect.github.io/tags/%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9/"/>
    
    <category term="UX" scheme="https://future-architect.github.io/tags/UX/"/>
    
    <category term="ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯" scheme="https://future-architect.github.io/tags/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%AF%E3%83%BC%E3%82%AF/"/>
    
    <category term="ãƒ‡ã‚¶ã‚¤ãƒ³æ€è€ƒ" scheme="https://future-architect.github.io/tags/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E6%80%9D%E8%80%83/"/>
    
  </entry>
  
  <entry>
    <title>Plus Codeã«ã¤ã„ã¦èª¿ã¹ãŸ</title>
    <link href="https://future-architect.github.io/articles/20220726a/"/>
    <id>https://future-architect.github.io/articles/20220726a/</id>
    <published>2022-07-25T15:00:00.000Z</published>
    <updated>2022-07-26T05:28:56.239Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p><a href="/articles/20220719a/">åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šãƒ†ãƒ¼ãƒã®é€£è¼‰</a>ã®æœ€å¾Œã¨ãªã‚‹6æœ¬ç›®ã§ã™ã€‚</p><p>TIGçœŸé‡ã§ã™ã€‚ç·¯åº¦ãƒ»çµŒåº¦ã‚’ã‚³ãƒ¼ãƒ‰åŒ–ã™ã‚‹æŠ€è¡“ã«èˆˆå‘³ãŒã‚ã£ãŸã®ã§Open Location Codeï¼ˆPlus Codeï¼‰ã«ã¤ã„ã¦èª¿ã¹ã¾ã—ãŸã€‚<a href="/articles/20220721a/">æ¾å·ã•ã‚“ã®Redisè¨˜äº‹</a>ã«ã‚‚ã‚ã£ãŸGeoHashã®ã‚ˆã†ã«ã€ä½ç½®ã‚’ç‰¹å®šã™ã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰åŒ–ã¯ãªãœã‹ãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¾ã™ã€‚</p><h2 id="Open-Location-Codeï¼ˆPlus-Codesï¼‰ã¨ã¯"><a href="#Open-Location-Codeï¼ˆPlus-Codesï¼‰ã¨ã¯" class="headerlink" title="Open Location Codeï¼ˆPlus Codesï¼‰ã¨ã¯"></a>Open Location Codeï¼ˆPlus Codesï¼‰ã¨ã¯</h2><p>Google Mapã®ãƒ˜ãƒ«ãƒ—ãŒç°¡æ˜“çš„ã§ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸãŸã‚å¼•ç”¨ã—ã¾ã™ã€‚</p><blockquote><p>plus code ã¯ã€ç•ªåœ°ã¨åŒã˜ã‚ˆã†ã«ä½¿ãˆã‚‹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ä½æ‰€ä»£ã‚ã‚Šã®ç°¡ç•¥ãªã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã§ãã‚‹ã»ã‹ã€é€šå¸¸ã®ä½æ‰€ã ã‘ã§ã¯çµã‚Šè¾¼ã‚ãªã„å…·ä½“çš„ãªåœ°ç‚¹ã®æŒ‡å®šã«ã‚‚å½¹ç«‹ã¡ã¾ã™ã€‚<br>ãŸã¨ãˆã°åŒã˜å»ºç‰©ã«å…¥å£ãŒè¤‡æ•°ã‚ã‚‹å ´åˆã«ã€plus code ã‚’ä½¿ãˆã°å…¥å£ã‚‚å«ã‚ã¦æŒ‡å®šã§ãã¾ã™ã€‚<br>plus code ã¯ç·¯åº¦ã¨çµŒåº¦ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚°ãƒªãƒƒãƒ‰æ–¹å¼ã®ã‚³ãƒ¼ãƒ‰ã§ã€20 ç¨®é¡ã®è‹±æ•°å­—ï¼ˆæ··åŒã—ã‚„ã™ã„ã€Œ1ã€ã¨ã€ŒIã€ãªã©ã‚’ã‚ã‚‰ã‹ã˜ã‚é™¤å¤–ã—ãŸã‚‚ã®ï¼‰ã®çµ„ã¿åˆã‚ã›ã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚</p></blockquote><p>Google Mapã‚’é–‹ãã¨å‡ºã¦ãã‚‹ã€<code>JPCG+XX å“å·åŒºã€æ±äº¬éƒ½</code> ã‚³ãƒ¼ãƒ‰ã®ã“ã¨ã§ã™ï¼ˆå›³ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®æœ¬ç¤¾ãŒã‚ã‚‹å¤§å´ã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸ã‚¿ãƒ¯ãƒ¼ï¼‰ã®ä½ç½®æƒ…å ±ã§ã™ã€‚Google Mapä¸Šã§è¡¨ç¤ºãƒ»åŠã³æ¤œç´¢ã§ä½¿ãˆã‚‹ã®ã¯ä¾¿åˆ©ã§ã™ã€‚</p><img src="/images/20220726a/image.png" alt="image.png" width="1200" height="761" loading="lazy"><p>Open Location Codeã¯<a href="https://github.com/google/open-location-code">google&#x2F;open-location-code</a>ã§å®Ÿè£…ã‚‚<a href="https://github.com/google/open-location-code/blob/main/docs/specification.md">ä»•æ§˜</a>ã‚‚Apache License 2.0ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚å¤‰æ›ã¯ã“ã‚Œã‚‰ã®å®Ÿè£…ã‚’ç”¨ã„ã‚Œã°ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§å¯èƒ½ã§ã™ã€‚</p><p>2015å¹´ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚</p><ul><li><a href="https://internet.watch.impress.co.jp/docs/column/chizu/720142.html">ã€åœ°å›³ã‚¦ã‚©ãƒƒãƒã€‘ Googleã€åœ°çƒä¸Šã®å ´æ‰€ã‚’ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆã§ç¤ºã™ã‚³ãƒ¼ãƒ‰ã€ŒOLCã€ã‚’ç”Ÿæˆã§ãã‚‹ã‚µã‚¤ãƒˆã€Œplus+codesã€å…¬é–‹ - INTERNET Watch</a></li><li><a href="https://japan.cnet.com/article/35068908/">ã‚°ãƒ¼ã‚°ãƒ«ã€åœ°çƒä¸Šã®ã‚ã‚‰ã‚†ã‚‹åœ°ç‚¹ã‚’ã‚³ãƒ¼ãƒ‰åŒ–ã™ã‚‹ã€Œplus+codesã€ãƒªãƒªãƒ¼ã‚¹ - CNET Japan</a></li></ul><p>å…¬å¼ãƒšãƒ¼ã‚¸ã¯<a href="https://maps.google.com/pluscodes/">Plus Codes</a> ã§ã™ã€‚Plus Codeã‚’ç”Ÿæˆã™ã‚‹ä»•çµ„ã¿ãŒOpen Location Codeï¼ˆOLCï¼‰ã§ã€ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ãªä»•çµ„ã¿ã®ãŸã‚ã“ã®åå‰ã«ãªã£ãŸãã†ã§ã™ã€‚ãã‚‚ãã‚‚ã€ãªã‚“ã§Plus Codeã‹ã¨ã„ã†ã¨ã€ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã«ãƒ—ãƒ©ã‚¹è¨˜å·ãŒå«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã ãã†ã§ã™ï¼ˆãªã‚‹ã»ã©ï¼ï¼‰ã€‚</p><h2 id="ãªãœç”Ÿã¾ã‚ŒãŸã‹"><a href="#ãªãœç”Ÿã¾ã‚ŒãŸã‹" class="headerlink" title="ãªãœç”Ÿã¾ã‚ŒãŸã‹"></a>ãªãœç”Ÿã¾ã‚ŒãŸã‹</h2><p><a href="https://maps.google.com/pluscodes/learn/">å…¬å¼ã®Learnã‚¿ãƒ–</a>ã«ã©ã†ã„ã†ç”¨é€”ã§ä½¿ã‚ã‚Œã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã‹ãŒçŸ­ãã¾ã¨ã‚ã¦ãã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li>å€‹äººç”¨é€”: é€šã‚Šã®åå‰ã‚„é€šã‚ŠãŒãªã„å ´åˆã§ã‚‚ã€è‡ªå®…ã€åº—èˆ—ã€å¾…ã¡åˆã‚ã›å ´æ‰€ãªã©ã€ã‚ã‚‰ã‚†ã‚‹å ´æ‰€ã‚’å…±æœ‰ã§ãã‚‹</li><li>ä¼æ¥­: é¡§å®¢ãŒåº—èˆ—ã‚’æ¢ã—ã‚„ã™ãã€ã¾ãŸå•†å“ã‚’é…é”ã™ã‚‹å ´åˆã«é€šã‚Šã®åå‰ã‚„ç•ªå·ãŒãªãã¦ã‚‚å ´æ‰€ã‚’å¾—çš„ã§ãã‚‹<ul><li>æ­£ç¢ºãªé›†è·ãƒ»é™è»Šå ´æ‰€ã‚’å–å¾—ã™ã‚‹</li></ul></li><li>æ•‘æ€¥: æ•‘åŠ©æ´»å‹•ã‚’è¿…é€ŸåŒ–ã™ã‚‹</li><li>æ”¿åºœ: ã©ã“ã«ã™ã‚“ã§ã„ã¦ã‚‚ã€éƒµä¾¿ãƒ»ç¤¾ä¼šæ‰¶åŠ©ãƒ»æŠ•ç¥¨ãªã©ã®å¸‚æ°‘ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã§ãã‚‹ã‚ˆã†ã«</li><li>NGO: äººé“çš„ãƒ»ç½å®³æ•‘æ´ã‚’æä¾›ã—ã€åœ°å›³ãƒ‡ãƒ¼ã‚¿ãŒä¸å®Œå…¨ãªåœ°åŸŸã‚’æ”¯æ´ã™ã‚‹ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã®è¨˜éŒ²ç®¡ç†ã¨è¿½è·¡ã‚’æ”¹å–„ã™ã‚‹</li></ul><p>èª­ã‚ã°åˆ†ã‹ã‚‹é€šã‚Šã€ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°é€šã‚Šã«åå‰ãŒãªã„ã¨ã‹ç½å®³æ™‚ã«ã‚‚æ´»ç”¨ã§ãã‚‹ã‚ˆã†ãªæ„å›³ãŒæ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚</p><p>æ°—ã«ãªã£ãŸã®ã§ã€<a href="https://github.com/google/open-location-code/wiki/Evaluation-of-Location-Encoding-Systems">Evaluation-of-Location-Encoding-Systems</a>ã‚’èª­ã‚“ã§ã¿ã‚‹ã¨ã¾ã•ã«ãã®ã‚ˆã†ãªæ„å›³ãŒæœ€åˆã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚</p><ul><li>ä¸–ç•Œã®å¤šãã®åœ°åŸŸãƒ»ä¸–ç•Œéƒ½å¸‚äººå£ã®åŠåˆ†ä»¥ä¸ŠãŒä½æ‰€ãŒç„¡ã„ï¼ˆå‡ºå…¸ãŒ2005å¹´ä¸–ç•ŒéŠ€è¡Œã®<a href="https://www.citiesalliance.org/sites/default/files/CA_Images/Street_Addressing_Manual.pdf">Street Addressing and the Management of Cities</a>ã ã£ãŸã®ã§æ”¹å–„ã—ã¦ã„ã‚‹ã¨æ€ã„ãŸã„ã§ã™ãŒ..ï¼‰<ul><li>éƒ½å¸‚éƒ¨ã§ã‚‚å¤šãã®é“è·¯ã«åå‰ãŒç„¡ã„ãŸã‚ã€ãã‚Œã‚‰ã®é“è·¯æ²¿ã„ã®å ´æ‰€ã«ã¯ä½æ‰€ãŒç„¡ã„ï¼ˆï¼ï¼‰<ul><li>ä½æ‰€ã«Street AddressãŒå‡ºã¦ãã‚‹ã€æ–‡åŒ–ã®é•ã„ã‚’æ„Ÿã˜ã‚‹èª¬æ˜ã ãªã¨æ„Ÿã˜ã¾ã™ã­</li></ul></li></ul></li><li>ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ä¾¡æ ¼ã®ä¸‹è½ã¨æ™®åŠã«ã‚ˆã‚Šã€GPSã‚’è½ã¡ã„ã¦ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹</li><li>è¦æ±‚äº‹é …ï¼ˆæŠœç²‹ï¼‰<ul><li>ã‚³ãƒ¼ãƒ‰ã¯çŸ­ãè¦šãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«</li><li>ã‚³ãƒ¼ãƒ‰ã«ã¯ãªã‚‹ã¹ãã©ã®è¨€èªã®å˜èªã‚‚å«ã‚ãªã„</li><li>2ã¤ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã€è¿‘ã„ã‹é ã„ã‹ã€æ–¹å‘ã‚‚åˆ¤æ–­ã—ãŸã„</li><li>ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰&#x2F;ãƒ‡ã‚³ãƒ¼ãƒ‰ãŒã§ãã‚‹ï¼ˆãƒ¢ãƒã‚¤ãƒ«é€šä¿¡ãŒç™ºç”Ÿã™ã‚‹ã¨å®‰ä¾¡ã§ã¯ãªã„ï¼‰</li><li>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å…¬é–‹ã•ã‚Œè‡ªç”±ã«ä½¿ãˆã‚‹ã€‚1ã¤ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã«ä¾å­˜ã—ãªã„</li></ul></li></ul><h3 id="ç·¯åº¦ãƒ»çµŒåº¦ã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ"><a href="#ç·¯åº¦ãƒ»çµŒåº¦ã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ" class="headerlink" title="ç·¯åº¦ãƒ»çµŒåº¦ã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ"></a>ç·¯åº¦ãƒ»çµŒåº¦ã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ</h3><p>ã“ã®æ‰‹ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ãŸã¾ã«æ€ã†ã€ï¼ˆGeoHashã®ã‚ˆã†ã«æ–‡å­—åˆ—ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§æ¤œç´¢ã™ã‚‹ã®ã§ã¯ãªã„ãªã‚‰ï¼‰ç·¯åº¦ãƒ»çµŒåº¦ã‚’ç”Ÿã§å…±æœ‰ã™ã‚Œã°ã‚ˆã„ã˜ã‚ƒãªã„ã‹ï¼Ÿã«é–¢ã—ã¦ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã—ãŸã€‚ã¾ã¨ã‚ã¾ã™ã€‚</p><ul><li>ç·¯åº¦ãƒ»çµŒåº¦ã¯é †åºãŒé‡è¦ã§é€†ã«ã™ã‚‹ã¨ç•°ãªã‚‹å ´æ‰€ã‚’ç¤ºã™</li><li>ç´„10mç²¾åº¦ã§è¡¨ç¾ã™ã‚‹ã¨ã€15ã€œ20æ–‡å­—ã®ãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—ï¼ˆã€Œ0.39122,9.45225ã€ã€œã€Œ-43.95134ã€-176.55053ã€ï¼‰ãŒå¿…è¦ã€‚ä¸€èˆ¬çš„ãªé›»è©±ç•ªå·ã®ç´„2å€ã®é•·ã•</li><li>ç·¯åº¦ãƒ»çµŒåº¦ã¯ãƒã‚¤ãƒ³ãƒˆï¼ˆç‚¹ï¼‰ã‚’ç¤ºã™ã®ã§ã€å…¬åœ’ã¨ã„ã£ãŸé ˜åŸŸã‚’ç¤ºã™ã®ã«ã¯ä¸é©ã€‚ã€€ç·¯åº¦ãƒ»çµŒåº¦ã®ç²¾åº¦ã‚’åˆ‡ã‚Šæ¨ã¦â‰’å ´æ‰€ã®ç§»å‹• ã§ã‚ã‚‹</li></ul><p>æ¥µè«–ã€è‡ªåˆ†ã®ä½æ‰€ã‚’ç”ºåãƒ»ç•ªåœ°ã¨ã‹ã˜ã‚ƒãªãã¦ç·¯åº¦çµŒåº¦ã§è¦šãˆã¦ã„ã‚‹ã®ï¼Ÿã£ã¦è¨€ã‚ã‚ŒãŸæ°—æŒã¡ã«ãªã‚Šã¾ã—ãŸã€‚ç¢ºã‹ã«è¦šãˆã‚‰ã‚Œãªã„ã§ã™ã—æ‰±ã„ã«ãã„ã§ã™ã­ã€‚</p><h3 id="GeoHashã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ"><a href="#GeoHashã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ" class="headerlink" title="GeoHashã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ"></a>GeoHashã˜ã‚ƒãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ</h3><p>åŒæ§˜ã«GeoHashã¨ã®ç›¸é•ç‚¹ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ã„ã¾ã—ãŸã€‚</p><ul><li>GeoHashã¯A, I, L, Oã‚’é™¤ã0-9A-Zã®32æ–‡å­—ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®O,Iã«ä¼¼ãŸæ•°å€¤ã®0,1ã‚’åˆ©ç”¨ã§ãã¦ã—ã¾ã†</li><li>å˜èªï¼ˆä¾‹ã¨ã—ã¦â€DRUGGEDâ€ï¼‰ã¨ã‹ã€ã»ã¼å˜èªã«è¦‹ãˆã‚‹ï¼ˆâ€ZUR1CHâ€ï¼‰ãªã©ãŒç”Ÿæˆã•ã‚Œã¦ã—ã¾ã†<ul><li>ï¼ˆç­†è€…è£œè¶³ï¼‰ã‚·ã‚¹ãƒ†ãƒ çš„ã«å†…éƒ¨ã§æ¤œç´¢ã‚­ãƒ¼ã¨ã—ã¦æŒã¤ã®ã§ã‚ã‚Œã°ã“ã®ç‰¹æ€§ã¯å…¨ãå•é¡Œãªã„ã§ã™ãŒã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½æ‰€ã¨ã—ã¦åˆ©ç”¨å¯èƒ½ã¨ã™ã‚‹ï¼ˆéœ²å‡ºã•ã›ã‚‹ï¼‰å‰æã§ã¯å•é¡Œã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™</li></ul></li><li>çµŒåº¦180ã€çµŒåº¦0ã€èµ¤é“ã€ãŠã‚ˆã³åŒ—æ¥µã¨å—æ¥µã§5ã¤ã®ä¸é€£ç¶šæ€§ï¼ˆè¿‘ãã®å ´æ‰€ã«ç•°ãªã‚‹ã‚¸ã‚ªãƒãƒƒã‚·ãƒ¥ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹å ´æ‰€ï¼‰ãŒå‡ºã¦ãã‚‹ã€‚èµ¤é“ã¨çµŒåº¦0ã¯äººå£å¯†é›†åœ°å¸¯ãŒã‚ã‚Šè¨±å®¹ã§ããªã„</li><li>ãŸã¨ãˆã°ã€ã€Œc216ne4ã€ã¨ã€Œc216newã€ï¼ˆãŠã‚ˆã³ãã®ä»–ï¼‰ã¯åŒã˜åº§æ¨™ï¼ˆ45.37 -121.7ï¼‰ã«ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã¨ã„ã£ãŸã“ã¨ãŒã§ãã‚‹</li></ul><p>ä»–ã«ã‚‚è¦æ±‚äº‹é …ã«æ²¿ã£ãŸæ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ãƒ»è¦æ ¼ãŒãªã‹ã£ãŸãŸã‚ç”Ÿã¾ã‚ŒãŸã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚</p><h2 id="ã‚³ãƒ¼ãƒ‰ä½“ç³»"><a href="#ã‚³ãƒ¼ãƒ‰ä½“ç³»" class="headerlink" title="ã‚³ãƒ¼ãƒ‰ä½“ç³»"></a>ã‚³ãƒ¼ãƒ‰ä½“ç³»</h2><p>ã•ãã»ã©è¦‹ã›ãŸPlus Codeã¯ <code>JPCG+XX å“å·åŒºã€æ±äº¬éƒ½</code> ã§ã—ãŸãŒã€ã“ã‚ŒãŒã©ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ«ã§æ§‹æˆã•ã‚Œã‚‹ã‹è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p><ul><li>åˆ©ç”¨å¯èƒ½ãªæ–‡å­—ã¯20<ul><li>ã™ã§ã«å…±æœ‰æ¸ˆã¿ã§ã™ãŒæ•°å­—0,1,2,5ã¨ä¼¼ã¦ã„ã‚‹ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆO,I,Z,Sã¯åˆ©ç”¨ã—ãªã„ã€‚å˜èªã®åˆ©ç”¨é »åº¦ãŒé«˜ã„A, B, D, E, K, L, N, T, U, Yã‚‚åˆ©ç”¨ã—ãªã„ï¼‰</li><li>23456789CFGHJMPQRVWX</li><li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ã‚ˆãæ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€W9ã¨WCã¯éš£æ¥ã™ã‚‹ã¨ã„ã†ã€ã‚ã‹ã‚Šã«ãã•ãŒã‚ã‚Šã¾ã™</li></ul></li><li>æ¡æ•°<ul><li>æœ€å°2æ¡ï½æœ€å¤§15æ¡</li><li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ10æ¡</li><li>10æ¡æœªæº€ã§ã¯ã€å¶æ•°ã®ã¿ãŒæœ‰åŠ¹</li></ul></li><li>æ›¸å¼<ul><li>åŒºåˆ‡ã‚Šæ–‡å­—ã®ã€Œ+ã€ã¯8æ¡ã®å¾Œã«æŒ¿å…¥ã™ã‚‹</li></ul></li><li>ç²¾åº¦<ul><li>ãƒ—ãƒ©ã‚¹ã‚³ãƒ¼ãƒ‰ã®ç²¾åº¦ã¯ã€ã€Œ+ã€è¨˜å·ã®å¾Œã®æ¡æ•°ã§è¡¨ç¾ã•ã‚Œã‚‹<ul><li>ãƒ—ãƒ©ã‚¹è¨˜å·ã®å¾Œã®2æ¡: ãŠã‚ˆã13.7x13.7ãƒ¡ãƒ¼ãƒˆãƒ«ã®é ˜åŸŸ</li><li>ãƒ—ãƒ©ã‚¹è¨˜å·ã®å¾Œã®3æ¡: ç´„2.7x3.5ãƒ¡ãƒ¼ãƒˆãƒ«ã®é ˜åŸŸ</li><li>ãƒ—ãƒ©ã‚¹è¨˜å·ã®å¾Œã®4æ¡: ç´„0.5x0.8ãƒ¡ãƒ¼ãƒˆãƒ«ã®é ˜åŸŸ</li></ul></li><li>ç´°ã‹ã„ç²¾åº¦è¡¨ã¯<a href="https://github.com/google/open-location-code/blob/main/docs/specification.md#code-precision">ã“ã¡ã‚‰</a></li></ul></li></ul><p><code>JPCG+XX å“å·åŒºã€æ±äº¬éƒ½</code>ãŒã€ã€Œ+ã€ãŒæŒ¿å…¥ã•ã‚Œã‚‹ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®ãŒç•°ãªã‚‹ã¨ã‹ã€å¾Œã‚ã® <code>å“å·åŒºã€æ±äº¬éƒ½</code> ã£ã¦ä½•ã£ã¦æ€ã‚ã‚ŒãŸæ–¹ã‚‚å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ã˜ã¤ã¯Plus Codeã«ã¯ <strong>ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰</strong> ã¨å‘¼ã°ã‚Œã‚‹çœç•¥ç‰ˆãŒå­˜åœ¨ã—ã¾ã™ã€‚çœç•¥ã—ãªã„ã‚‚ã®ã¯ã‚ªãƒ¼ãƒ—ãƒ³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¨å‘¼ã°ã‚Œã¾ã™ã€‚</p><ul><li>ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰<ul><li>ç¾åœ¨ã®ä½ç½®ï¼ˆGPSãªã©ã‹ã‚‰å–å¾—ï¼‰ã‚’åŸºæº–ã«ã—ã¦ã€æœ€ã‚‚è¿‘ã„ä½ç½®ã«ã‚ã‚‹å ´æ‰€ã‚’ç‰¹å®šã™ã‚‹</li><li>ä¾‹ãˆã°ã€ <code>CG+XX</code> ã¨ã„ã†ç•¥ç§°ã‚‚å¯èƒ½ã§ã™</li><li>ç¾åœ¨ä½ç½®ã®ä»£ã‚ã‚Šã«ã€ <code>å“å·åŒºã€æ±äº¬éƒ½</code> ã¨ã„ã£ãŸéƒ½å¸‚åã‚’å…¥ã‚Œã‚‹ã“ã¨ã‚‚ã§ãã¾ã™</li><li>ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™</li></ul></li><li>ã‚ªãƒ¼ãƒ—ãƒ³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰<ul><li>å…ˆç¨‹ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ãªãƒ—ãƒ©ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã€ã‚ªãƒ¼ãƒ—ãƒ³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹ã¨<a href="https://plus.codes/8Q7XJPCG+XX">8Q7XJPCG+XX</a>ã§ã™</li><li>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™</li><li>ãŸã‚ã—ã«ã€ <code>JPCG+XX ã‚®ãƒªã‚·ãƒ£</code> ãªã©ã¨ã™ã‚‹ã¨ã€å±±ã®ä¸­ï¼ŸãŒç‰¹å®šã•ã‚Œã¾ã™</li></ul></li></ul><img src="/images/20220726a/image_2.png" alt="image.png" width="1200" height="751" loading="lazy"><h2 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h2><p>ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ–ãƒªãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã¾ãšplus.codes ã®Web APIã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚<br><a href="https://github.com/google/open-location-code/wiki/Plus-codes-API">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‹ã‚‰ã€Google APIã‚­ãƒ¼ãªã—ã ã¨ä»¥ä¸‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://plus.codes/api?address=35.62253406128506,139.72745939860533&amp;email=YOUR_EMAIL_HERE</span><br><span class="line">https://plus.codes/api?address=8Q7XJPCG%2BXX&amp;email=YOUR_EMAIL_HERE</span><br></pre></td></tr></table></figure><p>ã©ã¡ã‚‰ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ãªJSONã‚’å–å¾—ã§ãã¾ã™ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;plus_code&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;global_code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8Q7XJPFG+2X&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;geometry&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;bounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;northeast&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;lat&quot;</span><span class="punctuation">:</span> <span class="number">35.622624999999985</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;lng&quot;</span><span class="punctuation">:</span> <span class="number">139.72749999999996</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;southwest&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;lat&quot;</span><span class="punctuation">:</span> <span class="number">35.62249999999999</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;lng&quot;</span><span class="punctuation">:</span> <span class="number">139.72737499999994</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;location&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;lat&quot;</span><span class="punctuation">:</span> <span class="number">35.62256249999999</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lng&quot;</span><span class="punctuation">:</span> <span class="number">139.72743749999995</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;locality&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OK&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>boundsã®northeast, southwestã¯æ›¸ã„ã¦ã„ã‚‹ãƒãƒã§ã™ãŒã€åŒ—æ±ã¨å—è¥¿ã®åº§æ¨™ã§ã™ã€‚locationã¯ãã®ä¸­å¿ƒã‚’æä¾›åº§æ¨™ã§ã™ã€‚Google APIã‚­ãƒ¼ã‚’ç”¨ã„ã‚Œã°localityã®éƒ¨åˆ†ã«è«–ç†çš„ãªä½æ‰€æƒ…å ±ã‚‚å–å¾—ã§ãã¾ã™ã—ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã§ã®å¤‰æ›ã‚‚ã§ãã‚‹ã‚ˆã†ã§ã™ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;locality&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;local_address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Shinagawa, Tokyo&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h2 id="Go-SDK"><a href="#Go-SDK" class="headerlink" title="Go SDK"></a>Go SDK</h2><p>ä¸»è¦ãªè¨€èªã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯æƒã£ã¦ã„ã¾ã™ï¼ˆPL&#x2F;SQLã¾ã§ã‚ã‚‹ï¼‰ã€‚ã›ã£ã‹ããªã®ã§Goã§éŠã‚“ã§ã¿ã¾ã™ã€‚</p><ul><li><a href="https://github.com/google/open-location-code">https://github.com/google/open-location-code</a></li><li><a href="https://pkg.go.dev/github.com/google/open-location-code/go">https://pkg.go.dev/github.com/google/open-location-code/go</a></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/google/open-location-code/go&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// ç·¯åº¦çµŒåº¦ -&gt; OLC</span></span><br><span class="line">locationCD := olc.Encode(<span class="number">35.622375</span>, <span class="number">139.727375</span>, <span class="number">10</span>) <span class="comment">//ç·¯åº¦(float64),çµŒåº¦(float64),OLCã®æ¡æ•°(int)</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;ç·¯åº¦çµŒåº¦-&gt;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰: %s\n&quot;</span>, locationCD)</span><br><span class="line"></span><br><span class="line"><span class="comment">// OLC -&gt; ç·¯åº¦çµŒåº¦</span></span><br><span class="line">area, err := olc.Decode(<span class="string">&quot;8Q7XJPCG+XX&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰-&gt;ç·¯åº¦çµŒåº¦: %v\n&quot;</span>, area)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨ªæµœé§…ã®ç·¯åº¦çµŒåº¦ã‚’æŒ‡å®šã—ã¦ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã€€-&gt; ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®å¾©å…ƒ</span></span><br><span class="line">nearest, err := olc.RecoverNearest(<span class="string">&quot;JPCG+XX&quot;</span>, <span class="number">35.466260702365226</span>, <span class="number">139.62208345627434</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰-&gt;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰: %s\n&quot;</span>, nearest)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨ªæµœé§…ã®ç·¯åº¦çµŒåº¦ã‚’æŒ‡å®šã—ã¦ã€ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ -&gt; ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰</span></span><br><span class="line">shorten, err := olc.Shorten(<span class="string">&quot;8Q7XJPCG+XX&quot;</span>, <span class="number">35.466260702365226</span>, <span class="number">139.62208345627434</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰-&gt;ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰: %s\n&quot;</span>, shorten)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Ÿè¡Œçµæœã§ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;go run main.go</span><br><span class="line">ç·¯åº¦çµŒåº¦-&gt;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰: 8Q7XJPCG+XX</span><br><span class="line">ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰-&gt;ç·¯åº¦çµŒåº¦: &#123;35.622375 139.727375 35.6225 139.7275 10&#125;</span><br><span class="line">ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰-&gt;ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰: 8Q7XJPCG+XX</span><br><span class="line">ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰-&gt;ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰: JPCG+XX</span><br></pre></td></tr></table></figure><p>ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã®å ´åˆã¯ã€ã€Œå“å·åŒºã€æ±äº¬ã€ã®ä»£ã‚ã‚Šã«ã€ç¾åœ¨ä½ç½®ã‚’ç¤ºã—ãŸç·¯åº¦çµŒåº¦ã‚’æŒ‡å®šã™ã‚‹ã¨ã€è¿‘éš£ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¢ã—ã¦ãã‚Œã‚‹ã®ãŒä¾¿åˆ©ã ãªã¨æ€ã„ã¾ã—ãŸã€‚</p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>Plus Codeã¨ã¯ä½•ã‹ã€ã©ã†ã„ã†æ„å›³ã§ä½œã‚‰ã‚ŒãŸã‹ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚èª¿ã¹ã‚‹ã¾ã§ã¯GeoHashï¼ˆã‚„QuadKeyï¼‰ã¨ã®é•ã„ã¯ãªã‚“ã ã‚ã†ã‹ï¼Ÿã¨ç–‘å•ã§ã—ãŸãŒã€èƒŒæ™¯ã‚’æŠ‘ãˆã¦ã„ãã¨ä½¿ã„åˆ†ã‘ã‚‚åˆ†ã‹ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚Goã®SDKã‚‚ä¸­èº«ã®å®Ÿè£…ã¾ã§ã¯è»½ãã—ã‹è¦‹ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ã‚³ã‚¢éƒ¨åˆ†ã¯ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«è¦‹ãˆã¾ã™ã€‚å°‘ãªãã¦ã‚‚SDKã®APIã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ã©ã“ã¾ã§ãŒã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã€ã©ã“ã‹ã‚‰ã¯Google Map APIã®ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§è¡Œã‚ã‚Œã¦ã„ã‚‹ã‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ¹§ãã¾ã™ã€‚</p><p>æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ä½ç½®ç‰¹å®š" scheme="https://future-architect.github.io/tags/%E4%BD%8D%E7%BD%AE%E7%89%B9%E5%AE%9A/"/>
    
    <category term="åœ°å›³" scheme="https://future-architect.github.io/tags/%E5%9C%B0%E5%9B%B3/"/>
    
    <category term="GoogleMap" scheme="https://future-architect.github.io/tags/GoogleMap/"/>
    
    <category term="PlusCode" scheme="https://future-architect.github.io/tags/PlusCode/"/>
    
  </entry>
  
  <entry>
    <title>Bluetoothã§ä½ç½®æ¨å®š</title>
    <link href="https://future-architect.github.io/articles/20220725a/"/>
    <id>https://future-architect.github.io/articles/20220725a/</id>
    <published>2022-07-24T15:00:00.000Z</published>
    <updated>2022-07-26T05:27:06.287Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p><a href="/articles/20220719a/">åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šã«é–¢ã™ã‚‹é€£è¼‰</a>ã®6æ—¥ç›®ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§ã™ã€‚<br>ãƒã‚¤ã‚³ãƒ³ã¨ã‹é›»å­å·¥ä½œãªã©IoTé–¢é€£ãŒå¥½ãã§ã€Bluetoothä¿¡å·ã‚’ä½¿ã£ãŸä½ç½®æ¨å®šæ‰‹æ³•ã«ã¤ã„ã¦èª¿æŸ»ã—ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€ç´¹ä»‹ã—ã¾ã™ã€‚</p><h1 id="Bluetoothã¨ã¯"><a href="#Bluetoothã¨ã¯" class="headerlink" title="Bluetoothã¨ã¯"></a>Bluetoothã¨ã¯</h1><p>æ•°ãƒ¡ãƒ¼ãƒˆãƒ«ã‹ã‚‰é•·ã„ã‚‚ã®ã§ã¯æ•°åãƒ¡ãƒ¼ãƒˆãƒ«ç¨‹åº¦ã®è·é›¢ã®æƒ…å ±æ©Ÿå™¨é–“ã§ã€é›»æ³¢ã‚’ä½¿ã„ãªãŒã‚‰ç°¡æ˜“ãªæƒ…å ±ã®ã‚„ã‚Šã¨ã‚Šã‚’è¡Œã†ã®ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚<br>èº«è¿‘ãªä¾‹ã ã¨ã€</p><ul><li>ã‚¤ãƒ¤ãƒ›ãƒ³</li><li>ãƒã‚¦ã‚¹</li><li>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰</li><li>â€¦etc.</li></ul><p>ãªã©ã¯Bluetoothä¿¡å·ã§éŸ³ã®æƒ…å ±ã‚„ã‚­ãƒ¼ãƒ»ãƒã‚¦ã‚¹ãŒæŠ¼ã•ã‚ŒãŸæƒ…å ±ã‚’ä¼ãˆã‚‹ã“ã¨ã§æ“ä½œãŒè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>è¿‘å¹´ã§ã¯<a href="https://ja.wikipedia.org/wiki/Bluetooth_Low_Energy">BLEï¼ˆBluetooth Low Energyï¼‰</a>ãŒä¸»æµã«ãªã£ã¦ãã¦ã„ã¾ã™ã€‚</p><h2 id="RSSI"><a href="#RSSI" class="headerlink" title="RSSI"></a>RSSI</h2><p>ä¿¡å·ã®å¼·ã•ã‚’è¡¨ã™å€¤ã¨ã—ã¦ã€RSSIï¼ˆReceived Signal Strength Indicatorï¼‰ãŒä½¿ã‚ã‚Œã¾ã™ã€‚<br>å¤§ãã„ã»ã©ä¿¡å·å¼·åº¦ãŒå¼·ãã€å°ã•ã„ã»ã©ä¿¡å·å¼·åº¦ãŒå¼±ã„çŠ¶æ…‹ã‚’è¡¨ã—ã¾ã™ã€‚<br>ãã—ã¦ã€ç™ºä¿¡æºã‹ã‚‰è·é›¢ãŒè¿‘ã„ã»ã©ä¿¡å·å¼·åº¦ãŒå¼·ãã€é›¢ã‚Œã‚‹ã«ã¤ã‚Œã¦æ®µã€…ã¨å¼·åº¦ãŒå¼±ããªã£ã¦ã„ãã¾ã™ã€‚<br>ã¤ã¾ã‚Šã€ã“ã®RSSIã®å€¤ã‚’ä½¿ãˆã°ã–ã£ãã‚Šã¨ä½ç½®æ¨å®šãŒã§ãã‚‹ã‚ã‘ã§ã™ã€‚</p><h1 id="ä½ç½®æ¨å®š"><a href="#ä½ç½®æ¨å®š" class="headerlink" title="ä½ç½®æ¨å®š"></a>ä½ç½®æ¨å®š</h1><p>Bluetoothã‚’ä½¿ã£ãŸä½ç½®æ¨å®šã§ã¯ã€ä¸»ã«ãƒ“ãƒ¼ã‚³ãƒ³ã‚’é…ç½®ã™ã‚‹ã“ã¨ã§è¡Œã„ã¾ã™ã€‚<br>ãƒ“ãƒ¼ã‚³ãƒ³ã¯ãŸã ã²ãŸã™ã‚‰ã€Bluetoothä¿¡å·ã‚’ç™ºä¿¡ã—ç¶šã‘ã¾ã™ã€‚é›»æ± æŒã¡ã®è‰¯ã„ã‚‚ã®ã ã¨æ•°å¹´æŒã¤ãã†ã§ã™ã€‚</p><h2 id="ãƒ“ãƒ¼ã‚³ãƒ³1ã¤ã ã‘ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š"><a href="#ãƒ“ãƒ¼ã‚³ãƒ³1ã¤ã ã‘ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š" class="headerlink" title="ãƒ“ãƒ¼ã‚³ãƒ³1ã¤ã ã‘ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š"></a>ãƒ“ãƒ¼ã‚³ãƒ³1ã¤ã ã‘ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š</h2><p>ã¾ãšã¯ã€ãƒ“ãƒ¼ã‚³ãƒ³ã‚’1ã¤ã ã‘ä½¿ã£ãŸå ´åˆã®ä½ç½®æ¨å®šæ‰‹æ³•ã§ã™ã€‚<br><a href="https://qiita.com/shu223/items/7c4e87c47eca65724305">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã§è©³ã—ãç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ãŒã€<code>ãƒ“ãƒ¼ã‚³ãƒ³è‡ªä½“ãŒç™ºã™ã‚‹Bluetoothã®å¼·åº¦TxPower</code>ã¨<code>RSSI</code>ã®å€¤ã®é–¢ä¿‚ã‹ã‚‰ä½ç½®ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>ã“ã“ã§ã¯ã€è‡ªç”±ç©ºé–“ã§ã¯å—ä¿¡ä¿¡å·å¼·åº¦ã¯è·é›¢ã®äºŒä¹—ã«åæ¯”ä¾‹ã™ã‚‹ã¨ã„ã†é–¢ä¿‚ãŒä½¿ã‚ã‚Œã¾ã™ã€‚<br>ãŸã è¨˜äº‹å†…ã§ã‚‚ä»°ã‚‰ã‚Œã¦ã„ã‚‹é€šã‚Šã€å®Ÿç©ºé–“ã§ã¯åºŠã‹ã‚‰åå°„ã—ãŸã‚Šã€æ©Ÿå™¨é–“ã«äººé–“ãŒå±…ãŸã‚Šã€å®Œå…¨ãªè‡ªç”±ç©ºé–“ã¨ã¯ç¨‹é ã„ã‚‚ã®ã§æ­£ç¢ºãªè·é›¢ã‚’å‡ºã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚<br>ã¾ãŸã€ãƒ“ãƒ¼ã‚³ãƒ³ä¸€ã¤ã ã‘ã ã¨ã€åŒå¿ƒå††ä¸Šã§ã¯å›³ã®ã‚ˆã†ã«ç­‰ã—ã<code>è·é›¢d</code>ãªã®ã§æ–¹å‘ã¾ã§ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚<br><img src="/images/20220725a/8094da77-f209-e092-608f-42bcd0f26b49.png" alt="" width="483" height="543" loading="lazy"></p><p>ã“ã‚“ãªã®ä½¿ãˆãªã„ã˜ã‚ƒã‚“ï¼ã£ã¦ãªã‚‹ã¨ã“ã‚ã§ã™ãŒã€å®Ÿéš›ã¯è¿‘ãã«ã„ã‚‹ã‹ã©ã†ã‹ã‚ã‹ã‚Œã°è‰¯ã„ã¨ã„ã†ç”¨é€”ã‚‚ã‚ã‚Šã¾ã™ã€‚<br>ä¾‹ãˆã°ã€ã‚ã‚‹å•†å“æ£šã®è¿‘ãã«æ¥ãŸã¨ãã«ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã—ãŸã‚Šã€ã‚ã‚‹åº—ã®å‰ã«é€šã‚Šã‹ã‹ã£ãŸã¨ãã«ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã—ã¦ãŠå¾—ãªæƒ…å ±ã‚’ãŠçŸ¥ã‚‰ã›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br><img src="/images/20220725a/9038109f-b428-09a6-1af6-36dd63e300fe.png" alt="" width="711" height="644" loading="lazy"></p><p>ã“ã‚Œã‚’åˆ©ç”¨ã—ãŸã‚‚ã®ã¨ã—ã¦ã€<a href="https://developers.line.biz/ja/docs/messaging-api/using-beacons/">LINEãƒ“ãƒ¼ã‚³ãƒ³</a>ãŒã‚ã‚Šã¾ã™ã€‚<br>LINEãƒ“ãƒ¼ã‚³ãƒ³ã§è¿‘ãã®äººã‚’æ¤œçŸ¥ã€LINEã§ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã¨ã„ã†çµ„ã¿åˆã‚ã›ã§ã™ã€‚<br>ã¡ãªã¿ã«<a href="https://qiita.com/mochan_tk/items/95573e99399d00e62409">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã‚’å‚è€ƒã«ã€ESP32ã‚’ä½¿ã£ã¦LINEãƒ“ãƒ¼ã‚³ãƒ³ã‚’ä½œã‚‹äº‹ãŒã§ãã¾ã™ã€‚<br>ã¾ãŸã€<a href="https://developers.line.biz/ja/">LINE Developers</a>ã‹ã‚‰LINEbotã¨çµ„ã¿åˆã‚ã›ã¦ã€ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã‚’ç°¡å˜ã«è©¦ã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><h2 id="ãƒ“ãƒ¼ã‚³ãƒ³ã‚’3ã¤ä»¥ä¸Šä½¿ã£ãŸä½ç½®æ¨å®š"><a href="#ãƒ“ãƒ¼ã‚³ãƒ³ã‚’3ã¤ä»¥ä¸Šä½¿ã£ãŸä½ç½®æ¨å®š" class="headerlink" title="ãƒ“ãƒ¼ã‚³ãƒ³ã‚’3ã¤ä»¥ä¸Šä½¿ã£ãŸä½ç½®æ¨å®š"></a>ãƒ“ãƒ¼ã‚³ãƒ³ã‚’3ã¤ä»¥ä¸Šä½¿ã£ãŸä½ç½®æ¨å®š</h2><p>æ¬¡ã«ã€ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ä½¿ã£ãŸä½ç½®æ¨å®šæ‰‹æ³•ã«ãªã‚Šã¾ã™ã€‚<br>ãƒ“ãƒ¼ã‚³ãƒ³1ã¤ã®å ´åˆã§ã‚‚è·é›¢ã¯ã–ã£ãã‚Šã¨ã‚ã‹ã‚Šã¾ã—ãŸãŒã€æ–¹å‘ãŒã‚ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«3ã¤ä»¥ä¸Šã®ãƒ“ãƒ¼ã‚³ãƒ³ã‚’ä½¿ã†äº‹ã§æ–¹å‘ã¾ã§æ¨å®šã—ã¾ã™ã€‚<br><img src="/images/20220725a/b5cf85ae-e7b1-4586-d814-126511066f71.png" alt="" width="640" height="672" loading="lazy"></p><p>å›³ã®ã‚ˆã†ã«å„ãƒ“ãƒ¼ã‚³ãƒ³ã®ä½ç½®ã¯å›ºå®šã§ã€ãã‚Œãã‚Œã®ãƒ“ãƒ¼ã‚³ãƒ³ã«ã¯å€‹åˆ¥ã®è­˜åˆ¥ç•ªå·ã‚’æŒ¯ã£ã¦ãŠãã“ã¨ã§å„ãƒ“ãƒ¼ã‚³ãƒ³ã‹ã‚‰ã®è·é›¢ãŒã‚ã‹ã‚Šã¾ã™ã€‚<br>ã“ã®æ™‚ã©ã“ã‹<strong>åŸºæº–ç‚¹</strong>ã‚’æ±ºã‚ã¦ã€ãã®ä½ç½®ã‹ã‚‰å„ãƒ“ãƒ¼ã‚³ãƒ³ã®ä½ç½®ãŒã©ã‚Œã ã‘<code>x</code>æ–¹å‘ã¨<code>y</code>æ–¹å‘ã«é›¢ã‚Œã¦ã„ã‚‹ã‹è¨˜éŒ²ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>ãã‚Œãã‚Œã®<code>x</code>ã€<code>y</code>åº§æ¨™ã‚’ä½¿ã£ã¦å††ã®æ–¹ç¨‹å¼ã‚’ç«‹ã¦ï¼ˆè·é›¢<code>d1</code>ã€<code>d2</code>ã€<code>d3</code>ãŒå††ã®åŠå¾„ï¼‰ã€ãã®é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ãã“ã¨ã§äº¤ç‚¹ã‚’è¨ˆç®—ã—ã€<strong>åŸºæº–ç‚¹</strong>ã«å¯¾ã™ã‚‹ç›¸å¯¾çš„ãªä½ç½®ã‚’æ¨æ¸¬ã§ãã¾ã™ã€‚<br>ã“ã‚Œã§è·é›¢ã‚‚ä½ç½®ã‚‚æ±ºã¾ã£ãŸï¼ã¨æ€ã„ãã‚„ã€Bluetoothã¯æ§˜ã€…ãªå¹²æ¸‰ã‚’å—ã‘ã‚‹ãŸã‚<code>è·é›¢d</code>ãŒã–ã£ãã‚Šã¨ã—ãŸå€¤ã«ãªã‚Šã€é€£ç«‹æ–¹ç¨‹å¼ãŒè§£ã‘ãšã«ä½ç½®ãŒæ±‚ã¾ã‚‰ãªã„ã“ã¨ãŒå¤šç™ºã—ã¾ã™ã€‚</p><h2 id="ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ã¨æ©Ÿæ¢°å­¦ç¿’ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š"><a href="#ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ã¨æ©Ÿæ¢°å­¦ç¿’ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š" class="headerlink" title="ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ã¨æ©Ÿæ¢°å­¦ç¿’ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š"></a>ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ã¨æ©Ÿæ¢°å­¦ç¿’ã‚’ä½¿ã£ãŸä½ç½®æ¨å®š</h2><p>æœ€å¾Œã«ã€ãƒ“ãƒ¼ã‚³ãƒ³ã‚’è¤‡æ•°ã¨æ©Ÿæ¢°å­¦ç¿’ã‚’ä½¿ã£ãŸä½ç½®æ¨å®šæ‰‹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚<br>ç°¡æ½”ã«æ‰‹æ³•è¨€ã†ã¨ã€ã‚¯ãƒ©ã‚¹åˆ†é¡ãƒ¢ãƒ‡ãƒ«ã§ä½ç½®ã‚’æ¨å®šã—ã¦ã„ãã¾ã™ã€‚<strong>ä½†ã—ã€ã“ã®ã‚„ã‚Šæ–¹ã ã¨æ­£ç¢ºãªè·é›¢ã¯æ¨å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚</strong></p><h3 id="â‘ æ¨å®šã—ãŸã„å ´æ‰€ã‚’ã‚°ãƒªãƒƒãƒ‰ã§åŒºåˆ‡ã‚‹"><a href="#â‘ æ¨å®šã—ãŸã„å ´æ‰€ã‚’ã‚°ãƒªãƒƒãƒ‰ã§åŒºåˆ‡ã‚‹" class="headerlink" title="â‘ æ¨å®šã—ãŸã„å ´æ‰€ã‚’ã‚°ãƒªãƒƒãƒ‰ã§åŒºåˆ‡ã‚‹"></a>â‘ æ¨å®šã—ãŸã„å ´æ‰€ã‚’ã‚°ãƒªãƒƒãƒ‰ã§åŒºåˆ‡ã‚‹</h3><img src="/images/20220725a/34ef68e6-ac85-f74f-84e3-f12a3c048475.png" alt="" width="451" height="487" loading="lazy"><p>å›³ã®ã‚ˆã†ã«éƒ¨å±‹ã‚’ã‚°ãƒªãƒƒãƒ‰ã§åŒºåˆ‡ã£ã¦ç•ªå·ã‚’æŒ¯ã‚Šã¾ã™ã€‚ã‚°ãƒªãƒƒãƒ‰ç•ªå·ãŒä½ç½®ã‚’ç¤ºã—ã¾ã™ã€‚<br>ã¾ãŸã€ã“ã®ã‚°ãƒªãƒƒãƒ‰ç•ªå·ã‚’ã‚¯ãƒ©ã‚¹ã¨ã—ã¦åˆ†é¡ãƒ¢ãƒ‡ãƒ«ã«å­¦ç¿’ã•ã›ã¦ã„ãã¾ã™ã€‚</p><h3 id="â‘¡ãƒ“ãƒ¼ã‚³ãƒ³ã‚’é…ç½®ã™ã‚‹"><a href="#â‘¡ãƒ“ãƒ¼ã‚³ãƒ³ã‚’é…ç½®ã™ã‚‹" class="headerlink" title="â‘¡ãƒ“ãƒ¼ã‚³ãƒ³ã‚’é…ç½®ã™ã‚‹"></a>â‘¡ãƒ“ãƒ¼ã‚³ãƒ³ã‚’é…ç½®ã™ã‚‹</h3><img src="/images/20220725a/6e20b812-7b5c-51df-6e1f-e008db678691.png" alt="" width="454" height="484" loading="lazy"><p>ã“ã‚Œã¯ã©ã®æ‰‹æ³•ã§ã‚‚åŒã˜ã§ã™ãŒã€Bluetoothä¿¡å·ã‚’ç™ºã™ã‚‹ãƒ“ãƒ¼ã‚³ãƒ³ã«å›ºå®šã®ç•ªå·ã‚’æŒ¯ã£ã¦ãã‚Œãã‚Œé…ç½®ã—ã¾ã™ã€‚<br>é…ç½®ä½ç½®ã¯ç‰¹ã«æ±ºã¾ã£ã¦ã„ã¾ã›ã‚“ãŒã€éƒ¨å±‹ã«æº€éãªãé…ç½®ã—ãŸã»ã†ãŒã„ã„ã§ã—ã‚‡ã†ã€‚<br>ã¾ãŸã“ã®ä¾‹ã ã¨å„éƒ¨å±‹1ã¤ã®è¨ˆ4ã¤ã§ã™ãŒã€ã‚°ãƒªãƒƒãƒ‰ãŒå¤§ãã„å ´åˆã¯ã‚‚ã£ã¨ãŸãã•ã‚“ãƒ“ãƒ¼ã‚³ãƒ³ã‚’ç½®ã„ã¦ã€éƒ¨å±‹ã®ã©ã®ä½ç½®ã«ã„ã¦ã‚‚Bluetoothä¿¡å·ã‚’æ•ã¾ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã»ã†ãŒã‚ˆã‚Šæ­£ç¢ºãªæ¨å®šãŒã§ãã¾ã™ã€‚</p><h3 id="â‘¢å„ã‚°ãƒªãƒƒãƒ‰ã§Bluetoothã®RSSIã‚’åé›†ã—ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ã•ã›ã‚‹"><a href="#â‘¢å„ã‚°ãƒªãƒƒãƒ‰ã§Bluetoothã®RSSIã‚’åé›†ã—ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ã•ã›ã‚‹" class="headerlink" title="â‘¢å„ã‚°ãƒªãƒƒãƒ‰ã§Bluetoothã®RSSIã‚’åé›†ã—ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ã•ã›ã‚‹"></a>â‘¢å„ã‚°ãƒªãƒƒãƒ‰ã§Bluetoothã®RSSIã‚’åé›†ã—ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ã•ã›ã‚‹</h3><img src="/images/20220725a/d1acd8bc-3ac5-4d85-d865-9c4366dae2b4.png" alt="" width="805" height="564" loading="lazy"><p><strong>â€»å›³ã®å¹ãå‡ºã—ã«è¨˜è¼‰ã—ã¦ã„ã‚‹å€¤ã¯RSSIã®å¤§ãã•</strong><br>å„ã‚°ãƒªãƒƒãƒ‰ã®ä½ç½®ã§ãã‚Œãã‚Œã®ãƒ“ãƒ¼ã‚³ãƒ³ã‹ã‚‰é€ã‚‰ã‚Œã¦ãã‚‹RSSIã®å€¤ã‚’åé›†ã—ã¾ã™ã€‚<br>åé›†ã—ãŸRSSIã®å€¤ã‚’ã‚°ãƒªãƒƒãƒ‰ç•ªå·æ¨å®šç”¨ã®æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ã†ã®ã§ã€ãªã‚‹ã¹ãå¤šã‚ã«åé›†ã—ã¦ãŠã„ãŸã»ã†ãŒè‰¯ã„ã§ã™ã€‚</p><p>ãã—ã¦ã€åé›†ã—ãŸRSSIã®å€¤ã«å¯¾ã™ã‚‹ã‚°ãƒªãƒƒãƒ‰ç•ªå·ï¼ˆä½ç½®ï¼‰ã‚’ãƒ¢ãƒ‡ãƒ«ã«å­¦ç¿’ã•ã›ã¾ã™ã€‚<br>æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã§ã¯åé›†ã—ãŸRSSIã®å€¤ã‚’å…ƒã«ã‚°ãƒªãƒƒãƒ‰ç•ªå·ã‚’ã‚¯ãƒ©ã‚¹åˆ†é¡ã™ã‚‹ã‚ˆã†ã«å­¦ç¿’ã—ã¦ã„ãã¾ã™ã€‚</p><h3 id="â‘£ä½ç½®æ¨å®šã™ã‚‹"><a href="#â‘£ä½ç½®æ¨å®šã™ã‚‹" class="headerlink" title="â‘£ä½ç½®æ¨å®šã™ã‚‹"></a>â‘£ä½ç½®æ¨å®šã™ã‚‹</h3><img src="/images/20220725a/b11df6af-4e01-f552-67d1-1c6e15327790.png" alt="" width="808" height="593" loading="lazy"><p>å­¦ç¿’ã•ã›ãŸãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦ç¾åœ¨ã®RSSIå€¤ã‹ã‚‰ã‚°ãƒªãƒƒãƒ‰ç•ªå·ã‚’æ¨å®šã™ã‚‹ã“ã¨ã§ä½ç½®ãŒã‚ã‹ã‚Šã¾ã™ã€‚<br>æ¨å®šã•ã‚ŒãŸä½ç½®ã¯DBã«æ ¼ç´ã™ã‚‹ãªã‚Šã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦å¯è¦–åŒ–ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¾åœ¨ä½ç½®ãŒæŠŠæ¡ã§ãã¾ã™ã€‚</p><p>ãŸã ã€æ–°ã—ã„ã‚°ãƒªãƒƒãƒ‰ãŒã§ããŸå ´åˆã‚„ãƒ“ãƒ¼ã‚³ãƒ³ã‚’æ–°ãŸã«è¿½åŠ ã—ãŸå ´åˆã€å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ç›´ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>ã¾ãŸã€ã‚°ãƒªãƒƒãƒ‰ãŒå¤šã„ã¨å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®åé›†ãŒéå¸¸ã«å¤§å¤‰ã§ã™ã€‚</p><h1 id="ãŠã¾ã‘"><a href="#ãŠã¾ã‘" class="headerlink" title="ãŠã¾ã‘"></a>ãŠã¾ã‘</h1><h2 id="v-s-GPS"><a href="#v-s-GPS" class="headerlink" title="v.s. GPS"></a>v.s. GPS</h2><p>ç„¡ç·šé€šä¿¡ã‚’ä½¿ã£ãŸä½ç½®æ¨å®šæ‰‹æ³•ã«ã¯GPSï¼ˆGlobal Positioning Systemï¼‰ã€å…¨åœ°çƒæ¸¬ä½ã‚·ã‚¹ãƒ†ãƒ ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚<br>GPSã¯ä¸Šç©ºã«ã‚ã‚‹è¤‡æ•°ã®è¡›æ˜Ÿï¼ˆ3å€‹ä»¥ä¸Šã¯å¿…é ˆï¼‰ã‹ã‚‰ä¿¡å·ã‚’å—ã‘å–ã‚Šã€ç¾åœ¨ä½ç½®ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã“ã¡ã‚‰ã‚‚èº«è¿‘ãªä½ç½®æ¨å®šæ‰‹æ³•ã§ã€</p><ul><li>ã‚¹ãƒãƒ›</li><li>ã‚«ãƒ¼ãƒŠãƒ“</li></ul><p>ãªã©ã«æ­è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>GPSè‡ªä½“ã®å…¥æ‰‹ã¯æ¯”è¼ƒçš„å®¹æ˜“ã§ã€<a href="https://www.switch-science.com/catalog/list/?keyword=GPS">Switch Sicense</a>ã•ã‚“ã§ã‚‚å—ä¿¡æ©Ÿè‡ªä½“ã‚’å¤šæ•°è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>çµæ§‹ç°¡å˜ã«ä½¿ã†ã“ã¨ãŒã§ãã€äº•ä¸Šã•ã‚“ã®éå»è¨˜äº‹<a href="/articles/20220406a/">ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã®å‹§ã‚</a>ã®ä¸­ã§ã‚‚GPSãƒ¦ãƒ‹ãƒƒãƒˆãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚</p><p>Bluetoothã¨æ¯”è¼ƒã—ãŸåˆ©ç‚¹ãƒ»æ¬ ç‚¹ã¨ã—ã¦ã¯ã€</p><ul><li>åºƒåŸŸã§è¦‹ã‚‹ã¨ã‹ãªã‚Šç²¾åº¦ãŒè‰¯ãã€ä½ç½®æƒ…å ±ãŒå®‰å®šã—ã¦ã„ã‚‹</li><li>ä¿¡å·ã®ç™ºä¿¡æ©Ÿã‚’è¨­ç½®ã™ã‚‹å¿…è¦ãŒãªã„</li><li>é®è”½ç‰©ã«å¼±ã„</li></ul><p>ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚å±‹å¤–ã§ä½¿ã†åˆ†ã«ã¯åŠ›ã‚’ç™ºæ®ã—ã¾ã™ãŒã€3å€‹ä»¥ä¸Šã®ä¿¡å·ã‚’å—ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€é®è”½ç‰©ãŒã‚ã‚‹ã¨ä¿¡å·ã‚’å—ä¿¡ã§ããšã«ä½ç½®ã‚’æ¸¬ä½ã§ãã¾ã›ã‚“ã€‚</p><p>ãã®ãŸã‚ã€ã‚ã‚‹å•†å“æ£šã®è¿‘ãã‚„ã€ã‚ã‚‹éƒ¨å±‹ã«å±…ã‚‹ãªã©ã®ç‹­ã„ç¯„å›²ã®ä½ç½®æ¨å®šã‚„å±‹å†…ã ã¨Bluetoothã®æ–¹ã«åˆ†ãŒã‚ã‚Šã¾ã™ã€‚</p><h2 id="v-s-ã‚¿ã‚°"><a href="#v-s-ã‚¿ã‚°" class="headerlink" title="v.s. ã‚¿ã‚°"></a>v.s. ã‚¿ã‚°</h2><p>ã“ã¡ã‚‰ã¯ç„¡ç·šã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ã‚«ãƒ¡ãƒ©ã§ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ãªã‚¿ã‚°ã‚’èªè­˜ã™ã‚‹ã“ã¨ã§ä½ç½®ã‚’èªè­˜ã™ã‚‹æ‰‹æ³•ãŒã‚ã‚Šã¾ã™ã€‚<br>ï¼ˆã‚‚ã¡ã‚ã‚“ã‚¿ã‚°ã ã‘ã§ã¯ç§»å‹•ã§ããªã„ã®ã§ã€LiDARãªã©ã‚’ç”¨ã„ã¦SLAMï¼ˆè‡ªå·±ä½ç½®æ¨å®šï¼‰ã‚’ä½µç”¨ã—ãªãŒã‚‰ç§»å‹•ã—ã¾ã™ï¼‰<br>è¿‘å¹´ã§ã¯é£²é£Ÿåº—ã§ã®ãƒ­ãƒœãƒƒãƒˆã®å°å…¥ãŒé€²ã‚“ã§ãŠã‚Šã€ç‹­ã„ç¯„å›²ã§æ±ºã¾ã£ãŸä½ç½®ã¸ã®ç§»å‹•ã‚’ç¹°ã‚Šè¿”ã™ãƒ­ãƒœãƒƒãƒˆã«ã¨ã£ã¦ã¯ã‚¿ã‚°ã¯éå¸¸ã«æœ‰åŠ¹ãªæ‰‹æ³•ã«ãªã‚Šã¾ã™ã€‚</p><p>ã¾ãŸã€ã‚¿ã‚°ã‚’å¤©äº•ã«é…ç½®ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã‚¿ã‚°ã‚’éš ã™éšœå®³ç‰©ã®å¿ƒé…ã‚‚ãªãã€ã•ã‚‰ã«é£²é£Ÿåº—ã®æ™¯è¦³ã‚’æã­ãšã«æ¸ˆã¿ã¾ã™ã€‚<br>ä½™è«‡ã§ã™ãŒã€ç¾½ç”°ç©ºæ¸¯ã«ã‚ã‚‹<a href="https://ai-scape.jp/">AI_SCAPE</a>ã§ã¯ã‚·ã‚§ãƒ•ã‚‚ã‚¦ã‚§ã‚¤ã‚¿ãƒ¼ã‚‚ãƒ­ãƒœãƒƒãƒˆã‚‰ã—ãã€ä»Šå›ç´¹ä»‹ã—ãŸã‚¿ã‚°ã«ã‚ˆã‚‹ä½ç½®èªè­˜ã‚‚å°å…¥ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ä»Šåº¦è¡Œã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p><p>ç”¨é€”ãŒé•ã†ã®ã§æ¯”è¼ƒã™ã‚‹ã®ã‚‚ãŠã‹ã—ã„è©±ã§ã™ãŒã€Bluetoothã¨æ¯”è¼ƒã—ãŸåˆ©ç‚¹ãƒ»æ¬ ç‚¹ã¨ã—ã¦ã¯ã€</p><ul><li>ä½ç½®æ¨å®šã§ã¯ãªãã€ãƒãƒ¼ã‚«ãƒ¼ã«ã‚ˆã£ã¦ä½ç½®ã‚’èªè­˜ã—ã¦ã„ã‚‹ã®ã§æ­£ç¢º</li><li>ãƒãƒ¼ã‚«ãƒ¼ã«é›»æºãŒè¦ã‚‰ãªã„</li><li>äººé–“ã®ä½ç½®æ¨å®šã«ã¯å‘ã‹ãªã„</li></ul><p>ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚</p><p>ã‚«ãƒ¡ãƒ©å–ã‚Šä»˜ã‘ãŸãƒ˜ãƒ«ãƒ¡ãƒƒãƒˆè¢«ã£ã¦ã‚‚ã‚‰ã£ã¦ã€å¤©äº•ã«ãƒãƒ¼ã‚«ãƒ¼é…ç½®ã™ã‚Œã°äººé–“ã‚‚ä½ç½®èªè­˜ã§ããªãã¯ãªã•ãã†ã§ã™ã­ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ä»¥ä¸Šã€3ç¨®é¡ã®Bluetoothã‚’ç”¨ã„ãŸä½ç½®æ¨å®šæ‰‹æ³•ã‚’ç´¹ä»‹ã•ã›ã¦é ‚ãã¾ã—ãŸã€‚<br>å€‹äººçš„ã«ã¯ã€ãƒ“ãƒ¼ã‚³ãƒ³ã‚’1ã¤ã®ã¿ä½¿ã£ã¦è¿‘ãã«ã„ã‚‹ã‹ã©ã†ã‹ã®ã¿ã‚’åˆ¤æ–­ã™ã‚‹æ‰‹æ³•ã®æ–¹ãŒæ‰‹é–“ãŒã‹ã‹ã‚‰ãšã€ã‚³ã‚¹ãƒˆçš„ã«ã‚‚å®‰ãæŠ‘ãˆã‚‰ã‚Œã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚</p><p>æ¬¡ã¯çœŸé‡ã•ã‚“ã®<a href="/articles/20220726a/">Plus Codeã«ã¤ã„ã¦èª¿ã¹ãŸ</a> ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="é›»å­å·¥ä½œ" scheme="https://future-architect.github.io/tags/%E9%9B%BB%E5%AD%90%E5%B7%A5%E4%BD%9C/"/>
    
    <category term="bluetooth" scheme="https://future-architect.github.io/tags/bluetooth/"/>
    
    <category term="ä½ç½®æ¨å®š" scheme="https://future-architect.github.io/tags/%E4%BD%8D%E7%BD%AE%E6%8E%A8%E5%AE%9A/"/>
    
  </entry>
  
  <entry>
    <title>ä½æ‰€æƒ…å ±ã‹ã‚‰çµŒè·¯ã‚’æ¢ç´¢ã™ã‚‹&quot;ãã“ãã“&quot;ãªæ–¹æ³•</title>
    <link href="https://future-architect.github.io/articles/20220722a/"/>
    <id>https://future-architect.github.io/articles/20220722a/</id>
    <published>2022-07-21T15:00:00.000Z</published>
    <updated>2022-07-25T06:45:21.599Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>SAIG(Strategic AI Group)ã®å¡šæœ¬ã§ã™ã€‚<a href="/articles/20220719a/">åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®š</a>é€£è¼‰ã®4æœ¬ç›®ã§ã™ã€‚</p><p>ç§ã¯AIãƒãƒ¼ãƒ ã«ã¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¡ˆä»¶ã«æºã‚ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¡ˆä»¶ã®ä»£è¡¨çš„ãªèª²é¡Œã®ã²ã¨ã¤ã«çµŒè·¯æœ€é©åŒ–ãŒã‚ã‚Šã¾ã™ã€‚çµŒè·¯æœ€é©åŒ–è‡ªä½“ã®æ–¹æ³•ã¯<a href="/articles/20211201a/">ä»¥å‰ã®è¨˜äº‹</a>ã‚’å‚ç…§ä¸‹ã•ã„ã€‚</p><p>æœ¬è¨˜äº‹ã§ã¯ãƒ¦ãƒ¼ã‚¶ç­‰ã‹ã‚‰ç™»éŒ²ã•ã‚ŒãŸä½æ‰€æƒ…å ±ã‹ã‚‰ã€ã‚ã‚‹ç¨‹åº¦ç²¾åº¦ã‚’çŠ ç‰²ã«ã™ã‚‹ã“ã¨ã§å®‰ä¾¡ã«çµŒè·¯ã‚’æ¢ç´¢ã§ãã‚‹çŠ¶æ…‹ã™ã‚‹ã€ã¤ã¾ã‚Šâ€ãã“ãã“â€ãªæ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚ãªãŠç´¹ä»‹ã™ã‚‹å†…å®¹ã¯å½“ç¤¾ã§ã‚¢ãƒ«ãƒã‚¤ãƒˆã¨ã—ã¦æ´»èºã—ã¦ã„ã‚‹å¤§æ£®ã•ã‚“ãƒ»é«˜å€‰ã•ã‚“ã®å”åŠ›ã‚’å¾—ã¦ã„ã¾ã™ã€‚</p><h2 id="çµŒè·¯ã‚’æ¢ç´¢ã§ãã‚‹çŠ¶æ…‹ãŒã§ãã‚‹ã¾ã§"><a href="#çµŒè·¯ã‚’æ¢ç´¢ã§ãã‚‹çŠ¶æ…‹ãŒã§ãã‚‹ã¾ã§" class="headerlink" title="çµŒè·¯ã‚’æ¢ç´¢ã§ãã‚‹çŠ¶æ…‹ãŒã§ãã‚‹ã¾ã§"></a>çµŒè·¯ã‚’æ¢ç´¢ã§ãã‚‹çŠ¶æ…‹ãŒã§ãã‚‹ã¾ã§</h2><p>è¤‡æ•°ã®ä½æ‰€ã‚’é †ç•ªã«è¨ªã‚Œã‚‹çµŒè·¯ã‚’æ¢ç´¢ã™ã‚‹ã«ã¯ã€å„è¨ªå•å…ˆã‚’ãƒãƒ¼ãƒ‰ã€è¨ªå•å…ˆã¨è¨ªå•å…ˆã®æœ€çŸ­ã®é“ã‚’ã‚¨ãƒƒã‚¸ã¨ã—ãŸã‚°ãƒ©ãƒ•ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹é€ ã§è¡¨ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br><img src="/images/20220722a/image.png" alt="" width="595" height="488" loading="lazy"></p><p>å…¥åŠ›æƒ…å ±ãŒã™ã§ã«æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€å®Ÿéš›ã¯çµ¶å¯¾çš„ãªä½ç½®ã§ã‚ã‚‹ç·¯åº¦çµŒåº¦ã§ã™ã‚‰è¨˜éŒ²ã•ã‚Œã¦ãŠã‚‰ãšã€æ›–æ˜§ãªä½æ‰€æƒ…å ±ã¨ã„ã†å½¢ã§è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹äº‹ãŒå¤šã„ã§ã™ã€‚<br>ãã®ãŸã‚ã€ä½æ‰€æƒ…å ±ã‹ã‚‰çµŒè·¯æ¢ç´¢ã‚’ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®stepãŒå¿…è¦ã§ã™ã€‚</p><ol><li>æ–‡å­—åˆ—ã§ã‚ã‚‹ä½æ‰€æƒ…å ±ã‹ã‚‰ç·¯åº¦çµŒåº¦ã‚’æ±‚ã‚ã‚‹</li><li>æ±‚ã‚ãŸç·¯åº¦çµŒåº¦åŒå£«ã‚’ã¤ãªãæœ€çŸ­ã®é“ã®é•·ã•ã‚’æ±‚ã‚ã‚‹</li></ol><p>å„stepã®å®Ÿç¾æ–¹æ³•ã‚’ä»¥ä¸‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚ãªãŠã€æœ¬è¨˜äº‹ã§ã¯åœ°å›³æƒ…å ±ã‚’ Google Map API ã«ã¦å–å¾—ã—ã¾ã™ã€‚</p><h3 id="1-æ–‡å­—åˆ—ã§ã‚ã‚‹ä½æ‰€æƒ…å ±ã‹ã‚‰ç·¯åº¦çµŒåº¦ã‚’æ±‚ã‚ã‚‹"><a href="#1-æ–‡å­—åˆ—ã§ã‚ã‚‹ä½æ‰€æƒ…å ±ã‹ã‚‰ç·¯åº¦çµŒåº¦ã‚’æ±‚ã‚ã‚‹" class="headerlink" title="1. æ–‡å­—åˆ—ã§ã‚ã‚‹ä½æ‰€æƒ…å ±ã‹ã‚‰ç·¯åº¦çµŒåº¦ã‚’æ±‚ã‚ã‚‹"></a>1. æ–‡å­—åˆ—ã§ã‚ã‚‹ä½æ‰€æƒ…å ±ã‹ã‚‰ç·¯åº¦çµŒåº¦ã‚’æ±‚ã‚ã‚‹</h3><p>å¤šãã®å ´åˆã€ä½æ‰€ã¯æ–‡å­—ã§æ›¸ã‹ã‚Œã¦ãŠã‚Šè¡¨è¨˜ã«æºã‚ŒãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ä½æ‰€ã¨ã—ã¦ã¯æ­£ã—ãã¦ã‚‚ã€åœ°å›³æƒ…å ±ä¸­ã«å­˜åœ¨ã—ãªã‹ã£ãŸã‚Šã€è¤‡æ•°ã®å¯èƒ½æ€§ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã¯çã—ãã‚ã‚Šã¾ã›ã‚“ã€‚å®Ÿéš›ã®ä½æ‰€æƒ…å ±ã‚’ã‚‚ã¨ã«èª¬æ˜ã—ã¾ã™ã€‚<br>ãªãŠã€ä»¥ä¸‹ã¯Webãƒšãƒ¼ã‚¸ã§ã® Google Map ã®çµæœã‚’è¨˜è¼‰ã—ã¦ãŠã‚Šã¾ã™ãŒã€APIã§ã®çµæœã‚‚åŒæ§˜ã®å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚</p><p>ä¾‹ãˆã°ã€å½“ç¤¾ã®ä¸‹è¨˜ä½æ‰€ã‚’ Google Map ã«å…¥åŠ›ã™ã‚‹ã¨ã€ãã®æ‰€åœ¨ã¯ä¸€æ„ã«æ±‚ã¾ã‚Šã¾ã™ã€‚<a href="https://www.google.com/maps/place/%E3%82%A2%E3%83%BC%E3%83%88%E3%83%B4%E3%82%A3%E3%83%AC%E3%83%83%E3%82%B8%E5%A4%A7%E5%B4%8E%E3%82%BB%E3%83%B3%E3%83%88%E3%83%A9%E3%83%AB%E3%82%BF%E3%83%AF%E3%83%BC/@35.6223814,139.7252707,17z/data=!3m2!4b1!5s0x60188af7290db429:0x256fd7e2182150d7!4m5!3m4!1s0x60188af729b7a60d:0xc6703259ca319f2f!8m2!3d35.6223771!4d139.7274594">Google Map</a><br><code>æ±äº¬éƒ½å“å·åŒºå¤§å´1-2-2ã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸å¤§å´ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¿ãƒ¯ãƒ¼</code></p><img src="/images/20220722a/image_2.png" alt="" width="545" height="309" loading="lazy"><p>ã¨ã“ã‚ãŒã€ã“ã®ä½æ‰€ã‚’å°‘ã—å¤‰ãˆã‚‹ã¨ã€è¤‡æ•°ã®å€™è£œãŒã‚µã‚¸ã‚§ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚<a href="https://www.google.com/maps/search/%E6%9D%B1%E4%BA%AC%E9%83%BD%E5%93%81%E5%B7%9D%E5%8C%BA%E5%A4%A7%E5%B4%8E1-2-2%E3%82%A2%E3%83%BC%E3%83%88%E3%83%B4%E3%82%A3%E3%83%AC%E3%83%83%E3%82%B8/@35.6226561,139.7249502,17z/data=!3m1!4b1">Google Map</a><br><code>æ±äº¬éƒ½å“å·åŒºå¤§å´1-2-2ã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸</code></p><img src="/images/20220722a/image_3.png" alt="" width="543" height="309" loading="lazy"><p>ä¸€æ–¹ã€å»ºç‰©åã‚’é™¤å¤–ã™ã‚‹ã¨ã¾ãŸä¸€æ„ã«æ±‚ã¾ã‚Šã¾ã™ã€‚<a href="https://www.google.com/maps/place/%E3%80%92141-0032+%E6%9D%B1%E4%BA%AC%E9%83%BD%E5%93%81%E5%B7%9D%E5%8C%BA%E5%A4%A7%E5%B4%8E%EF%BC%91%E4%B8%81%E7%9B%AE%EF%BC%92%E2%88%92%EF%BC%92/@35.6223196,139.7249758,17z/data=!3m1!4b1!4m5!3m4!1s0x60188af728214857:0xea57823db5ffb40a!8m2!3d35.6223153!4d139.7271645">Google Map</a><br><code>æ±äº¬éƒ½å“å·åŒºå¤§å´1-2-2</code></p><img src="/images/20220722a/image_4.png" alt="" width="544" height="308" loading="lazy"><p>ä¾‹ã¨ã—ã¦èª¬æ˜ã—ãŸã€Œã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸å¤§å´ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¿ãƒ¯ãƒ¼ã€ã¯ã€å•†æ¥­ãƒ“ãƒ«ã§ã‚ã‚Šå»ºç‰©è‡ªä½“ãŒ Google Map ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã‚ŒãŒå°ã•ãªãƒãƒ³ã‚·ãƒ§ãƒ³ã‚„å€‹äººå®…ç­‰ã«ãªã‚‹ã¨æœªç™»éŒ²ã‚„ã€è¡¨è¨˜ã‚†ã‚Œã§ä¸€æ„ã«æ±‚ã‚ã‚‹ã“ã¨ãŒå›°é›£ã«ãªã‚Šã¾ã™ã€‚å…ˆã®ä¾‹ã¯ãã‚Œã»ã©è·é›¢ãŒé›¢ã‚Œã¦ã¾ã›ã‚“ãŒã€å®Ÿéš›ã®ä½æ‰€ãƒ‡ãƒ¼ã‚¿ã§æ¤œè¨¼ã—ãŸæ‰€ã€1é§…ä»¥ä¸Šé›¢ã‚ŒãŸå€™è£œãŒè¤‡æ•°ã‚µã‚¸ã‚§ã‚¹ãƒˆã•ã‚Œã‚‹çŠ¶æ³ã¯ã‚ˆãç™ºç”Ÿã—ã€è¤‡æ•°ã®æ‰€åœ¨ã‹ã‚‰ã©ã‚Œã‚’æ­£ã—ã„ã‚‚ã®ã¨é¸æŠã™ã‚‹ã‹ã«ã‚ˆã£ã¦çµŒè·¯ãŒå¤§ããå¤‰ã‚ã£ã¦ã—ã¾ã„ã¾ã™ã€‚</p><p>ãã“ã§ã€ç§ã¯ä½æ‰€æƒ…å ±ã‹ã‚‰æ‰€åœ¨ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã‚Šè¤‡æ•°ã‚µã‚¸ã‚§ã‚¹ãƒˆã•ã‚ŒãŸå ´åˆã€å¾Œã‚ã‹ã‚‰è¨˜è¼‰ã‚’å‰Šã‚ŠçµŒè·¯ã«å¤§ããå½±éŸ¿ã‚’åŠã¼ã•ãªã„<strong>ç•ªåœ°</strong>ã¾ã§ã®æ‰€åœ¨ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã€åŠ å·¥å‡¦ç†ã‚’åŠ ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<a href="https://www.google.com/maps/place/%E3%80%92141-0032+%E6%9D%B1%E4%BA%AC%E9%83%BD%E5%93%81%E5%B7%9D%E5%8C%BA%E5%A4%A7%E5%B4%8E%EF%BC%91%E4%B8%81%E7%9B%AE%EF%BC%92/@35.6225215,139.7253501,17z/data=!3m1!4b1!4m5!3m4!1s0x60188af7262641f1:0xd7cfc3a7a3c0382c!8m2!3d35.6223847!4d139.727363">Google Map</a><br><code>æ±äº¬éƒ½å“å·åŒºå¤§å´1-2</code></p><img src="/images/20220722a/image_5.png" alt="" width="545" height="310" loading="lazy"><p>ä½æ‰€æƒ…å ±ã‹ã‚‰ã®æ‰€åœ¨ç‰¹å®šã¯åœ°åŸŸæ€§ã«å¤§ããå·¦å³ã•ã‚Œã‚‹ã®ã§ã™ãŒã€å®Ÿéš›ã«ã‚ã£ãŸé¡§å®¢ãƒªã‚¹ãƒˆã®ä½æ‰€æƒ…å ±ã‚’ãã®ã¾ã¾ Google Map API ã‚’ç”¨ã„ã¦æ‰€åœ¨ã‚’ç‰¹å®šã—ã‚ˆã†ã¨ã—ãŸæ‰€ã€ç„¡åŠ å·¥ã®å ´åˆå…¨ä½“ã®80%ç¨‹åº¦ã—ã‹å–å¾—ãŒã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€ä¸Šè¨˜å·¥å¤«ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§90%è¶…ã®æ‰€åœ¨ç‰¹å®šãŒã§ãã¾ã—ãŸã€‚</p><h3 id="2-æ±‚ã‚ãŸç·¯åº¦çµŒåº¦åŒå£«ã‚’ã¤ãªãæœ€çŸ­ã®é“ã®é•·ã•ã‚’æ±‚ã‚ã‚‹"><a href="#2-æ±‚ã‚ãŸç·¯åº¦çµŒåº¦åŒå£«ã‚’ã¤ãªãæœ€çŸ­ã®é“ã®é•·ã•ã‚’æ±‚ã‚ã‚‹" class="headerlink" title="2. æ±‚ã‚ãŸç·¯åº¦çµŒåº¦åŒå£«ã‚’ã¤ãªãæœ€çŸ­ã®é“ã®é•·ã•ã‚’æ±‚ã‚ã‚‹"></a>2. æ±‚ã‚ãŸç·¯åº¦çµŒåº¦åŒå£«ã‚’ã¤ãªãæœ€çŸ­ã®é“ã®é•·ã•ã‚’æ±‚ã‚ã‚‹</h3><p>step1 ã§æ±‚ã‚ãŸæ‰€åœ¨(ç·¯åº¦çµŒåº¦)ã«ã¤ã„ã¦ã€å…¨ã¦ã®åœ°ç‚¹ã‚’çµã¶æœ€çŸ­ã®é“ã®é•·ã•ã‚’ Google Map API ã‚’ç”¨ã„ã¦å–å¾—ã™ã‚‹äº‹ã¯ç¾å®Ÿçš„ã§ã‚ã‚Šã¾ã›ã‚“ã€‚æœ‰æ–™ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ãŸã‚ã€é‡‘é¡çš„ã«ã‚‚ãªã‚‹ã¹ãå°‘ãªã„å–å¾—å›æ•°ã§å¦¥å½“ãªçµæœã‚’å¾—ãŸã„ã§ã™ã€‚</p><p>å®Ÿä¸–ç•Œã®ç‰¹ã«æ—¥æœ¬ã§ã¯ã€è¨ªå•å…ˆã¾ã§ã®æœ€çŸ­è·¯ã®é•·ã•ã¯2ç‚¹é–“ã®ç›´ç·šè·é›¢ã«æ¯”ä¾‹ã™ã‚‹ã¨æœŸå¾…ã§ãã¾ã™ã€‚ãã“ã§ã€ã©ã®ç¨‹åº¦ã®ç²¾åº¦ã§è¿‘ä¼¼ã§ãã‚‹ã®ã‹ã€å®Ÿéš›ã«ä¸‹å›³ã§ç¤ºã—ãŸã‚¨ãƒªã‚¢ã«ãƒ©ãƒ³ãƒ€ãƒ ã«ç‚¹ã‚’æ‰“ã¡ã€å„2ç‚¹é–“ã‚’çµã¶è·é›¢ã¨ã€Google Map API ã«ã‚ˆã‚‹å®Ÿéš›ã®æœ€çŸ­è·¯ã®é•·ã•ã®èª¤å·®ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p><img src="/images/20220722a/plot.png" alt="" width="640" height="640" loading="lazy"><p>åˆã‚ã«æ‰“ã£ãŸ20ç‚¹ã‹ã‚‰ã€å„2ç‚¹ã®ç›´ç·šè·é›¢(ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰è·é›¢)ã¨Google Map API ã«ã‚ˆã‚‹å®Ÿéš›ã®æœ€çŸ­è·¯ã®é•·ã•ã‚’æ¯”è¼ƒã—ã€æœ€å°äºŒä¹—æ³•ã«ã¦èª¤å·®æœ€å°ã¨ãªã‚‹ç›¸é–¢ä¿‚æ•° <em>C</em> ã‚’æ±‚ã‚ã¾ã™ã€‚</p><p>å†åº¦ãƒ©ãƒ³ãƒ€ãƒ ã«20ç‚¹æ‰“ã¡ã€ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰è·é›¢ã«ç›¸é–¢ä¿‚æ•° <em>C</em> ã‚’æ›¸ã‘ãŸå€¤ã¨ã€Google Map API ã«ã‚ˆã‚‹å®Ÿéš›ã®æœ€çŸ­è·¯ã®é•·ã•ã‚’æ¯”è¼ƒã—ãŸã‚°ãƒ©ãƒ•ãŒä¸‹å›³ã§ã™ã€‚è¿‘è·é›¢ã®å ´åˆã¯èª¤å·®ãŒå¤§ãã„ã§ã™ãŒã€ãã‚Œä»¥å¤–ã¯1.2ï½0.8å€ã«åã¾ã£ã¦ãŠã‚Šã€ãã‚Œã»ã©æ‚ªããªã„ç²¾åº¦ã§ã™ã€‚</p><img src="/images/20220722a/2.png" alt="" width="589" height="232" loading="lazy"><p>ä¸Šè¨˜çµæœã‚ˆã‚Šã€ç·¯åº¦çµŒåº¦ã‹ã‚‰æ±‚ã‚ã‚‰ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰è·é›¢ã«ã¦çµŒè·¯ã®å€™è£œã‚’æ¢ç´¢ã—ã€ä¸Šä½æ•°ç‚¹ã®å€™è£œã®ã¿å®Ÿéš›ã« Google Map API ã«ã¦æœ€çŸ­è·¯ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã€APIä½¿ç”¨é »åº¦ã‚’è½ã¨ã—ã¤ã¤ã€ãã‚Œãªã‚Šã®è§£ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>æœ¬è¨˜äº‹ã§ã¯ä½æ‰€æƒ…å ±ã‹ã‚‰çµŒè·¯ã‚’æ¢ç´¢ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€ä½æ‰€ã®åŠ å·¥ã«ã‚ˆã‚‹æ‰€åœ¨ç‰¹å®šæˆåŠŸç‡ã®å‘ä¸Šã¨åœ°ç‚¹é–“ã®æœ€çŸ­è·¯ã®é•·ã•ã‚’è¿‘ä¼¼ã™ã‚‹ã€â€ãã“ãã“â€ãªæ–¹æ³•ã«ã¤ã„ã¦ã€å®Ÿéš›ã® Google Map API ã®å‹•ä½œã‚’äº¤ãˆã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚ä¸–ã®ä¸­ã«ã¯ã™ã§ã«å„ªã‚ŒãŸãƒ«ãƒ¼ãƒˆæœ€é©åŒ–ã‚µãƒ¼ãƒ“ã‚¹ãŒå­˜åœ¨ã™ã‚‹ä¸€æ–¹ã€åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã‚„ã‚³ã‚¹ãƒˆå¯¾åŠ¹æœã«åˆè‡´ã—ãªã„å ´é¢ã‚‚å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚ãã®ã‚ˆã†ãªå ´åˆã«ç°¡æ˜“ãªå‡¦ç†ã¨å®‰ä¾¡ãªæ±ç”¨ã‚µãƒ¼ãƒ“ã‚¹ã®çµ„ã¿åˆã‚ã›ã§ã¯ã€ã©ã®ç¨‹åº¦ã®ç²¾åº¦ã§å®Ÿç¾ã§ãã‚‹ã‹ã®æŒ‡æ¨™ã¨ãªã‚Œã°å¹¸ã„ã§ã™ã€‚</p><p>æ¬¡ã¯å²¸ä¸‹ã•ã‚“ã«ã‚ˆã‚‹<a href="/articles/20220725a/">Bluetoothã§ä½ç½®æ¨å®š</a> ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h2&gt;&lt;p&gt;SAIG(Strategic AI Group)ã®å¡šæœ¬ã§ã™ã€‚&lt;a</summary>
        
      
    
    
    
    <category term="DataScience" scheme="https://future-architect.github.io/categories/DataScience/"/>
    
    
    <category term="åœ°å›³" scheme="https://future-architect.github.io/tags/%E5%9C%B0%E5%9B%B3/"/>
    
    <category term="åˆå¿ƒè€…" scheme="https://future-architect.github.io/tags/%E5%88%9D%E5%BF%83%E8%80%85/"/>
    
    <category term="GoogleMap" scheme="https://future-architect.github.io/tags/GoogleMap/"/>
    
  </entry>
  
  <entry>
    <title>Software Design 2022å¹´8æœˆå· åŸ·ç­†è¨˜</title>
    <link href="https://future-architect.github.io/articles/20220721b/"/>
    <id>https://future-architect.github.io/articles/20220721b/</id>
    <published>2022-07-20T15:00:01.000Z</published>
    <updated>2022-07-21T05:18:58.948Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220721b/TH320_642208.jpg" alt="" width="320" height="452"><h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>TIG DX Unitã®æ­¦ç”°ã§ã™ã€‚</p><p>å…ˆæ—¥ï¼ˆ2022å¹´7æœˆ15æ—¥ï¼‰ç™ºå£²ã•ã‚ŒãŸæŠ€è¡“è©•è«–ç¤¾ã® <a href="https://gihyo.jp/magazine/SD/archive/2022/202208">Software Design 2022å¹´ 8æœˆå·</a> ã«å¯„ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚<br>ã¾ãšã¯ã˜ã‚ã«ã€ã“ã®ã‚ˆã†ãªå¯„ç¨¿ã®æ©Ÿä¼šã‚’ãã ã•ã£ãŸæŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã€…ã«ã¯ã€å¿ƒã‹ã‚‰ãŠç¤¼ç”³ã—ä¸Šã’ã¾ã™ã€‚</p><p>å…·ä½“çš„ã«ã¯ã€ç¬¬1ç‰¹é›†ã®ã€ŒWeb APIã®ä½œã‚Šæ–¹ã€ã¨ã„ã†4ç« æ§‹æˆã®ç‰¹é›†ã®ã€Œç¬¬4ç«  OpenAPIã‚’ä½¿ã£ãŸWeb APIé–‹ç™ºã®å®Ÿéš›ã€ã¨ã„ã†éƒ¨åˆ†ã‚’ã€ç§ã¨å¼Šç¤¾ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®å®®å´ã€å¤§å²©ã®3åã§æ‹…å½“ã„ãŸã—ã¾ã—ãŸã€‚</p><p>3åã¨ã‚‚æŠ€è¡“å•†æ¥­èªŒã¸ã®å¯„ç¨¿ã¯ä»Šå›ãŒåˆã‚ã¦ã¨ãªã‚Šã¾ã™ãŒã€åŸ·ç­†ã‚’é€²ã‚ã‚‹ä¸­ã§è‹¦åŠ´ã—ãŸéƒ¨åˆ†ã‚„ã€æ„è­˜ã—ãŸéƒ¨åˆ†ãªã©æœ¬è¨˜äº‹ã§ãŠä¼ãˆã§ãã‚Œã°ã¨æ€ã„ã¾ã™ã€‚</p><h2 id="Software-Design-ã¨ã¯"><a href="#Software-Design-ã¨ã¯" class="headerlink" title="Software Design ã¨ã¯"></a>Software Design ã¨ã¯</h2><p>æŠ€è¡“è©•è«–ç¤¾ãŒå‡ºç‰ˆã—ã¦ã„ã‚‹æœˆåˆŠã®æŠ€è¡“æƒ…å ±èªŒã¨ãªã‚Šã¾ã™ã€‚<br>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢æ¥­ç•Œã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¨ã£ã¦ã¯èª¬æ˜ä¸è¦ã¨è¨€ã£ã¦ã„ã„ãã‚‰ã„é‰„æ¿ã§ã™ã€‚</p><p>æ¯æœˆæ§˜ã€…ãªãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ç‰¹é›†ã‚’çµ„ã‚“ã§å–ã‚Šæ‰±ã£ã¦ãŠã‚Šã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã ã‘ã§ãªãã€OSã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¾ã§ã€ãã®å†…å®¹ã¯å¤šå²ã«æ¸¡ã‚Šã¾ã™ã€‚<br>å…¥é–€è€…ãƒ»åˆå¿ƒè€…å‘ã‘ã®å†…å®¹ã‹ã‚‰å®Ÿè·µçš„ãªå†…å®¹ã‚‚å¤šãå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€æ–°äººã‹ã‚‰ãƒ™ãƒ†ãƒ©ãƒ³ã¾ã§ã‚ã‚‰ã‚†ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãŠã™ã™ã‚ã§ãã‚‹é›‘èªŒã§ã™ã€‚</p><h2 id="åŸ·ç­†ã®ãã£ã‹ã‘"><a href="#åŸ·ç­†ã®ãã£ã‹ã‘" class="headerlink" title="åŸ·ç­†ã®ãã£ã‹ã‘"></a>åŸ·ç­†ã®ãã£ã‹ã‘</h2><p>Future Tech Blogã§OpenAPIã‚’ãƒ†ãƒ¼ãƒã¨ã—ã¦å–ã‚Šæ‰±ã£ãŸè¨˜äº‹ã‚’è¦‹ã¦ã„ãŸã ãã€OpenAPIã‚’æ´»ç”¨ã—ãŸé–‹ç™ºäº‹ä¾‹ã‚’å–ã‚Šä¸Šã’ãŸã„ã¨ã®ã“ã¨ã§ä¼šç¤¾å®›ã«ä¾é ¼ã‚’ã„ãŸã ãã¾ã—ãŸã€‚</p><p>è‡ªç¤¾ã®ãƒ–ãƒ­ã‚°ãŒãã£ã‹ã‘ã¨ãªã£ã¦ã“ã®ã‚ˆã†ãªä¾é ¼ãŒãã‚‹ã®ã¯å¤§å¤‰ã‚ã‚ŠãŒãŸã„ã“ã¨ã§ã™ã­ã€‚<br>ã“ã‚Œã‹ã‚‰ã‚‚ç©æ¥µçš„ã«ç¤¾å¤–ã«æƒ…å ±ã‚’ç™ºä¿¡ã—ã¦ã„ã“ã†ã¨ã„ã†ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚‚ãªã‚Šã¾ã™ã€‚</p><p>ãã£ã‹ã‘ã¨ãªã£ãŸè¨˜äº‹ã‚’å«ã‚ã€OpenAPIã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ã‚‹è¨˜äº‹ã‚’ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã®ã§æ°—ã«ãªã‚‹æ–¹ã¯ãœã²èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚</p><ul><li><a href="https://future-architect.github.io/articles/20220622b/">Open API Specification 3.1ã¨æ°—ã«ãªã‚‹ä»•æ§˜ç­–å®š</a></li><li><a href="https://future-architect.github.io/articles/20191008/">æœ¬å½“ã«ä½¿ã£ã¦ã‚ˆã‹ã£ãŸOpenAPI (Swagger) ãƒ„ãƒ¼ãƒ«</a></li><li><a href="https://future-architect.github.io/articles/20211028b/">OpenAPIã«ãŠã‘ã‚‹undefinedã¨nullã®è¨­è¨ˆ</a></li><li><a href="https://future-architect.github.io/articles/20210427c/">Goã«ãŠã‘ã‚‹APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®Web APIé–‹ç™ºã«ã¤ã„ã¦ç™»å£‡ã—ã¾ã—ãŸ</a></li><li><a href="https://future-architect.github.io/articles/20210410/">OpenAPIã‹ã‚‰ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒã‚’å»ºã¦ã‚‰ã‚Œã‚‹Prismã‚’å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å°å…¥ã—ã¦ã¿ãŸ</a></li><li><a href="https://future-architect.github.io/articles/20211028b/">Flutter Swaggerçµ±åˆ</a></li></ul><h2 id="åŸ·ç­†æ–‡é‡"><a href="#åŸ·ç­†æ–‡é‡" class="headerlink" title="åŸ·ç­†æ–‡é‡"></a>åŸ·ç­†æ–‡é‡</h2><p>8ãƒšãƒ¼ã‚¸ç¨‹åº¦ï¼ˆ1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šæœ€å¤§1,680å­—ï¼‰ã®æ–‡é‡ã§ä¾é ¼ã‚’ã„ãŸã ãã€çµæœã¨ã—ã¦ã¯11ãƒšãƒ¼ã‚¸ã€ç´„15,000å­—ã¨ãªã‚Šã¾ã—ãŸã€‚</p><h2 id="åŸ·ç­†ã®ãƒ•ãƒ­ãƒ¼"><a href="#åŸ·ç­†ã®ãƒ•ãƒ­ãƒ¼" class="headerlink" title="åŸ·ç­†ã®ãƒ•ãƒ­ãƒ¼"></a>åŸ·ç­†ã®ãƒ•ãƒ­ãƒ¼</h2><p>åŸ·ç­†ä½œæ¥­ã¯ãŠãŠã‚ˆãä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§é€²ã‚ã¦ã„ãå½¢ã¨ãªã‚Šã¾ã—ãŸã€‚<br>é»’å¡—ã‚Šã—ã¦ã„ã‚‹çŸ¢ç¾½ã®ã€ŒåŸç¨¿ä½œæˆã€ã¨ã€ŒèªŒé¢ä¿®æ­£ã€ãŒå¼Šç¤¾ã®æ‹…å½“ã¨ãªã‚Šã¾ã™ã€‚</p><img src="/images/20220721b/Schedule.png" alt="Schedule.png" width="1162" height="202" loading="lazy"><p>åŸç¨¿ã®ä½œæˆæœŸé–“ã¯ãŠãŠã‚ˆã3é€±é–“ç¨‹åº¦ã¨ã„ã†ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã—ãŸã€‚<br>ãŠãã‚‰ãé€šå¸¸ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨æ¯”ã¹ã‚‹ã¨è‹¥å¹²ã‚¿ã‚¤ãƒˆãªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä¾é ¼ã„ãŸã ã„ãŸ8ãƒšãƒ¼ã‚¸ã¨ã„ã†æ–‡é‡ã‚’è€ƒãˆã‚‹ã¨ç„¡ç†ã®ãªã„ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã ã¨æ€ã„ã¾ã™ã€‚<br>ä½•ã‚ˆã‚ŠæŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã«ã¯ã€æˆ‘ã€…ã®æœ¬æ¥­ã®çŠ¶æ³ã‚‚è€ƒæ…®ã—ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¤ã„ã¦å¤§å¤‰ä¸å¯§ã«ãŠæ°—é£ã„ã„ãŸã ãã€ã¨ã¦ã‚‚æ„Ÿè¬ã—ã¦ãŠã‚Šã¾ã™ã€‚</p><p>ä»¥ä¸‹ã€ã€ŒåŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰æ‰“åˆã›ã¾ã§ã®é€²ã‚æ–¹ã€ã€ŒåŸç¨¿ä½œæˆã®é€²ã‚æ–¹ã€ã€ŒèªŒé¢ä¿®æ­£ã®é€²ã‚æ–¹ã€ã¨ã„ã†3éƒ¨æ§‹æˆã§è©³ç´°ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚</p><h3 id="åŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰æ‰“åˆã›ã¾ã§ã®é€²ã‚æ–¹"><a href="#åŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰æ‰“åˆã›ã¾ã§ã®é€²ã‚æ–¹" class="headerlink" title="åŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰æ‰“åˆã›ã¾ã§ã®é€²ã‚æ–¹"></a>åŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰æ‰“åˆã›ã¾ã§ã®é€²ã‚æ–¹</h3><p>åŸ·ç­†ä¾é ¼ã‚’å—ã‘ã¦ã‹ã‚‰ã€ã¾ãšã¯ç¤¾å†…ã§OpenAPIé–¢é€£ã®ãƒ–ãƒ­ã‚°ã‚’æŠ•ç¨¿ã—ã¦ã„ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ã¯ã˜ã‚ã¨ã—ã¦ãƒ•ãƒ©ãƒƒãƒˆã«åŸ·ç­†è€…ã‚’å‹Ÿã‚Šã¾ã—ãŸã€‚<br>8ãƒšãƒ¼ã‚¸ã¨ã„ã†æ–‡é‡ã‚’è€ƒæ…®ã™ã‚‹ã¨1-2åãŒé©æ­£äººæ•°ã‹ãªã¨ã„ã†ã¨ã“ã‚ã§ã™ãŒã€ã¡ã‚‡ã†ã©ä¸­å …ã€è‹¥æ‰‹ã‹ã‚‰ãã‚Œãã‚Œ1åæ‰‹ãŒæŒ™ãŒã£ãŸã®ã§ã€ãƒ™ãƒ†ãƒ©ãƒ³ã®ç§ç‡ã„ã‚‹3åã§åŸ·ç­†ã•ã›ã¦ã„ãŸã ãã“ã¨ã«ã—ã¾ã—ãŸã€‚</p><p>Software Designã¯å…¥é–€è€…ã‹ã‚‰çµŒé¨“è€…ã¾ã§å¹…åºƒã„èª­è€…å±¤ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã®ã§ã€ãƒ™ãƒ†ãƒ©ãƒ³ã€ä¸­å …ã€è‹¥æ‰‹ã®ãã‚Œãã‚Œã®è¦–ç‚¹ã§å†…å®¹ã‚’ç²¾æŸ»ã§ããŸã®ã¯çµæœçš„ã«è‰¯ã‹ã£ãŸã®ã§ã¯ãªã„ã‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚</p><h3 id="åŸç¨¿ä½œæˆã®é€²ã‚æ–¹"><a href="#åŸç¨¿ä½œæˆã®é€²ã‚æ–¹" class="headerlink" title="åŸç¨¿ä½œæˆã®é€²ã‚æ–¹"></a>åŸç¨¿ä½œæˆã®é€²ã‚æ–¹</h3><h4 id="è¦‹å‡ºã—ã®ä½œæˆ"><a href="#è¦‹å‡ºã—ã®ä½œæˆ" class="headerlink" title="è¦‹å‡ºã—ã®ä½œæˆ"></a>è¦‹å‡ºã—ã®ä½œæˆ</h4><p>ã¾ãšã¯è¦‹å‡ºã—ã®ä½œæˆã§ã™ã€‚<br>æŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã‹ã‚‰ã„ãŸã ã„ãŸå¤§æ ã®è¦‹å‡ºã—æ¡ˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€3åã§ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã«ã¤ã„ã¦å©ãã‚’æŒã¡å¯„ã‚Šãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã—ã¦æ±ºå®šã—ã¾ã—ãŸã€‚<br>æ„è­˜ã—ãŸã®ã¯ã€ä¾é ¼ã‚’å—ã‘ãŸ4ç« ã®ä¸­ã ã‘ã§ãªãã€1ç«  ~ 3ç« ã®å‰ç« ã®è¦‹å‡ºã—ã‚’è¸ã¾ãˆãŸä¸Šã§ã€æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ã‚‹ã‹ã€é‡è¤‡ã™ã‚‹éƒ¨åˆ†ãŒãªã„ã‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚å¹¸ã„ã«ã‚‚è¦‹å‡ºã—æ¡ˆã‚’è€ƒãˆã‚‹éš›ã«ã€å‰ç« ã®è¦‹å‡ºã—æ¡ˆã‚’å…±æœ‰ã„ãŸã ã‘ãŸã®ã§ã“ã®è¾ºã‚Šã¯ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><p>ã¾ãŸæŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã«è¦‹å‡ºã—ã‚’æå‡ºã™ã‚‹éš›ã¯ã€è¦‹å‡ºã—ã ã‘ã§ãªãã€ã©ã®ã‚ˆã†ãªå†…å®¹ã‚’ã©ã®ç¨‹åº¦ã®æ–‡é‡è¨˜è¼‰ã™ã‚‹äºˆå®šã‹ã‚’å¯èƒ½ãªé™ã‚Šå…±æœ‰ã™ã‚‹ã“ã¨ã§ã€æ‰‹æˆ»ã‚Šã®ãƒªã‚¹ã‚¯ã‚’æ¥µåŠ›å°ã•ãã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p><p>ã“ã†ã—ã¦ç´„3æ—¥ç¨‹åº¦ã§è¦‹å‡ºã—ã®ç¢ºå®šã«è‡³ã‚Šã¾ã—ãŸã€‚</p><h4 id="åˆ†æ‹…ãƒ»å†…éƒ¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ±ºå®š"><a href="#åˆ†æ‹…ãƒ»å†…éƒ¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ±ºå®š" class="headerlink" title="åˆ†æ‹…ãƒ»å†…éƒ¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ±ºå®š"></a>åˆ†æ‹…ãƒ»å†…éƒ¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ±ºå®š</h4><p>è¦‹å‡ºã—ãŒæ±ºã¾ã£ãŸã‚‰ã€æ¬¡ã«èª°ãŒã©ã®éƒ¨åˆ†ã‚’åŸ·ç­†ã™ã‚‹ã‹åˆ†æ‹…ã‚’æ±ºå®šã—ã¾ã™ã€‚<br>ä»Šå›ã¯è¦‹å‡ºã—åˆ¥ã«ãã‚Œãã‚ŒçŸ¥è­˜ã‚„å®Ÿå‹™çµŒé¨“ã®ã‚ã‚‹é ˜åŸŸã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ãƒ–ãƒ­ã‚°ãªã©ã®åŸ·ç­†çµŒé¨“å€¤ã‚„æ¥­å‹™çŠ¶æ³ãªã©ã‚‚è¸ã¾ãˆã¦åˆ†æ‹…ã‚’æ±ºå®šã—ã¾ã—ãŸã€‚</p><p>å†…éƒ¨ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ã¯ã€åŸç¨¿ã®ç· ã‚åˆ‡ã‚Šã‚’ã‚´ãƒ¼ãƒ«ã¨ã—ã¦ã€1é€±é–“ã§å„è‡ªæ‹…å½“éƒ¨åˆ†ã‚’åŸ·ç­†ã€1é€±é–“ã§ãƒãƒ¼ã‚¸åŠã³å…¨ä½“ã®æ¨æ•²ã€æ®‹ã‚Š1é€±é–“ã‚’ãƒãƒƒãƒ•ã‚¡ã¨ã—ã¦çµ„ã¿ç«‹ã¦ã¾ã—ãŸã€‚<br>å€‹äººã§ã®åŸ·ç­†ã¨ç•°ãªã‚Šã€è¤‡æ•°äººã§ã®åŸ·ç­†ã¯ã€å„æ‹…å½“éƒ¨åˆ†ã‚’ãƒãƒ¼ã‚¸ã—ã¦ã‹ã‚‰å…¨ä½“ã¨ã—ã¦æ–‡ç« ã®ã‚†ã‚ŒãŒãªã„ã‹ã€æ•´åˆæ€§ãŒã¨ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã®ã«æ™‚é–“ã‚’è¦ã™ã‚‹ãŸã‚ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä½™è£•ã‚’æŒãŸã›ã¦ãŠã„ã¦çµæœçš„ã«æ­£è§£ã§ã—ãŸã€‚</p><p>TIPsã§ã™ãŒã€æ¥­å‹™å¤–ã®ä½œæ¥­ã¨ã—ã¦åœŸæ—¥ã«ã‚†ã£ãã‚Šæ™‚é–“ã‚’ã¨ã£ã¦ä½œæ¥­ã‚’ã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã¨æ€ã†ã®ã§ã€é€²æ—ç¢ºèªãªã©ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯æœˆæ›œæ—¥ã«ã—ã¦ãŠãã¨åŠ¹æœçš„ã§ã™ã€‚</p><h4 id="å€‹åˆ¥åŸç¨¿åŸ·ç­†"><a href="#å€‹åˆ¥åŸç¨¿åŸ·ç­†" class="headerlink" title="å€‹åˆ¥åŸç¨¿åŸ·ç­†"></a>å€‹åˆ¥åŸç¨¿åŸ·ç­†</h4><p>åˆ†æ‹…ã¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒæ±ºã¾ã£ãŸã‚‰å„è‡ªåŸ·ç­†ä½œæ¥­ã«ç§»ã‚Šã¾ã™ã€‚<br>åŸ·ç­†ã®ãƒ„ãƒ¼ãƒ«ã¯åŸºæœ¬çš„ã«è‡ªç”±ã§ã™ãŒã€å…¨å“¡ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«æ…£ã‚Œè¦ªã—ã‚“ã§ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€Qiitaã®é™å®šå…±æœ‰æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã§ä½œæˆã—ãŸè¨˜äº‹ã‚’å…±æœ‰ã™ã‚‹å½¢ã‚’å–ã‚Šã¾ã—ãŸã€‚<br>å„è‡ªãŒä½œæˆã—ãŸåŸç¨¿ã®ãƒãƒ¼ã‚¸ä½œæ¥­ã¯ã€ç§ãŒæ‰‹ä½œæ¥­ã§è¡Œã„ã¾ã—ãŸãŒã€æ–‡é‡ã‚„äººæ•°ãŒã“ã‚Œã‚ˆã‚Šã‚‚å¤šããªã‚‹å ´åˆã¯ã€å…±åŒç·¨é›†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚ï¼ˆã“ã®è¾ºã‚Šã¯å¼Šç¤¾å†…ã®äº‹æƒ…ã‚‚ã‚ã‚Šã€ä»Šå›ã¯åˆ©ç”¨ã‚’è¦‹é€ã‚Šã¾ã—ãŸã€‚ï¼‰</p><p>ä½œæˆã—ãŸè¨˜äº‹ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ç§ãŒä¸­å¿ƒã¨ãªã£ã¦è¡Œã„ã¾ã—ãŸãŒã€ãã®éš›ã«æ„è­˜ã—ãŸã®ã¯ä¸‹è¨˜ã®4ç‚¹ã§ã™ã€‚</p><ul><li><strong>ç”¨èªã®ä½¿ã„åˆ†ã‘æ–¹ã‚’æ˜ç¢ºã«ã—ã€è¡¨è¨˜ã‚†ã‚Œã‚’ãªãã™</strong><br>OpenAPIã«é–¢é€£ã™ã‚‹ç”¨èªã¯ã„ãã¤ã‹ã‚ã‚Šï¼ˆOpenAPI, OAS, OpenAPIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ, OpenAPIå®šç¾©ãªã©ï¼‰å…¨ä½“ã¨ã—ã¦ã©ã®ã‚ˆã†ãªæ„å›³ã§ç”¨èªã‚’ä½¿ã„åˆ†ã‘ã‚‹ã®ã‹ã‚’å†…éƒ¨ã§èªè­˜ã‚’åˆã‚ã›ã€çµ±ä¸€ã—ã¾ã—ãŸã€‚</li><li><strong>ã‚„ã£ã¦ã¿ãŸç³»ã®å†…å®¹ã«çµ‚å§‹ã—ã¦ã„ãªã„ã‹</strong><br>åŸ·ç­†ãƒ†ãƒ¼ãƒãŒã€ŒOpenAPIã‚’ä½¿ã£ãŸWeb APIé–‹ç™ºã®å®Ÿéš›ã€ã¨ã„ã†ã“ã¨ã§ã€OpenAPIé–¢é€£ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ãŸè¨­è¨ˆæ‰‹æ³•ã‚„é–‹ç™ºæ‰‹æ³•ã‚’ç´¹ä»‹ã™ã‚‹å½¢ã«ãªã‚‹ã®ã§ã™ãŒã€ãƒ„ãƒ¼ãƒ«ã®åˆ©ç”¨æ‰‹é †ãªã©ã¯æ¥µåŠ›ãƒ©ã‚¤ãƒˆã«ã—ã€å†…å®¹ã¨ã—ã¦ã¯è‹¦åŠ´ç‚¹ã‚„å·¥å¤«ç‚¹ãŒç››ã‚Šè¾¼ã¾ã‚ŒãŸç¾å ´æ„Ÿã®å¼·ã„å†…å®¹ã‚’ç››ã‚Šè¾¼ã‚ã‚‹ã‚ˆã†æ„è­˜ã—ã¾ã—ãŸã€‚</li><li><strong>æ–‡é‡ã‚’å‰Šã‚‹ã®ã¯å¾Œå›ã—</strong><br>äº‹å‰ã«è¦‹å‡ºã—å˜ä½ã§ãŠãŠã‚ˆãã®æ–‡é‡ã¯å®šã‚ã¦ã„ã¾ã™ãŒã€æ–‡ç« ã‚’å‰Šã‚‹ä½œæ¥­ã¯å…¨ä½“ã‚’ãƒãƒ¼ã‚¸ã—ãŸå¾Œã®æ®µéšã¨ã—ã€å€‹åˆ¥ã«åŸç¨¿ã‚’æ›¸ãéš›ã«ã¯ç„¡ç†ã«æ–‡ç« ã‚’å‰Šã‚Šã™ããªã„ã“ã¨ã‚’å…¨å“¡ã§æ„è­˜ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚<br>ç†ç”±ã¨ã—ã¦ã¯ã€åˆã‚ã‹ã‚‰æ–‡ç« ã‚’å‰Šã£ã¦ã—ã¾ã†ã¨å„è¦‹å‡ºã—ã”ã¨ã®å†…å®¹ãŒæº€éãªãè–„ããªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã€å…¨ä½“ã¨ã—ã¦ã¿ãŸæ™‚ã«ãƒ¡ãƒªãƒãƒªã®ãªã„è¨˜äº‹ã«ãªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ã“ã‚Œã‚’é¿ã‘ã‚‹ã“ã¨ã‚’æ„å›³ã—ã¦ã„ã¾ã™ã€‚</li><li><strong>ä»–ç¤¾ã®æ¨©åˆ©ã‚’ä¾µå®³ã™ã‚‹ã‚ˆã†ãªå†…å®¹ãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹</strong><br>æ–‡ç« ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å¼•ç”¨ã™ã‚‹å ´åˆã¯ã€é©åˆ‡ã«è¡Œã‚ã‚Œã¦ã„ã‚‹ã‹ã€‚ç‰¹ã«å›³ã‚’æŒ¿å…¥ã™ã‚‹å ´åˆã«ã€åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚„ç”»åƒãªã©è‘—ä½œæ¨©é•åã¨ãªã‚‹ã‚‚ã®ãŒãªã„ã‹ã€ã‚’å…¥å¿µã«ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ãŸã€‚ã‚¢ã‚¤ã‚³ãƒ³ã‚„ç”»åƒã«ã¤ã„ã¦ã¯å•†ç”¨åˆ©ç”¨å¯èƒ½ãªã‚‚ã®ã§ã‚ã£ã¦ã‚‚ã€è‘—ä½œæ¨©è¡¨ç¤ºãŒç¾©å‹™ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã®ã§ã€ã“ã®è¾ºã‚Šã¯è¦æ³¨æ„ã§ã™ã€‚<br>åŸç¨¿ã®å›³ã«ã¤ã„ã¦ã¯æå‡ºå¾Œã«æŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã§æ”¹ã‚ã¦ä½œå›³ã™ã‚‹å½¢ã«ãªã‚‹ãŸã‚ã€æœ€çµ‚çš„ã«ã¯å•é¡Œã¯ç™ºç”Ÿã—ãªã„ã¨æ€ã‚ã‚Œã¾ã™ãŒã€æˆ‘ã€…ã¨ã—ã¦ã¯åŸç¨¿ã®æ®µéšã‹ã‚‰ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ã§çµ±ä¸€ã™ã‚‹ã‚ˆã†ã«æ„è­˜ã—ã¾ã—ãŸã€‚</li></ul><p>ã“ã®ã‚ˆã†ãªã“ã¨ã‚’æ„è­˜ã—ãªãŒã‚‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¦ã„ã¦ã€ç§ãŒå¸¸ã€…æ€ã†ã®ã¯ã€é­‚è¾¼ã‚ã¦æ›¸ã„ãŸæ–‡ç« ã‚’æŒ‡æ‘˜ã™ã‚‹ã¨ã„ã†ã®ã¯ã€æŒ‡æ‘˜ã™ã‚‹æ–¹ã‚‚ã•ã‚Œã‚‹æ–¹ã‚‚ç²¾ç¥è¡›ç”Ÿä¸Šã‚ã¾ã‚Šè‰¯ã„ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>ç‰¹ã«æ˜ç¢ºãªèª¤ã‚Šã‚’æ­£ã™ã‚ˆã†ãªæŒ‡æ‘˜ã§ã‚ã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€æ–‡ç« ã®ãƒ†ã‚¤ã‚¹ãƒˆã‚„æ›¸ãã£ã·ã‚Šãªã©å€‹äººã®å¥½ã¿ãŒç¾ã‚Œã‚‹éƒ¨åˆ†ã«å¯¾ã—ã¦ã€å…¨ä½“ã§ã®çµ±ä¸€æ„Ÿã‚’æ„è­˜ã—ãŸçµæœã€æŒ‡æ‘˜ã‚’è¡Œã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¯ã€ã©ã†ã—ã¦ã‚‚ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã®æƒ³ã„ãŒå¼·ããªã£ã¦ã—ã¾ã†å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚<br>ã“ã®è¾ºã‚Šã¯ã€è‡ªåˆ†è‡ªèº«ã®è€ƒãˆã‚„æƒ³ã„ã‚’æ˜ç¢ºã«ã—ãŸä¸Šã§ã€åŸ·ç­†è€…æœ¬äººã®æƒ³ã„ã‚‚æœ€å¤§é™å°Šé‡ã—ã¤ã¤ä¸å¯§ã«ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã‚ŠãªãŒã‚‰ã™ã‚Šåˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½ä¸‹ã•ã›ãªã„ã‚ˆã†ã‚±ã‚¢ã—ãªãŒã‚‰é€²ã‚ã¦ã„ãã“ã¨ãŒå¤§åˆ‡ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><h4 id="å€‹åˆ¥åŸç¨¿ã®ãƒãƒ¼ã‚¸ãƒ»å…¨ä½“æ¨æ•²"><a href="#å€‹åˆ¥åŸç¨¿ã®ãƒãƒ¼ã‚¸ãƒ»å…¨ä½“æ¨æ•²" class="headerlink" title="å€‹åˆ¥åŸç¨¿ã®ãƒãƒ¼ã‚¸ãƒ»å…¨ä½“æ¨æ•²"></a>å€‹åˆ¥åŸç¨¿ã®ãƒãƒ¼ã‚¸ãƒ»å…¨ä½“æ¨æ•²</h4><p>å€‹ã€…ã®åŸç¨¿ãŒä»•ä¸ŠãŒã£ãŸã‚‰ã€å…¨ä½“ã¨ã—ã¦1ã¤ã®åŸç¨¿ã«ãƒãƒ¼ã‚¸ã—ãŸä¸Šã§æ¨æ•²ã‚’è¡Œã„ã¾ã™ã€‚<br>ã“ã®æ®µéšã§æ„è­˜ã—ãŸã®ã¯ã€ãªã‚‹ã¹ãæ—©ã‚ã«æŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã«ãƒ‰ãƒ©ãƒ•ãƒˆã®åŸç¨¿ã‚’å…±æœ‰ã—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã„ãŸã ãã“ã¨ã§ã™ã€‚<br>ä»Šå›ã¯å®ŒæˆåŸç¨¿ã‚’æå‡ºã™ã‚‹ã¾ã§ã«ã€å‰åŠéƒ¨ã®ãƒ‰ãƒ©ãƒ•ãƒˆã€å¾ŒåŠéƒ¨ã®ãƒ‰ãƒ©ãƒ•ãƒˆã®2å›ã«åˆ†ã‘ã¦ãƒ‰ãƒ©ãƒ•ãƒˆã‚’å…±æœ‰ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><p>å®Ÿéš›ã®èªŒé¢ã«ã—ãŸéš›ã®ãƒšãƒ¼ã‚¸æ•°ã‚„ä»–ã®ç« ã¨ã®å†…å®¹ã®é‡è¤‡ã«ã¤ã„ã¦ã“ã®æ®µéšã§ç¢ºèªã§ãã‚‹ãŸã‚ã€ã“ã“ã§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã¨ã«å…¨ä½“åŸç¨¿ã‚’ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ã—ã¦ã„ãã¾ã™ã€‚<br>æœ€çµ‚çš„ã«ã¯11ãƒšãƒ¼ã‚¸ã®æ–‡é‡ã«ç€åœ°ã™ã‚‹å½¢ã¨ãªã‚Šã¾ã—ãŸãŒã€11ãƒšãƒ¼ã‚¸ã¨ã„ã†æ–‡é‡ã¯ã„ã–æ›¸ã„ã¦ã¿ã‚‹ã¨æ€ã£ãŸã‚ˆã‚Šå°‘ãªãã€å†…å®¹ãŒè–„ããªã‚‰ãªã„ã‚ˆã†æ–‡ç« ã‚’æ¿ƒç¸®ã—ã¦ã„ãä½œæ¥­ã¯æƒ³åƒã‚ˆã‚Šã‚‚å¤§å¤‰ã§ã™ã€‚</p><p>Software Designã¯ãƒšãƒ¼ã‚¸æ•°ã“ãè–„ã„ã‚‚ã®ã®ã€å†…å®¹ãŒæ¿ƒã„ã‚‚ã®ã«ãªã£ã¦ã„ã‚‹ã®ã¯ã€ä¸–ã®ä¸­ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒè©¦è¡ŒéŒ¯èª¤ã—ã¦ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’è©°ã‚è¾¼ã‚“ã§ã„ã‚‹è³œç‰©ãªã®ã ã¨æ°—ã¥ãã€æ”¹ã‚ã¦ç´ æ™´ã‚‰ã—ã„æŠ€è¡“èªŒã ã¨å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚</p><h3 id="èªŒé¢ä¿®æ­£ã®é€²ã‚æ–¹"><a href="#èªŒé¢ä¿®æ­£ã®é€²ã‚æ–¹" class="headerlink" title="èªŒé¢ä¿®æ­£ã®é€²ã‚æ–¹"></a>èªŒé¢ä¿®æ­£ã®é€²ã‚æ–¹</h3><p>åŸç¨¿ã‚’æå‡ºã—ãŸå¾Œã¯ã€æŠ€è¡“è©•è«–ç¤¾ã®æ–¹ã§ç·¨é›†ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒè¡Œã‚ã‚Œã€å®Œæˆã—ãŸèªŒé¢PDFãŒå…±æœ‰ã•ã‚Œã¾ã™ã€‚<br>ï¼ˆç§ã¯ç™ºå£²æ—¥ã‚ˆã‚Šã‚‚ã€èªŒé¢ã‚’ã¿ãŸã¨ããŒä¸€ç•ªãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã‚Šã¾ã—ãŸã€‚ï¼‰</p><p>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã®ãƒ–ãƒ­ã‚°ã§ã‚ã‚Œã°å¾Œã‹ã‚‰ä¿®æ­£ãŒã§ãã¾ã™ãŒã€ç´™åª’ä½“ã®é›‘èªŒã¯ãã‚ŒãŒã§ããªã„ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€æ–‡ç« ã®ãƒã‚§ãƒƒã‚¯ã¯ã„ã¤ã‚‚ã‚ˆã‚Šã‚‚æ™‚é–“ã‚’ã‹ã‘ã¦ã€åŸ·ç­†è€…å…¨å“¡ã§2å›ã€3å›ã¨è¡Œã„ã¾ã—ãŸã€‚</p><p>ç‰¹ã«èª¤å­—ãƒ»è„±å­—ã‚’ã¯ã˜ã‚ã¨ã—ã€åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ„ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯åˆã£ã¦ã„ã‚‹ã‹ã€ãƒªãƒ³ã‚¯ãŒé©åˆ‡ã‹ã©ã†ã‹ã€è¨˜è¼‰ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯å®Ÿéš›ã«å‹•ãã‚‚ã®ã«ãªã£ã¦ã„ã‚‹ã‹ã€ãªã©ç´°ã‹ã„éƒ¨åˆ†ã¾ã§ç¢ºèªã‚’æ€ ã‚‰ãªã„ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p><h3 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h3><p>ä»¥ä¸Šã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµŒã¦ã€ç„¡äº‹ Software Design 8æœˆå·ã®ç™ºå£²ã‚’è¦‹å±Šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚<br>é€šå¸¸æ›¸ã„ã¦ã„ã‚‹ãƒ–ãƒ­ã‚°ã¨ã¯ç•°ãªã‚Šã€è¤‡æ•°äººã§å”åŠ›ã—ãªãŒã‚‰ä½œã‚Šä¸Šã’ã¦ã„ããƒãƒ¼ãƒ æ„Ÿã§ã‚ã£ãŸã‚Šã€é™ã‚‰ã‚ŒãŸãƒšãƒ¼ã‚¸æ•°ã§ã®è¨˜è¼‰å†…å®¹ã®å–æ¨é¸æŠã§ã‚ã£ãŸã‚Šã€ã„ã¤ã‚‚ã¨ã¯é•ã†åˆºæ¿€ã‚’æ„Ÿã˜ãªãŒã‚‰ã€æ¥½ã—ãåŸ·ç­†ã‚’ã•ã›ã¦ã„ãŸã ãã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><p>å®Ÿéš›ã®å†…å®¹ã«ã¤ã„ã¦ã¯æœ¬è¨˜äº‹ã§ã¯è§¦ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€å®Ÿéš›ã®ç¾å ´ã§OpenAPIã‚’ä½¿ã£ã¦ã©ã®ã‚ˆã†ã«è¨­è¨ˆãƒ»é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆã‚’é€²ã‚ã¦ã„ã‚‹ã®ã‹ã€å…·ä½“çš„ãªäº‹ä¾‹ã¨ã¨ã‚‚ã«ç´¹ä»‹ã—ã¦ã„ã¾ã™ã®ã§ã€æ°—ã«ãªã‚‹æ–¹ã¯ãœã²æ‰‹ã«ã¨ã£ã¦ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚</p><p>ã¾ãŸä»Šå¾ŒåŸ·ç­†ã®æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€ãœã²ã¨ã‚‚ç©æ¥µçš„ã«é–¢ä¸ã•ã›ã¦ã„ãŸã ããŸã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã®ã§ã€å¼Šç¤¾ã®ãƒ–ãƒ­ã‚°ãªã©ã‚’è¦‹ã¦æ°—ã«ãªã£ãŸæ–¹ã¯ãœã²ãŠå£°ãŒã‘ã„ãŸã ã‘ã¾ã™ã¨å¹¸ã„ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220721b/TH320_642208.jpg&quot; alt=&quot;&quot; width=&quot;320&quot; height=&quot;452&quot;&gt;

&lt;h2 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="å‡ºç‰ˆ" scheme="https://future-architect.github.io/tags/%E5%87%BA%E7%89%88/"/>
    
    <category term="æ›¸ç±" scheme="https://future-architect.github.io/tags/%E6%9B%B8%E7%B1%8D/"/>
    
    <category term="OpenAPI" scheme="https://future-architect.github.io/tags/OpenAPI/"/>
    
    <category term="SoftwareDesign" scheme="https://future-architect.github.io/tags/SoftwareDesign/"/>
    
  </entry>
  
  <entry>
    <title>Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½</title>
    <link href="https://future-architect.github.io/articles/20220721a/"/>
    <id>https://future-architect.github.io/articles/20220721a/</id>
    <published>2022-07-20T15:00:00.000Z</published>
    <updated>2022-07-22T04:13:32.150Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220721a/Logo-redis.png" alt="" width="700" height="239"><p><a href="/articles/20220719a/">åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šã«é–¢ã™ã‚‹é€£è¼‰</a>ã®4æ—¥ç›®ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§ã™ã€‚æœ€åˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®åº§æ¨™ã‚’å–å¾—ã™ã‚‹APIã¨ã‹ã€IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰å ´æ‰€ã‚’æ¨å®šã™ã‚‹GeoIPã‚’ä½¿ã£ã¦ã€è¿‘ã„å ´æ‰€ã®äººã‚’æ¢ã™ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚‚ä½œã£ã¦ã¿ã‚ˆã†ã‹ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚Quad-Treeã¿ãŸã„ãªã‚²ãƒ¼ãƒ ã§ã‚ˆãã‚ã‚‹åº§æ¨™ç³»ã‚’åã‚ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ä½¿ã£ã¦ã€è¿‘ãã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’æ¢ã™æ©Ÿèƒ½ã¨ã‹ã‚’ä½œã‚ã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ãµã¨ã€Œåº§æ¨™ç³»ã‚’ãã®ã¾ã¾æ ¼ç´ã—ã¦æ¤œç´¢ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã‹ã‚ã‚Šãã†ã ãªã€ã¨æ€ã£ã¦èª¿ã¹ãŸã¨ã“ã‚RedisãŒãƒ’ãƒƒãƒˆã—ã¦æ¨ªé“ã«ãã‚Œã¦ã—ã¾ã£ãŸã®ã§ãã®ã¾ã¾æ¨ªé“ã‚’çªãé€²ã‚“ã§ã¿ã¾ã—ãŸã€‚</p><p>Redisã¯<a href="http://redis.shibu.jp/">2010å¹´ãã‚‰ã„ã«æœ‰å¿—ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¿»è¨³ã—ãŸã‚Š</a>ã—ãŸã‚Šã—ã¦ã€ãƒãƒ§ãƒƒãƒˆãƒ¯ã‚«ãƒ«ç¨‹åº¦ã§ã—ãŸãŒã€ä¹…ã€…ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦ã„ãŸã‚‰åº§æ¨™æƒ…å ±ã‚’ä¿æŒã—ãŸã‚Šæ¤œç´¢ã—ãŸã‚Šã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå¢—ãˆã¦ã„ã¾ã—ãŸã€‚ãã®è¾ºã‚Šã‚’å°‘ã—èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚</p><h1 id="Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½"><a href="#Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½" class="headerlink" title="Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½"></a>Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½</h1><p>Redisã®<a href="https://redis.io/commands/?group=geo">ã‚¸ã‚ªãƒ¡ãƒˆãƒªé–¢ä¿‚ã®ã‚³ãƒãƒ³ãƒ‰</a>ã¯10å€‹ã»ã©ã‚ã‚Šã¾ã™ã€‚</p><ul><li>GEOADD: åº§æ¨™ã¤ãã§ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç™»éŒ²</li><li>GEODIST: ç™»éŒ²ã—ãŸãƒ¡ãƒ³ãƒãƒ¼ã®è·é›¢ã‚’è¨ˆæ¸¬</li><li>GEOPOS: ç™»éŒ²ã—ãŸãƒ¡ãƒ³ãƒãƒ¼ã®åº§æ¨™ã‚’å–å¾—</li></ul><p>ãƒ¡ã‚¤ãƒ³ã®æ¤œç´¢æ©Ÿèƒ½ã¯ã“ã¡ã‚‰</p><ul><li>GEOSEARCH: æŒ‡å®šã®åº§æ¨™&#x2F;ãƒ¡ãƒ³ãƒãƒ¼ã‹ã‚‰ç¯„å›²å†…ï¼ˆçŸ©å½¢ã€ã‚‚ã—ãã¯åŠå¾„ï¼‰ã®ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ã‚’è¿”ã™</li></ul><p>ãƒ¡ã‚¤ãƒ³ã®æ¤œç´¢æ©Ÿèƒ½ã‚’ä¾¿åˆ©ã«ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã“ã¡ã‚‰</p><ul><li>GEOSEARCHSTORE: GEOSEARCHã®çµæœã‚’sorted setã«ä¿å­˜</li><li>GEORADIUS: GEOSEARCHã®åº§æ¨™â†’åŠå¾„è¨ˆç®—ç‰¹åŒ–ç‰ˆã€‚STOREã‚‚å¯èƒ½ã€‚</li><li>GEORADIUS_RO: GEOSEARCHã®åº§æ¨™â†’åŠå¾„è¨ˆç®—ç‰¹åŒ–ç‰ˆã€‚STOREãªã—ã€‚</li><li>GEORADIUSBYMEMBER: GEOSEARCHã®ãƒ¡ãƒ³ãƒãƒ¼â†’åŠå¾„è¨ˆç®—ç‰¹åŒ–ç‰ˆã€‚STOREã‚‚å¯èƒ½ã€‚</li><li>GEORADIUSBYMEMBER_RO: GEOSEARCHã®ãƒ¡ãƒ³ãƒãƒ¼â†’åŠå¾„è¨ˆç®—ç‰¹åŒ–ç‰ˆã€‚STOREã‚‚å¯èƒ½ã€‚</li></ul><p>ãªãŠã€ã“ã‚Œã‚‰ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦GeoHashã¨ã„ã†ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã€sorted setã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚ç™»éŒ²ã—ãŸãƒ¡ãƒ³ãƒãƒ¼ã®ä¸€è¦§ã‚’å–å¾—ã‚„ã€ãƒ¡ãƒ³ãƒãƒ¼ã®æ•°ã®å–å¾—ã€ãƒ¡ãƒ³ãƒãƒ¼ã®å‰Šé™¤ã¯sorted setã®ã‚³ãƒãƒ³ãƒ‰ã‚’ãã®ã¾ã¾ä½¿ã†ã“ã¨ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><ul><li>GEOHASH: ç·¯åº¦ãƒ»çµŒåº¦ã‚’geohashã¨ã„ã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ãƒãƒƒã‚·ãƒ¥ã‚­ãƒ¼åŒ–ã—ã¾ã™ã€‚</li></ul><p>Redisã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰æŒã£ã¦ããŸã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p><p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã®Sicilyã¨ã„ã†ã®ã¯sorted setã®åå‰ã§ã™ã€‚åœ°çƒã®åº§æ¨™ç³»ã€ç«æ˜Ÿã®åº§æ¨™ç³»ãªã©ã€è¤‡æ•°ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’åˆ†ã‘ã¦ä½¿ã„ã¾ã™ã€‚GEOADDã¯è¤‡æ•°ã®è¦ç´ ã‚’ä¸€æ‹¬ã§å…¥ã‚Œã‚‰ã‚Œã¦ã€ç·¯åº¦ãƒ»çµŒåº¦ãƒ»ã‚­ãƒ¼ã‚’ã‚»ãƒƒãƒˆã§å…¥ã‚Œã¾ã™ã€‚GEODISTã¯ç™»éŒ²ã—ãŸãƒ¡ãƒ³ãƒãƒ¼åŒå£«ã®è·é›¢ã‚’è¿”ã™æ©Ÿèƒ½ã§ã€GEORADIUSã¯ç‰¹å®šã®åº§æ¨™ã‹ã‚‰ä¸€å®šè·é›¢å†…ã®ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ã‚’è¿”ã—ã¦ã„ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">redis:6379&gt; GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">redis:6379&gt; GEODIST Sicily Palermo Catania</span><br><span class="line"><span class="string">&quot;166274.1516&quot;</span></span><br><span class="line">redis:6379&gt; GEORADIUS Sicily 15 37 100 km</span><br><span class="line">1) <span class="string">&quot;Catania&quot;</span></span><br><span class="line">redis:6379&gt; GEORADIUS Sicily 15 37 200 km</span><br><span class="line">1) <span class="string">&quot;Palermo&quot;</span></span><br><span class="line">2) <span class="string">&quot;Catania&quot;</span></span><br></pre></td></tr></table></figure><h1 id="GeoHash"><a href="#GeoHash" class="headerlink" title="GeoHash"></a>GeoHash</h1><p>ã“ã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½ã®è‚ã¯<a href="https://en.wikipedia.org/wiki/Geohash">GeoHash</a>ã§ã™ã€‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚ãŸã¨ãˆã°ã€13.361389 38.115556ã¨ã„ã†åº§æ¨™ã¯<code>sqc8b49rny0</code>ã¨ã„ã†ã‚­ãƒ¼ã«ãªã‚Šã¾ã™ã€‚</p><p>Redisã¯çµŒåº¦ã¨ã—ã¦ã¯Â±180åº¦ã€ç·¯åº¦ã¯Â±85.05112878åº¦ã¾ã§ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚åŒ—æ¥µç‚¹ã€å—æ¥µç‚¹ã‹ã‚‰555kmã®ç¯„å›²ã¯è¡¨ç¾ã§ããªãã†ã§ã™ã­ã€‚</p><p>GeoHashã¯é•·ã•ãŒé•·ããªã‚Œã°ãªã‚‹ã»ã©ç²¾åº¦ãŒã‚ãŒã£ã¦ç´°ã‹ã„åº§æ¨™ã‚‚è¡¨ç¾ã§ãã‚‹ã¨ã„ã†ãƒ¢ãƒ‡ãƒ«ã«ãªã£ã¦ã„ã¾ã™ã€‚<code>sqc8b49rny0</code>ã®æœ«å°¾ã®æ–‡å­—åˆ—ã‚’å‰Šã£ã¦ã‚‚ã ã„ãŸã„åŒã˜ä½ç½®ã«ãªã‚‹ãŒã€ä¸¸ã‚ã‚‰ã‚Œã¦ã—ã¾ã†ã€ã¿ãŸã„ãªæ¬ æã—ã¦ã‚‚validãªé¢ç™½ã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p>GeoHashã®å„æ–‡å­—ã¯base32ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ•°å€¤ã§ã™ã€‚1æ–‡å­—ã§5ãƒ“ãƒƒãƒˆã‚ã‚Šã¾ã™ã€‚å¥‡æ•°æ–‡å­—åˆ—ç›®ã¯3ãƒ“ãƒƒãƒˆã®çµŒåº¦ï¼‹2ãƒ“ãƒƒãƒˆã®ç·¯åº¦ã€å¶æ•°æ–‡å­—åˆ—ç›®ã¯2ãƒ“ãƒƒãƒˆã®çµŒåº¦ï¼‹3ãƒ“ãƒƒãƒˆã®ç·¯åº¦ã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚Redisã¯11æ–‡å­—ã®æ–‡å­—åˆ—ã§è¡¨ç¾ã•ã‚Œã‚‹ã®ã§ã€55ãƒ“ãƒƒãƒˆã¨æ€ã„ãã‚„ã€å†…éƒ¨çš„ã«ã¯<a href="https://redis.io/commands/geohash/">52ãƒ“ãƒƒãƒˆ</a>ã¨ãªã‚‹ã‚ˆã†ã§ã™ã€‚ãªã®ã§ã€ãŠãã‚‰ãã€ç·¯åº¦ãƒ»çµŒåº¦ã¨ã‚‚ã«26ãƒ“ãƒƒãƒˆã®ç²¾åº¦ã«ãªã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚æœ¬æ¥ã®GeoHashã¯Redisã¨é•ã£ã¦ç·¯åº¦ã¯Â±90åº¦ãªã®ã§ã€ã¡ã‚‡ã£ã¨è¨ˆç®—ã¯é•ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Wikipediaã®è¨ˆç®—ã‚’ã‚‚ã¨ã«ã™ã‚‹ã¨ã€èª¤å·®ã¯30cmç¨‹åº¦ã€‚ååˆ†ãªç²¾åº¦ã§ã™ã­ã€‚</p><p>ã¡ãªã¿ã«ã€ã“ã‚Œã‚‰ã¯åœ°çƒä¸Šã®åº§æ¨™ã¨ã—ã¦è¡¨ç¾ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€Redisã§ç«æ˜Ÿã®åº§æ¨™ç³»ã¨ã‹ã‚’è¡¨ç¾ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€è£œæ­£ãŒå¿…è¦ã§ã™ã­ã€‚</p><h1 id="ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯"><a href="#ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯" class="headerlink" title="ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯"></a>ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯</h1><p>Redis 7.0.3ã€Go 1.18.4ã€ãƒ‰ãƒ©ã‚¤ãƒã¨ã—ã¦github.com&#x2F;go-redis&#x2F;redis&#x2F;v9ã‚’ä½¿ã£ã¦ã€M2 MacBook Airã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å–ã£ã¦ã¿ã¾ã—ãŸã€‚Redisã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯O(N+log(M)) (Nã¯æ¤œç´¢ç¯„å›²ã®ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹ã®ä¸­ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°ã€Mã¯ãã®å›³å½¢ã®ä¸­ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°)ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã‚ã‚‹ã®ã§ã™ãŒã€å®Ÿéš›ã«ã‹ã‹ã‚‹æ™‚é–“ã®è‚Œæ„Ÿè¦šã‚’çŸ¥ã‚ŠãŸã‹ã£ãŸã®ã§ã€‚ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã¨ã“ã‚ã«ã‚ã‚Šã¾ã™ã€‚</p><p><a href="https://gist.github.com/shibukawa/2cf8fc518d58f5031619798d3d43ceb7">https://gist.github.com/shibukawa/2cf8fc518d58f5031619798d3d43ceb7</a></p><p>è¦ç´ æ•°ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã€é–¢æ±ã®ç¯„å›²(æ±çµŒ139-141, åŒ—ç·¯35-37)ã«ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç™»éŒ²ã—ã¦ã€æ¤œç´¢ã‚’ã‹ã‘ã¦ã¿ã¾ã—ãŸã€‚è¦ç´ æ•°ã¯ä»¥ä¸‹ã®ã‚±ãƒ¼ã‚¹ã§æ¤œè¨¼ã—ã¦ã¿ã¾ã—ãŸã€‚</p><ul><li>1000: (<a href="https://mitok.info/?p=107992">é–¢æ±ã®ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰ã®åº—èˆ—æ•°</a>ã®1377ã¨åŒã˜ãã‚‰ã„ã®ã‚ªãƒ¼ãƒ€ãƒ¼</li><li>10000: (<a href="https://www.post.japanpost.jp/newsrelease/storeinformation/pdf/02_87.pdf">é–¢æ±ã®éƒµä¾¿å±€æ•°</a>ã®4627ã¨<a href="https://uub.jp/pdr/m/c.html">é–¢æ±ã®ã‚³ãƒ³ãƒ“ãƒ‹ã®åº—èˆ—æ•°</a>20779ã®é–“ãã‚‰ã„ã®ã‚ªãƒ¼ãƒ€ãƒ¼</li><li>100000: (<a href="https://www.npa.go.jp/bureau/traffic/seibi2/annzen-shisetu/hyoushiki-shingouki/pdf/R02kazu.pdf">é–¢æ±ã®ä¿¡å·ã®æ•°</a>ã®59188ã‚ˆã‚Šã‚‚ã¡ã‚‡ã£ã¨å¤šã„ã‚ªãƒ¼ãƒ€ãƒ¼)</li></ul><p>ã¡ãªã¿ã«ã€100000ä»¶ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã¦ã‚‚ã€Redisã®æ¶ˆè²»ãƒ¡ãƒ¢ãƒªã¯16MBç¨‹åº¦ã€RedisãŒç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒ1.2MBç¨‹åº¦ã§æƒ³åƒã‚ˆã‚Šã‚‚é¥ã‹ã«å°‘ãªã„ã§ã™ã€‚</p><p>çµæœã¯ä»¥ä¸‹ã®é€šã‚Šã§ã€ã“ã®ãã‚‰ã„ã®æ¤œç´¢ã ã¨èª¤å·®ã®ç¯„å›²ãã‚‰ã„ã§ã™ã­ã€ã¨ã„ã†ã‹æœ¬å½“ã‹ã‚ˆï¼Ÿã¨æ€ã†ãã‚‰ã„ã®é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚ä¸€ç•ªæœ€å¾Œã®ã‚„ã¤ã§40ä»¶è¿‘ããƒ’ãƒƒãƒˆã—ã¦ã„ã¦ã€å‹•ä½œä¸Šã¯è‚Œæ„Ÿè¦šçš„ã«é–“é•ã£ã¦ãªã•ãã†ãªçµæœã¯å‡ºã¦ã„ã¾ã™ã€‚è¦ç´ æ•°ãŒå¢—ãˆã¦ã‚‚ã€æ¤œç´¢å¯¾è±¡ã‚’è³¢ãçµã£ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè½ã¡ãªã„ã‚ˆã†ãªå·¥å¤«ãŒã•ã‚Œã¦ã„ãã†ã§ã™ã€‚</p><div class="scroll"><table><thead><tr><th align="center">è¦ç´ æ•°</th><th align="center">æ¤œç´¢æ¡ä»¶</th><th align="center">æ™‚é–“</th></tr></thead><tbody><tr><td align="center">1000</td><td align="center">1è¾º1kmã®çŸ©å½¢</td><td align="center">24Î¼s</td></tr><tr><td align="center">1000</td><td align="center">åŠå¾„1kmã®å††</td><td align="center">22Î¼s</td></tr><tr><td align="center">1000</td><td align="center">1è¾º2kmã®çŸ©å½¢</td><td align="center">23Î¼s</td></tr><tr><td align="center">1000</td><td align="center">åŠå¾„2kmã®å††</td><td align="center">23Î¼s</td></tr><tr><td align="center">10000</td><td align="center">1è¾º1kmã®çŸ©å½¢</td><td align="center">23Î¼s</td></tr><tr><td align="center">10000</td><td align="center">åŠå¾„1kmã®å††</td><td align="center">24Î¼s</td></tr><tr><td align="center">10000</td><td align="center">1è¾º2kmã®çŸ©å½¢</td><td align="center">24Î¼s</td></tr><tr><td align="center">10000</td><td align="center">åŠå¾„2kmã®å††</td><td align="center">27Î¼s</td></tr><tr><td align="center">100000</td><td align="center">1è¾º1kmã®çŸ©å½¢</td><td align="center">26Î¼s</td></tr><tr><td align="center">100000</td><td align="center">åŠå¾„1kmã®å††</td><td align="center">33Î¼s</td></tr><tr><td align="center">100000</td><td align="center">1è¾º2kmã®çŸ©å½¢</td><td align="center">33Î¼s</td></tr><tr><td align="center">100000</td><td align="center">åŠå¾„2kmã®å††</td><td align="center">52Î¼s</td></tr></tbody></table></div><p>GeoHashãŒã™ã”ã„ã®ã¯ã€æ–‡å­—åˆ—é•·ã•ã«ã‚ˆã£ã¦ç²¾åº¦ãŒå¤‰ã‚ã‚‹ã“ã¨ã¨ã€1æ¬¡å…ƒã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¦ã„ã‚‹ã“ã¨ã€‚ã¤ã¾ã‚Šã€æ¢ã—ãŸã„åº§æ¨™ã¨ç¯„å›²ãŒåˆ†ã‹ã‚Œã°å…ˆé ­ä¸€è‡´ã§è¦ç´ ãŒçµã‚Œã¾ã™ã€‚2æ¬¡å…ƒã‚’1æ¬¡å…ƒã§è¡¨ç¾ã™ã‚‹æ–¹æ³•ã¯æ˜”è€ƒãˆãŸã“ã¨ãŒã‚ã‚‹ã‚‚ã®ã®ã€ãªã‹ãªã‹æ€ã„ã¤ã‹ãªã‹ã£ãŸã®ã§ã™ãŒã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®å‹åˆ©ã¨ã„ã†ã‹ã€ä¹…ã€…ã«èƒ¸ãŒç†±ããªã‚‹ã‚‚ã®ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚ã‚ã‚‰ã‹ã˜ã‚QuadTreeã®æ·±ã•ã¨ã‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ã‚‚ãªã„ã§ã™ã—ã­ã€‚<a href="https://future-architect.github.io/articles/20210701a/">LOUDS</a>ã¿ãŸã„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨ã®ç›¸æ€§ã‚‚è‰¯ã„ã§ã™ã—ã­ã€‚å¤¢ãŒåºƒãŒã‚Šã¾ã™ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ã“ã¡ã‚‰ã®æ©Ÿèƒ½ã¨ã—ã¦ã¯ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã‚‹æ™‚ã¨ã‹ã«ä¾¿åˆ©ã«ä½¿ãˆãã†ã§ã™ã‚ˆã­ã€‚åº§æ¨™ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®æ©Ÿèƒ½ã¨ã‹ä½¿ãˆã°ç°¡å˜ã«ã¨ã‚Œã¾ã™ã€‚Rediså´ã«ã‚ã‚‰ã‹ã˜ã‚ã„ã‚ã‚“ãªå ´æ‰€æƒ…å ±ã‚’å…¥ã‚Œã¦ã‚ã’ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰å–å¾—ã—ãŸåº§æ¨™ã‚’æŠ•ã’è¾¼ã‚ã°ç°¡å˜ã«è¿‘éš£ã®ã‚¹ãƒãƒƒãƒˆã‚’æ¢ã™ã€ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ãŒä½œã‚Œãã†ã§ã™ã€‚</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API">https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">navigator.<span class="property">geolocation</span>. <span class="title function_">getCurrentPosition</span>(<span class="function">(<span class="params">pos: GeolocationPosition</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(pos.<span class="property">coords</span>);</span><br><span class="line">    <span class="comment">// &#123;latitude: 35.0, longitude: 135.0, altitude: null&#125;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>SQLiteã§ãƒã‚¹ã‚¿ãƒ¼ã‚’é…å¸ƒã™ã‚‹ã‚ˆã†ãªæ„Ÿã˜ã§ã€Redisã‚‚èª­ã¿è¾¼ã¿å°‚ç”¨ã§ä½¿ã£ã¦ã‚ã’ã‚‹ã¨ã‹ã‚‚é¢ç™½ã„æ°—ãŒã—ã¾ã™ã€‚ãƒ“ã‚¸ãƒã‚¹åˆ©ç”¨ãŒã„ã‚ã„ã‚è€ƒãˆã‚‰ã‚Œã¾ã™ã­ã€‚</p><p>ä»Šå›ã¯Redisã‚’èª¿ã¹ãŸã ã‘ã§ã™ãŒã€åº§æ¨™å‘¨ã‚Šã®ãƒ­ã‚¸ãƒƒã‚¯ã«ã¯ã„ã‚ã„ã‚ã‚ã‚Šã¾ã™ã€‚</p><ul><li>IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰åº§æ¨™ã‚’æ¨å®šã™ã‚‹GeoIP</li><li>å ´æ‰€ã‹ã‚‰åº§æ¨™ã‚’èª¿ã¹ã‚‹ã‚¸ã‚ªãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³</li><li>åº§æ¨™ã‹ã‚‰å ´æ‰€ã‚’èª¿ã¹ã‚‹é€†ã‚¸ã‚ªãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³</li></ul><p>äººé–“ã«ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ä½“ç³»ã‚„ã‚‰æ©Ÿæ¢°ã«ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ä½“ç³»ã€ãã‚Œãã‚Œã®å¤‰æ›ãªã©ã€ã€Œå ´æ‰€ã€ã®ä¸–ç•Œã¯å¥¥æ·±ã„ã§ã™ã­ã€‚ã“ã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã¨å ´æ‰€ã‚’ä½¿ã£ãŸé¢ç™½ã„ã‚µãƒ¼ãƒ“ã‚¹ãŒä½œã‚Œãã†ã§ã™ã€‚</p><p>æ¬¡ã¯å¡šæœ¬ã•ã‚“ã®<a href="/articles/20220722a/">ä½æ‰€æƒ…å ±ã‹ã‚‰çµŒè·¯ã‚’æ¢ç´¢ã™ã‚‹â€ãã“ãã“â€ãªæ–¹æ³•</a>ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220721a/Logo-redis.png&quot; alt=&quot;&quot; width=&quot;700&quot; height=&quot;239&quot;&gt;

&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Redis" scheme="https://future-architect.github.io/tags/Redis/"/>
    
    <category term="ã‚¸ã‚ªãƒ¡ãƒˆãƒª" scheme="https://future-architect.github.io/tags/%E3%82%B8%E3%82%AA%E3%83%A1%E3%83%88%E3%83%AA/"/>
    
  </entry>
  
  <entry>
    <title>Foursquare - Location Matching å‚åŠ è¨˜ (7th / 1083)</title>
    <link href="https://future-architect.github.io/articles/20220720a/"/>
    <id>https://future-architect.github.io/articles/20220720a/</id>
    <published>2022-07-19T15:00:00.000Z</published>
    <updated>2022-07-21T02:31:55.395Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬è¨˜äº‹ã¯<a href="/articles/20220719a/">ã€Œåœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šã«é–¢ã™ã‚‹é€£è¼‰ã€</a>äºŒæ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚æ˜¨æ—¥ã®<a href="/articles/20220719b/">ã€Œéƒµä¾¿ç•ªå·ãƒ»ä½æ‰€ãƒ»ç·¯åº¦çµŒåº¦ã®ä½“ç³»ã«ã¤ã„ã¦ã€</a>ã®è¨˜äº‹ã‚‚ã€ä»Šå›ã®è¨˜äº‹ã¨ã¯ç›´æ¥ã¤ãªãŒã£ã¦ã¯ã„ã¾ã›ã‚“ãŒã€å‚è€ƒã«ãªã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚‹ã®ã§ãœã²ã”è¦§ãã ã•ã„ã€‚</p><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã“ã‚“ã«ã¡ã¯ã€Strategic AI Groupæ‰€å±ã®é‡‘å­ã§ã™ã€‚æ™®æ®µã¯æ¨è–¦ã«é–¢é€£ã™ã‚‹å®Ÿè£…ã‚„ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚</p><p>å…ˆæ—¥Kaggleã§é–‹å‚¬ã•ã‚ŒãŸ<a href="https://www.kaggle.com/competitions/foursquare-location-matching/overview">ã€ŒFoursquare - Location Matchingã€ã‚³ãƒ³ãƒš</a>(ä»¥ä¸‹4sqã‚³ãƒ³ãƒš)ã«ç¤¾å¤–ã®çŸ¥äººå…±ã«ãƒãƒ¼ãƒ ã§å‚åŠ ã—ã€1083ãƒãƒ¼ãƒ ä¸­7ä½ã‚’ã¨ã‚Šã¾ã—ãŸã€‚ï¼ˆåˆã®é‡‘ãƒ¡ãƒ€ãƒ«ã§Kaggle Competitions Masterã«ãªã‚Šã¾ã—ãŸï¼)</p><p>æœ¬è¨˜äº‹ã§ã¯å‚åŠ è¨˜ã¨ã—ã¦ä»¥ä¸‹ã®å†…å®¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p><ul><li>4sqã‚³ãƒ³ãƒšæ¦‚è¦</li><li>è§£æ³•ã®ã‚µãƒãƒª</li><li>è§£æ³•ã®è©³ç´°</li><li>ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†</li><li>ãƒªãƒ¼ã‚¯å•é¡Œã«ã¤ã„ã¦</li><li>è¬è¾</li></ul><h1 id="4sqã‚³ãƒ³ãƒšæ¦‚è¦"><a href="#4sqã‚³ãƒ³ãƒšæ¦‚è¦" class="headerlink" title="4sqã‚³ãƒ³ãƒšæ¦‚è¦"></a>4sqã‚³ãƒ³ãƒšæ¦‚è¦</h1><h2 id="ã‚¿ã‚¹ã‚¯æ¦‚è¦"><a href="#ã‚¿ã‚¹ã‚¯æ¦‚è¦" class="headerlink" title="ã‚¿ã‚¹ã‚¯æ¦‚è¦"></a>ã‚¿ã‚¹ã‚¯æ¦‚è¦</h2><p>Foursquareã¯ä½ç½®ã‚’å…±æœ‰ã™ã‚‹SNSç­‰ã‚’æä¾›ã™ã‚‹ä¼æ¥­ã§ã™ã€‚ç¾åœ¨ã¯ã‚ã‚‹POI(Points-of-Interest, åŒã˜åœ°å›³ä¸Šã®ç‰¹å®šã®ãƒã‚¤ãƒ³ãƒˆ)ã«ã¤ã„ã¦å£ã‚³ãƒŸç­‰ã‚’æ¤œç´¢ã™ã‚‹ã€ŒFoursquareã€ã‚¢ãƒ—ãƒªã‚„ã€ã‚ã‚‹POIã«ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã—ã€ãã‚Œã‚’ã‚·ã‚§ã‚¢ã™ã‚‹ã“ã¨ã«ç‰¹åŒ–ã—ãŸã€ŒSwarmã€ã‚¢ãƒ—ãƒªãªã©ã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹POIã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚</p><p>4sqã‚³ãƒ³ãƒšã§ã¯Foursquareã®æŒã¤POIã¨ãã‚Œã«é–¢é€£ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒæä¾›ã•ã‚Œã¾ã—ãŸã€‚ãã—ã¦ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ä¸€å®šã®å®Ÿè¡Œç’°å¢ƒå†…ã§åŒã˜POIã®IDã‚’ã‚‚ã¤è¡ŒåŒå£«ã®ãƒãƒƒãƒãƒ³ã‚°ã‚’æ™‚é–“å†…ã«è¡Œã†ã‚³ãƒ¼ãƒ‰ã‚’æå‡ºã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚</p><p>ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒæ¬ æå€¤ã‚’å«ã‚€çŠ¶æ…‹ã§æ¸¡ã•ã‚Œã¾ã—ãŸã€‚</p><ul><li>åç§°(name)</li><li>ä½æ‰€(country, state, city, address)</li><li>ç·¯åº¦çµŒåº¦(latitude, longitude)</li><li>ã‚«ãƒ†ã‚´ãƒª(categories, ä¸€ã¤ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã«0~è¤‡æ•°å€‹ç´ã¥ã)</li><li>URLã‚„é›»è©±ç•ªå·ã€éƒµä¾¿ç•ªå·</li></ul><p>ä¸‹è¨˜ã®è¡¨ã¯ç§ãŒã¤ãã£ãŸãƒ‡ãƒ¼ã‚¿ã®è¦‹æœ¬ã§ã™ã€‚ã€Œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æ ªå¼ä¼šç¤¾ã€ãƒ»ã€ŒFuture Corporationã€ãƒ»ã€Œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã€ã¯ã™ã¹ã¦åŒã˜POIã§ã™ãŒã€æ¬ æã‚„è¡¨è¨˜ã‚†ã‚Œã‚’å«ã‚“ã çŠ¶æ…‹ã§ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä¸­ã«æ•£åœ¨ã—ã¦ã„ã¾ã™ã€‚è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¯ç´„110ä¸‡ä»¶ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ç´„60ä¸‡ä»¶ã‚ã‚Šã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§ã¯POIãŒéš ã•ã‚ŒãŸçŠ¶æ…‹ã§æ¸¡ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚æå‡ºã¯å„è¡Œã®IDã«å¯¾ã—ã¦åŒã˜POIã§ã‚ã‚‹IDã‚’é€£çµã—ãŸmatchesã®å‡ºåŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚<br><img src="/images/20220720a/ãƒ‡ãƒ¼ã‚¿ã®ä¾‹.png" alt="ãƒ‡ãƒ¼ã‚¿ã®ä¾‹" width="1200" height="117" loading="lazy"></p><p>è©•ä¾¡ã¯matchesã«å¯¾ã— (æ­£è§£ã®ãƒ©ãƒ™ãƒ«ã¨äºˆæ¸¬ãƒ©ãƒ™ãƒ«ã®ç©é›†åˆã®æ•°) &#x2F; (æ­£è§£ã®ãƒ©ãƒ™ãƒ«ã¨äºˆæ¸¬ãƒ©ãƒ™ãƒ«ã®å’Œé›†åˆã®æ•°) ã§æ±‚ã‚ã‚‰ã‚Œã‚‹IoUã®å¹³å‡ã§è¨ˆç®—ã•ã‚Œã¾ã—ãŸã€‚</p><h2 id="ã“ã®å•é¡ŒãŒè§£ã‘ã‚‹ã¨ä½•ãŒã†ã‚Œã—ã„ã‹"><a href="#ã“ã®å•é¡ŒãŒè§£ã‘ã‚‹ã¨ä½•ãŒã†ã‚Œã—ã„ã‹" class="headerlink" title="ã“ã®å•é¡ŒãŒè§£ã‘ã‚‹ã¨ä½•ãŒã†ã‚Œã—ã„ã‹"></a>ã“ã®å•é¡ŒãŒè§£ã‘ã‚‹ã¨ä½•ãŒã†ã‚Œã—ã„ã‹</h2><p>ä»Šå›ã®ã‚³ãƒ³ãƒšã®ãƒ‡ãƒ¼ã‚¿ã¯æ„å›³çš„ã«ãƒã‚¤ã‚ºã‚’åŠ ãˆãŸãƒ‡ãƒ¼ã‚¿ã§ã€å®Ÿå‹™ã®ãƒ‡ãƒ¼ã‚¿ã¨ã¯ç•°ãªã‚‹ã‚ˆã†ã§ã—ãŸã€‚ã—ã‹ã—ã€åå‰ã‚„ä½æ‰€ãƒ»å•†å“åã®è¡¨è¨˜ã‚†ã‚Œã¨ã„ã†ã®ã¯è‡³ã‚‹æ‰€ã§ç™ºç”Ÿã™ã‚‹å•é¡Œã§ã€ä»Šå›ã®ã‚³ãƒ³ãƒšã§ç”¨ã„ã‚‰ã‚ŒãŸæ‰‹æ³•ã¯å®Ÿå‹™ã§ã“ã®ã‚ˆã†ãªã‚†ã‚Œã¨å‘ãåˆã†ã«ã‚ãŸã£ã¦æœ‰ç”¨ã§ã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚</p><h1 id="è§£æ³•ã®ã‚µãƒãƒª"><a href="#è§£æ³•ã®ã‚µãƒãƒª" class="headerlink" title="è§£æ³•ã®ã‚µãƒãƒª"></a>è§£æ³•ã®ã‚µãƒãƒª</h1><p>å‰å›ç´¹ä»‹ã—ãŸ<a href="https://future-architect.github.io/articles/20220602b/">H&amp;Mã‚³ãƒ³ãƒš</a>ã§ã‚‚ãã†ã§ã—ãŸãŒã€600,000 x 600,000 ã®çµ„ã¿åˆã‚ã›ã«ã¤ã„ã¦ã™ã¹ã¦æ­£ç¢ºã«è©•ä¾¡ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã§ã™ã€‚<br>ãã“ã§ã€ä»Šå›ã¯ä»¥ä¸‹ã®ä¸‰ã¤ã®ãƒ‘ãƒ¼ãƒˆã§äºˆæ¸¬ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><ul><li>å…¨å€™è£œã‹ã‚‰å¤§ã¾ã‹ã«å€™è£œã‚’çµã‚Šè¾¼ã‚€retrieval part</li><li>äºŒç‚¹é–“ã®ãƒšã‚¢ã«å¯¾ã—ã¦æ­£ç¢ºãªäºˆæ¸¬ã‚’è¡Œã†predict part</li><li>ãƒšã‚¢ã‚’ã‚°ãƒ©ãƒ•ã¨ã—ã¦æ‰±ã„å¾Œå‡¦ç†ã§ç²¾åº¦ã‚’ä¸Šã’ã‚‹postprocess part</li></ul><img src="/images/20220720a/4sq_overview.png" alt="4sq_overview" width="851" height="432" loading="lazy"><h1 id="è§£æ³•ã®è©³ç´°"><a href="#è§£æ³•ã®è©³ç´°" class="headerlink" title="è§£æ³•ã®è©³ç´°"></a>è§£æ³•ã®è©³ç´°</h1><p>ä¸Šè¨˜ã®ä¸‰ã¤ã®ãƒ‘ãƒ¼ãƒˆã«å„ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã«ã¤ã„ã¦åŠ ãˆã€å‰å‡¦ç†ã‹ã‚‰é †ã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚</p><h2 id="å‰å‡¦ç†ãƒ‘ãƒ¼ãƒˆ"><a href="#å‰å‡¦ç†ãƒ‘ãƒ¼ãƒˆ" class="headerlink" title="å‰å‡¦ç†ãƒ‘ãƒ¼ãƒˆ"></a>å‰å‡¦ç†ãƒ‘ãƒ¼ãƒˆ</h2><p>å‰å‡¦ç†ã§ã¯æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ãŒãƒ‡ãƒ¼ã‚¿ã‚’è§£é‡ˆã—ã‚„ã™ã„ã‚ˆã†ã€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã¨embeddingã«å¤‰æ›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«ã—ã¾ã—ãŸã€‚<br>ãã®ãŸã‚ã«ã€NNãŒæ‰±ã„ã‚„ã™ã„ã‚ˆã†ãªå½¢ã«è‡ªç„¶è¨€èªã‚’å‡¦ç†ã—ã€æ¬ æå€¤ã‚’åŸ‹ã‚ã€ç„¡æ•°ã«ã‚ã‚‹ã‚«ãƒ†ã‚´ãƒªã‚’å­¦ç¿’ã§ãã‚‹ç¨®é¡ã«ã¾ã§æ¸›ã‚‰ã™ã“ã¨æ„è­˜ã—ã¾ã—ãŸã€‚</p><h3 id="è‡ªç„¶è¨€èªã®å‰å‡¦ç†"><a href="#è‡ªç„¶è¨€èªã®å‰å‡¦ç†" class="headerlink" title="è‡ªç„¶è¨€èªã®å‰å‡¦ç†"></a>è‡ªç„¶è¨€èªã®å‰å‡¦ç†</h3><h4 id="æ–‡å­—ã®æ­£è¦åŒ–"><a href="#æ–‡å­—ã®æ­£è¦åŒ–" class="headerlink" title="æ–‡å­—ã®æ­£è¦åŒ–"></a>æ–‡å­—ã®æ­£è¦åŒ–</h4><p>nameã«ã¤ã„ã¦ã¯ãŸãã•ã‚“ã®è¨€èªãŒæ··ã˜ã£ã¦ãŠã‚Šã€ã‹ã¤æ—¥æœ¬èªãƒ»ä¸­å›½èªãƒ»ã‚¿ã‚¤èªã®ã‚ˆã†ãªåˆ†ã‹ã¡æ›¸ããŒå¿…è¦ãªè¨€èªã‚‚å¤šãæ··ã˜ã£ã¦ã„ã¾ã—ãŸã€‚ãã“ã§name, addressã«ã¤ã„ã¦ã¯ã€æ–‡å­—å˜ä½ã§æ¯”è¼ƒã™ã‚‹ç”¨ã€å˜èªåŒå£«ã§æ¯”è¼ƒã™ã‚‹ç”¨ã€NNã«å…¥ã‚Œã‚‹ç”¨ã®ä¸‰ç¨®é¡ã«å‘ã‘ãŸå‰å‡¦ç†ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><p>ã€Œå¤§å´ä¸€ä¸ç›®2-2 ã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸å¤§å´ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¿ãƒ¯ãƒ¼ã€ã§ã‚ã‚Œã°</p><div class="scroll"><table><thead><tr><th>å‡¦ç†ç•ªå·</th><th>å‡¦ç†ã®ç›®çš„</th><th>å‡¦ç†å†…å®¹</th></tr></thead><tbody><tr><td>1</td><td>æ–‡å­—å˜ä½ã®æ¯”è¼ƒç”¨</td><td>Unicodeæ­£è¦åŒ–</td></tr><tr><td>2</td><td>å˜èªåŒå£«ã®æ¯”è¼ƒç”¨</td><td>1.ã«å¯¾ã—åˆ†ã‹ã¡æ›¸ãã®å®Ÿæ–½ã€å°æ–‡å­—åŒ–ãƒ»ã‚«ã‚¿ã‚«ãƒŠåŒ–ã€æ•°å­—ã‚’è¡¨ã™å˜èªã®æ•°å­—åŒ–(e.g. ä¸€ä¸ç›®â†’1ä¸ç›®)ã€ä¸€éƒ¨è¨˜å·ã®é™¤å»</td></tr><tr><td>3</td><td>NNã¸ã®å…¥åŠ›ç”¨</td><td>2.ã«å¯¾ã—æ­£è¦è¡¨ç¾ã§[0-9a-z&amp; ]ã®ã¿ãŒæ®‹ã‚‹ã‚ˆã†ãƒ­ãƒ¼ãƒå­—åŒ–</td></tr></tbody></table></div><p>ã®ä¸‰ç¨®é¡ã®å‡¦ç†ã‚’è¡Œã„ã€</p><div class="scroll"><table><thead><tr><th>å‡¦ç†ç•ªå·</th><th>å‡¦ç†çµæœ</th></tr></thead><tbody><tr><td>1</td><td>å¤§å´ä¸€ä¸ç›®2-2 ã‚¢ãƒ¼ãƒˆãƒ´ã‚£ãƒ¬ãƒƒã‚¸å¤§å´ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¿ãƒ¯ãƒ¼</td></tr><tr><td>2</td><td>ã‚ªã‚ªã‚µã‚­ 1 ãƒãƒ§ã‚¦ãƒ¡ 2 - 2 ã‚¢ãƒ¼ãƒˆ ãƒ´ã‚£ãƒ¬ãƒƒã‚¸ ã‚ªã‚ªã‚µã‚­ ã‚»ãƒ³ãƒˆãƒ©ãƒ« ã‚¿ãƒ¯ãƒ¼</td></tr><tr><td>3</td><td>oosaki 1 choume 2 2 aato virejji oosaki sentoraru tawaa</td></tr></tbody></table></div><p>ã¨ãªã‚‹ã‚ˆã†ã«å¤‰æ›ã—ã¾ã—ãŸã€‚</p><h4 id="addressã®æ¬ æå€¤ã®è£œå®Œ"><a href="#addressã®æ¬ æå€¤ã®è£œå®Œ" class="headerlink" title="addressã®æ¬ æå€¤ã®è£œå®Œ"></a>addressã®æ¬ æå€¤ã®è£œå®Œ</h4><p>addressã«ã¤ã„ã¦ã¯3.ã«ã¤ã„ã¦ã®ã¿ã€NNãƒ¢ãƒ‡ãƒ«ã«å…¥ã‚Œã‚‹ãŸã‚æ¬ æå€¤ã®è£œå®Œã‚’è¡Œã„ã¾ã—ãŸã€‚<br>å…·ä½“çš„ã«ã¯å…¨ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã€addressãŒNaNã§ãªã„ã‚‚ã®ã‹ã‚‰haversineè·é›¢ã§è¿‘å‚3ã‹æ‰€ã®addressã‚’é€£çµã—ã¦ã€embeddingå­¦ç¿’ç”¨ã®å‰å‡¦ç†ã¨ã—ã¾ã—ãŸã€‚</p><h3 id="åœ°åã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°åŒ–ã¨å‰å‡¦ç†"><a href="#åœ°åã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°åŒ–ã¨å‰å‡¦ç†" class="headerlink" title="åœ°åã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°åŒ–ã¨å‰å‡¦ç†"></a>åœ°åã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°åŒ–ã¨å‰å‡¦ç†</h3><p>city, state, countryã¯ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã¨ã—ã¦æ‰±ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚countryã¯æ¬ æå€¤ã‚’â€NANâ€ã§åŸ‹ã‚ãŸã†ãˆã§ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°åŒ–ã€cityã¨stateã«ã¤ã„ã¦ã¯å‡ºç¾å›æ•°ä¸Šä½ç´„2000ã‚’ä»£è¡¨ã¨ã—ã¦å¹³å‡ã®ç·¯åº¦çµŒåº¦ã‚’è¨ˆç®—ã—ã€æ¬ æå€¤ã€ã‚‚ã—ãã¯ä¸Šä½2000ä»¥å¤–ã®cityã¨stateã‚’ä¸Šä½2000ã¨ã®è¿‘å‚ã§åŸ‹ã‚ã¾ã—ãŸã€‚</p><p>ã¾ãŸã€cities1000ã¨ã„ã†1000äººä»¥ä¸Šã®äººå£ãŒã„ã‚‹å¸‚ã‚’é›†ã‚ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç”¨ã„ã¦ç·¯åº¦çµŒåº¦ã‹ã‚‰åœ°åã‚’æ±‚ã‚ã€geo_nameã¨ã„ã†åå‰ã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã«ã—ã¾ã—ãŸã€‚ã“ã‚Œã‚‚ã¾ãŸå‡ºç¾æ•°ä¸Šä½2000ã®ã©ã‚Œã‹ã«å‰²ã‚ŠæŒ¯ã‚‰ã‚Œã‚‹ã‚ˆã†èª¿æ•´ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><h3 id="categoriesã®å‰å‡¦ç†"><a href="#categoriesã®å‰å‡¦ç†" class="headerlink" title="categoriesã®å‰å‡¦ç†"></a>categoriesã®å‰å‡¦ç†</h3><p>categoriesã¯ä¸€ã¤ã®åˆ—ã«ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°ã®ã‚«ãƒ†ã‚´ãƒªãŒå…¥ã£ã¦ã„ã¾ã—ãŸã€‚ãã“ã§ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§åˆ†å‰²ã—ã€RaggedTensorã¨ã—ã¦æ‰±ã„ã¾ã—ãŸã€‚ã¾ãŸã€categoriesã«ä½•ã‚‚å…¥ã£ã¦ã„ãªã„å ´åˆã¯â€nanâ€ã®ã‚«ãƒ†ã‚´ãƒªã§è£œå®Œã—ã¾ã—ãŸã€‚å¾Œè¿°ã®ã‚«ãƒ†ã‚´ãƒªäºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ãŸå¾Œã¯â€nanâ€ã®è¡Œã«äºˆæ¸¬ã‚’è¡Œã„ã€ã‚«ãƒ†ã‚´ãƒªã‚’ä¸€ã¤è¿½åŠ ã—ã¾ã—ãŸã€‚</p><h3 id="URL-x2F-Phoneã®æ­£è¦åŒ–"><a href="#URL-x2F-Phoneã®æ­£è¦åŒ–" class="headerlink" title="URL&#x2F;Phoneã®æ­£è¦åŒ–"></a>URL&#x2F;Phoneã®æ­£è¦åŒ–</h3><p>URLã«ã¤ã„ã¦ã¯<a href="https://docs.python.org/ja/3/library/urllib.parse.html">urllib</a>ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ä½ç½®ã‚’ç¤ºã™éƒ¨åˆ†æŠ½å‡ºã—ã¾ã—ãŸã€‚<br>é›»è©±ç•ªå·ã¯å›½éš›é€šè©±ç”¨ã®+81ç­‰ãŒä»˜ã„ãŸå½¢å¼ã¨ãã†ã§ãªã„å½¢å¼ãŒæ··ã˜ã£ã¦ã„ãŸãŸã‚ã€<a href="https://pypi.org/project/phonenumbers/">phonenumbers</a>ã‚’ç”¨ã„ã¦æ­£è¦åŒ–ã‚’è¡Œã„çµ±ä¸€ã—ã¾ã—ãŸã€‚</p><h3 id="embeddingã®ä½œæˆ"><a href="#embeddingã®ä½œæˆ" class="headerlink" title="embeddingã®ä½œæˆ"></a>embeddingã®ä½œæˆ</h3><h4 id="ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã¸ã®åˆ†å‰²"><a href="#ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã¸ã®åˆ†å‰²" class="headerlink" title="ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã¸ã®åˆ†å‰²"></a>ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã¸ã®åˆ†å‰²</h4><p>3ã§å‡¦ç†ã—ãŸãƒ­ãƒ¼ãƒå­—ã«ã¤ã„ã¦<a href="https://github.com/google/sentencepiece">SentencePiece</a>ã§ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰åˆ†å‰²ã‚’å­¦ç¿’ã—ã¾ã—ãŸã€‚ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã¯å˜èªã‚’ã•ã‚‰ã«åˆ†å‰²ã—ãŸã‚‚ã®ã§ã€ä¾‹ãˆã°ã€Œç«¶ãƒ—ãƒ­erã€ã¨ã„ã†æœªçŸ¥ã®å˜èªãŒå‡ºã¦ããŸéš›ã€ã€Œç«¶ãƒ—ãƒ­ã€ã‚’ã™ã‚‹ã€Œerã€ãªã‚“ã ãªã¨è§£é‡ˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚å˜èªã‚’ã™ã¹ã¦[0-9a-z&amp; ]ã®ç¯„å›²ã«ã—ãŸã®ã‚‚sentence pieceã§ä½¿ãˆã‚‹èªå½™ã‚’ã‚ˆã‚Šæœ‰æ„ç¾©ãªã‚‚ã®ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚nameã¨addressã«ã¤ã„ã¦ãã‚Œãã‚Œ32000ã®ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰ã§è¡¨ã™ã‚ˆã†SentencePieceã‚’åˆ¥ã€…ã«å­¦ç¿’ã—ã¾ã—ãŸã€‚</p><h4 id="embeddingã®å­¦ç¿’"><a href="#embeddingã®å­¦ç¿’" class="headerlink" title="embeddingã®å­¦ç¿’"></a>embeddingã®å­¦ç¿’</h4><p>å­¦ç¿’ã«ã¯name, address, categoriesã¨ã€ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã«ã—ãŸcountry, city, state, geo_nameã‚’ç”¨ã„ä»¥ä¸‹ã®ä¸‰ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><ol><li>åŒã˜nameå†…ã®å˜èªã®å…±èµ·æƒ…å ±ã‹ã‚‰embeddingã‚’å­¦ç¿’ã™ã‚‹Skip-Gramãƒ™ãƒ¼ã‚¹ã®ã‚¿ã‚¹ã‚¯</li><li>categoriesä»¥å¤–ã‹ã‚‰categoriesã‚’äºˆæ¸¬ã™ã‚‹metric learningã‚¿ã‚¹ã‚¯</li><li>ãã‚Œãã‚Œã®embeddingã‚’<a href="https://arxiv.org/abs/2201.09792">ConvMixer</a>ã®ã‚ˆã†ã«æ··ãœã¦mix embeddingã¨ã—ã€<a href="https://arxiv.org/abs/2104.08821">SimCSE</a>ã§è‡ªå·±æ•™å¸«ã‚ã‚Šå¯¾ç…§å­¦ç¿’ã‚’è¡Œã†ã‚¿ã‚¹ã‚¯</li></ol><p>1.ã¨3.ã®ã‚¿ã‚¹ã‚¯ã«ã¤ã„ã¦ã¯ãƒãƒƒãƒå†…ã®ä»–ã‚µãƒ³ãƒ—ãƒ«ã‚’è² ä¾‹ã¨ã™ã‚‹ã®ã»ã‹ã«ã€è·é›¢ã®è¿‘ã•ã‚’è¾ºã®é‡ã¿ã¨ã—ãŸrandom walkã«ã‚ˆã‚‹negative hard samplingã«ã‚ˆã£ã¦ã€é›£æ˜“åº¦ã®é«˜ã„è² ä¾‹ã‚’ã‚µãƒ³ãƒ—ãƒ«ã”ã¨ã«ç”¨æ„ã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šembeddingã®è³ªãŒå¤§ããå‘ä¸Šã—ã¾ã—ãŸã€‚</p><p>ãªãŠã€1ã®Skip-Gramã‚¿ã‚¹ã‚¯ã®å­¦ç¿’ã¯ã‚³ãƒ³ãƒšä¸­<a href="https://www.kaggle.com/code/nadare/w2v-haversine-nn-baseline-training-inference">W2V &amp; haversine NN baseline[Training&#x2F;Inference]</a>ã¨ã„ã†ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚</p><h4 id="embeddingã®è©•ä¾¡"><a href="#embeddingã®è©•ä¾¡" class="headerlink" title="embeddingã®è©•ä¾¡"></a>embeddingã®è©•ä¾¡</h4><p>embeddingã®è©•ä¾¡ã¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã”ã¨ã«è¿‘å‚ã‚’å–å¾—ã—ã€precision@16 (â‰’ maxIoU)ã‚’è¨ˆç®—ã—ã¦è©•ä¾¡ã‚’è¡Œã„ã¾ã—ãŸã€‚<br>ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨ã—ã¦Universal Sentence Encoderã§ã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã®è¿‘å‚ã¨ã€haversineè·é›¢ã®è¿‘å‚ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚</p><div class="scroll"><table><thead><tr><th>è¿‘å‚ã®å–å¾—æ–¹æ³•</th><th>precision@16</th><th>precision@32</th></tr></thead><tbody><tr><td>USE name embedding</td><td>0.7582</td><td>0.7879</td></tr><tr><td>haversine distance</td><td>0.8946</td><td>0.9160</td></tr></tbody></table></div><p>ã§ã—ãŸãŒã€ä¸Šè¨˜ã®3ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’è§£ãã“ã¨ã«ã‚ˆã‚Šä»¥ä¸‹ã®ã‚ˆã†ãªembeddingã‚’å¾—ã‚‰ã‚Œã¾ã—ãŸã€‚</p><div class="scroll"><table><thead><tr><th>è¿‘å‚ã®å–å¾—æ–¹æ³•</th><th>precision@16</th><th>precision@32</th></tr></thead><tbody><tr><td>name embedding</td><td>0.7738</td><td>0.8061</td></tr><tr><td>address embedding</td><td>0.8690</td><td>0.8811</td></tr><tr><td>mix embedding</td><td>0.8997</td><td>0.9120</td></tr></tbody></table></div><p>nameã«é–¢ã—ã¦ã¯ã€Universal Sentence Encoderã‚ˆã‚Šã‚‚é«˜ã„precisionã§ã€éå¸¸ã«è³ªã®é«˜ã„embeddingã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><h3 id="K-means-amp-Word-Tour"><a href="#K-means-amp-Word-Tour" class="headerlink" title="K-means++ &amp; Word Tour"></a>K-means++ &amp; Word Tour</h3><p>embeddingã‚’LightGBMã®ã‚ˆã†ãªGBDTãŒè§£é‡ˆã—ã‚„ã™ã„å½¢ã«ã™ã‚‹ãŸã‚ã€çƒé¢K-means++ã¨<a href="https://arxiv.org/abs/2205.01954">Word Tour</a>ã‚’çµ„ã¿åˆã‚ã›ãŸæ‰‹æ³•ã§ä¸€æ¬¡å…ƒã«è½ã¨ã—è¾¼ã¿ã¾ã—ãŸã€‚Word Tourã¯embeddingé–“ã®è·é›¢ã‚’å…ƒã«å·¡å›ã‚»ãƒ¼ãƒ«ã‚¹ãƒãƒ³å•é¡Œ(TSP)ã‚’è§£ãã€ãã®é †ç•ªã§embeddingã‚’ä¸¦ã³æ›¿ãˆã‚‹ã¨ã„ã†æ‰‹æ³•ã§ã€ã“ã‚Œã«ã‚ˆã‚Šä¸€æ¬¡å…ƒä¸Šã§è·é›¢ã®è¿‘ã„ä½ç½®ã«ä¼¼ãŸembeddingãŒä¸¦ã¶ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><p>ã“ã‚Œã¯æ±ºå®šæœ¨ç³»ã®åˆ†å‰²æ‰‹æ³•ã¨ç›¸æ€§ãŒã‚ˆãã€<a href="https://www.kaggle.com/code/nadare/word-tour-experiment/notebook">Food101ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§ã®æ¤œè¨¼ã‚’è¡Œã£ãŸéš›</a>ã¯PCAã§ã®åœ§ç¸®ã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«æ¬¡å…ƒã‚’åœ§ç¸®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã¾ãŸã€Food101ã®ãƒ©ãƒ™ãƒ«ã«ã¤ã„ã¦Word Tourã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€ãƒ©ãƒ™ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ä¸¦ã¶ãŸã‚ã€æ±ºå®šæœ¨ã¨ã®ç›¸æ€§ã®è‰¯ã•ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">eggs_benedict</span><br><span class="line">omelette</span><br><span class="line">lasagna</span><br><span class="line">pizza</span><br><span class="line">garlic_bread</span><br><span class="line">grilled_cheese_sandwich</span><br><span class="line">club_sandwich</span><br><span class="line">hamburger</span><br><span class="line">pulled_pork_sandwich</span><br><span class="line">lobster_roll_sandwich</span><br><span class="line">hot_dog</span><br></pre></td></tr></table></figure><p>å·¡å›ã‚»ãƒ¼ãƒ«ã‚¹ãƒãƒ³å•é¡Œã¯NPå›°é›£ãªå•é¡Œã§ã‚ã‚‹ã®ã§ã™ãŒã€ç§ã¯ã“ã‚Œã«å¯¾ã—ã€K-means++ã§é ‚ç‚¹æ•°ã‚’æ¸›ã‚‰ã—ãŸã†ãˆã§<a href="https://developers.google.com/optimization">OR-Tools</a>ã‚’ç”¨ã„ã‚‹ã“ã¨ã§æ‰‹è»½ãªå®Ÿè£…ã§ç¾å®Ÿçš„ãªæ™‚é–“å†…ã«TSPã®è¿‘ä¼¼è§£ã‚’æ±‚ã‚ã¾ã—ãŸã€‚ã¾ãŸã€K-meansã«ã¤ã„ã¦ã¯categoriesã‚„namesã®embeddingã ã‘ã§ãªãlatitudeã¨longitudeã§ã‚‚K-means++ã‚’è¡Œã„TSPã§ä¸¦ã³æ›¿ãˆã¾ã—ãŸã€‚city, state, geo_nameãªã©ã®ã‚«ãƒ†ã‚´ãƒªã‚‚CountEncodingã®ä»–ã«haversineè·é›¢ã«åŸºã¥ã„ã¦TSPã‚’è¨ˆç®—ã—ä¸¦ã³æ›¿ãˆã‚’è¡Œã„ã¾ã—ãŸã€‚</p><p>K-meansç³»ã®ç‰¹å¾´é‡ã¨ã—ã¦ã¯ã€Word Tourã§ä¸¦ã¹ãªãŠã—ãŸK-meansã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«ã¨ã€å„ã‚¯ãƒ©ã‚¹ã‚¿ä¸­å¿ƒã¾ã§ã®è·é›¢ã‚’ãƒ‡ãƒ¼ã‚¿ã«ç´ã¥ã‘ã¾ã—ãŸã€‚</p><h2 id="retrieval-ãƒ‘ãƒ¼ãƒˆ"><a href="#retrieval-ãƒ‘ãƒ¼ãƒˆ" class="headerlink" title="retrieval ãƒ‘ãƒ¼ãƒˆ"></a>retrieval ãƒ‘ãƒ¼ãƒˆ</h2><h3 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h3><p>retrieval ãƒ‘ãƒ¼ãƒˆã§ã¯GPUä¸Šã§å…¨çµ„ã¿åˆã‚ã›ã®è¨ˆç®—ãŒã§ãã‚‹é«˜é€Ÿã§ç°¡å˜ãªæ‰‹æ³•ã§ã€å–ã‚Šã“ã¼ã—ãŒç„¡ã„ã‚ˆã†ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚</p><h3 id="å€™è£œç”Ÿæˆ"><a href="#å€™è£œç”Ÿæˆ" class="headerlink" title="å€™è£œç”Ÿæˆ"></a>å€™è£œç”Ÿæˆ</h3><p>ä½œæˆã—ãŸembeddingã‚„haversineè·é›¢ã‚’å…ƒã«ä¸€ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ã«ã¤ã32ã®å€™è£œã‚’ä½œæˆã—LightGBMã§ã®å­¦ç¿’ãƒ»äºˆæ¸¬ã«ç”¨ã„ã¾ã—ãŸã€‚<br>å€™è£œç”Ÿæˆã¯ä»¥ä¸‹ã®äº”ã¤ã®æ–¹æ³•ã‚’ç”¨ã„ã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã¯TensorFlowã‚’ç”¨ã„ã¦GPUä¸Šã§è¨ˆç®—ã‚’è¡Œã£ãŸã®ã§ã€å…¨çµ„ã¿åˆã‚ã›ã«ã¤ã„ã¦æ„šç›´ã«è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><div class="scroll"><table><thead><tr><th>ç•ªå·</th><th>å‡¦ç†ã®ç¨®é¡</th><th>å–å¾—æ•°</th></tr></thead><tbody><tr><td>1</td><td>äºŒç‚¹é–“ã®latitude, longitudeã‹ã‚‰è¨ˆç®—ã™ã‚‹haversineè·é›¢ã«ã‚ˆã‚‹è¿‘å‚</td><td>4</td></tr><tr><td>2</td><td>haversineè·é›¢ã¨embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚’ç”¨ã„ãŸé‡å›å¸°ã«ã‚ˆã‚‹è¿‘å‚</td><td>12</td></tr><tr><td>3</td><td>nameã®å˜èªå˜ä½ã§ã®ä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚</td><td>4</td></tr><tr><td>4</td><td>nameã®æ–‡å­—å˜ä½ã§ã®ä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚</td><td>8</td></tr><tr><td>5</td><td>nameã®embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã«ã‚ˆã‚‹è¿‘å‚</td><td>4</td></tr></tbody></table></div><h4 id="haversineè·é›¢ã¨embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚’ç”¨ã„ãŸé‡å›å¸°ã«ã‚ˆã‚‹è¿‘å‚"><a href="#haversineè·é›¢ã¨embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚’ç”¨ã„ãŸé‡å›å¸°ã«ã‚ˆã‚‹è¿‘å‚" class="headerlink" title="haversineè·é›¢ã¨embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚’ç”¨ã„ãŸé‡å›å¸°ã«ã‚ˆã‚‹è¿‘å‚"></a>haversineè·é›¢ã¨embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚’ç”¨ã„ãŸé‡å›å¸°ã«ã‚ˆã‚‹è¿‘å‚</h4><p>2ã«ã¤ã„ã¦ã¯haversineè·é›¢ã®å¯¾æ•°ã¨å„embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‹ã‚‰é‡å›å¸°ã‚’è¡Œã„ã¾ã—ãŸã€‚é‡å›å¸°ã®å­¦ç¿’ã¯ãƒ­ã‚¸ã‚¹ãƒ†ã‚£ãƒƒã‚¯å›å¸°ã§è¡Œã†ã‚ˆã‚Šã‚‚ã€æ­£ä¾‹ãŒã‚ˆã‚Šé«˜ã„ã‚¹ã‚³ã‚¢ã«ãªã‚‹ã‚ˆã†ãƒ©ãƒ³ã‚¯å­¦ç¿’ã‚’è¡Œã†ã“ã¨ã§ã‚ˆã‚Šã‚ˆã„é‡å›å¸°ã®ä¿‚æ•°ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><h4 id="Bag-of-Wordsä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚"><a href="#Bag-of-Wordsä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚" class="headerlink" title="Bag of Wordsä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚"></a>Bag of Wordsä¸€è‡´åº¦ã«ã‚ˆã‚‹è¿‘å‚</h4><p>3, 4ã«ã¤ã„ã¦ã¯å˜èªå˜ä½ã€æ–‡å­—å˜ä½ã§ã®Bag of Wordãƒ™ã‚¯ãƒˆãƒ«ã‚’ä½œæˆã—ã€ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ãƒ»precisionãƒ»recallã‚’ã‚‚ã¨ã‚ã¾ã—ãŸã€‚<br>precisionãƒ»recallã«ã¤ã„ã¦ã¯ã€Œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æ ªå¼ä¼šç¤¾ã€ã‚’ã‚¯ã‚¨ãƒªã€ã€Œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã€ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ã¦æ–‡å­—å˜ä½ã§æ¯”è¼ƒã—ãŸéš›ã€<br>å…±é€šéƒ¨åˆ†ã¯ã€Œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã€ãªã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><ul><li>æ–‡å­—å˜ä½ã§ã®precisionã¯ len(ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼) &#x2F; len(ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æ ªå¼ä¼šç¤¾)ã§0.6ã€</li><li>æ–‡å­—å˜ä½ã§ã®recallã¯ len(ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼) &#x2F; len(ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼)ã§1.0</li></ul><p>ã“ã®ã‚ˆã†ãªæ‰‹æ³•ã‚’ç”¨ã„ãŸã®ã¯ã€POIã®ãƒšã‚¢ã¨ã—ã¦ã€Œã€‡ã€‡ã‚³ãƒ³ãƒ“ãƒ‹ã€ã¨ã€Œã€‡ã€‡ã‚³ãƒ³ãƒ“ãƒ‹ã€€XXXåº—ã€ã®ã‚ˆã†ãªçµ„ã¿åˆã‚ã›ã‚’å¤šãè¦‹ãŸã‹ã‚‰ã§ã™ã€‚<br>Bag of Wordsãƒ™ã‚¯ãƒˆãƒ«ã‚’l2æ­£è¦åŒ–ã—ãŸéš›ã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã¨ã€precision, recallã®å¤§ãã„é †ã«å€™è£œã‚’å–å¾—ã—ã€åŒç‡ã®å ´åˆã¯é‡å›å¸°ã®ã‚¹ã‚³ã‚¢ã§ä¸¦ã¹ãªãŠã—ã¦ä¸Šä½ã‚’å–å¾—ã—ã¾ã—ãŸã€‚</p><h4 id="å€™è£œç”Ÿæˆã®ç²¾åº¦"><a href="#å€™è£œç”Ÿæˆã®ç²¾åº¦" class="headerlink" title="å€™è£œç”Ÿæˆã®ç²¾åº¦"></a>å€™è£œç”Ÿæˆã®ç²¾åº¦</h4><p>ã“ã®5ã¤ã®æ‰‹æ³•ã§éå¯¾ç§°ãªå€™è£œç”Ÿæˆã‚’è¡Œã£ãŸçµæœã€</p><div class="scroll"><table><thead><tr><th>è¿‘å‚ã®å–å¾—æ–¹æ³•</th><th>maxIoU(â‰’precision@32)</th></tr></thead><tbody><tr><td>retrievalã®ã¿</td><td>0.9778</td></tr><tr><td>retrieval+postprocess</td><td>0.9935</td></tr></tbody></table></div><p>ã¾ã§é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><h2 id="predict-ãƒ‘ãƒ¼ãƒˆ"><a href="#predict-ãƒ‘ãƒ¼ãƒˆ" class="headerlink" title="predict ãƒ‘ãƒ¼ãƒˆ"></a>predict ãƒ‘ãƒ¼ãƒˆ</h2><h3 id="æ¦‚è¦-1"><a href="#æ¦‚è¦-1" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h3><p>predict ãƒ‘ãƒ¼ãƒˆã§ã¯ã€ã‚ã‚‹åœ°ç‚¹(query)ã¨ãã®å€™è£œ(candidate)ã®1:1ã®é–“ã®ç‰¹å¾´é‡ã‚’è¿½åŠ ã—ã€LightGBMã§äºŒå€¤åˆ†é¡ã‚’è¡Œã„ã¾ã—ãŸã€‚<br>ä»Šå›ã®ãƒ‡ãƒ¼ã‚¿ã¯POIã®ãƒšã‚¢ã‚’æŒãŸãªã„ãƒ‡ãƒ¼ã‚¿ã‚‚å¤šãã€False PositiveãŒæ‚ªå½±éŸ¿ã‚’ä¸ãˆã‚„ã™ã‹ã£ãŸã®ã§ã€ãã‚Œã‚‰ã‚’é˜²ãå·¥å¤«ã‚‚æ¤œè¨ã—ã¾ã—ãŸã€‚</p><h3 id="ç‰¹å¾´é‡ç”Ÿæˆ"><a href="#ç‰¹å¾´é‡ç”Ÿæˆ" class="headerlink" title="ç‰¹å¾´é‡ç”Ÿæˆ"></a>ç‰¹å¾´é‡ç”Ÿæˆ</h3><h4 id="query-candidateã®ãã‚Œãã‚Œã®ã‚«ãƒ†ã‚´ãƒªã¨word-tourã®ä¸€æ¬¡å…ƒã®è·é›¢"><a href="#query-candidateã®ãã‚Œãã‚Œã®ã‚«ãƒ†ã‚´ãƒªã¨word-tourã®ä¸€æ¬¡å…ƒã®è·é›¢" class="headerlink" title="query, candidateã®ãã‚Œãã‚Œã®ã‚«ãƒ†ã‚´ãƒªã¨word tourã®ä¸€æ¬¡å…ƒã®è·é›¢"></a>query, candidateã®ãã‚Œãã‚Œã®ã‚«ãƒ†ã‚´ãƒªã¨word tourã®ä¸€æ¬¡å…ƒã®è·é›¢</h4><p>IDã”ã¨ã«ãã‚Œãã‚Œã®ã‚«ãƒ†ã‚´ãƒªã‚„ã‚¯ãƒ©ã‚¹ã‚¿ã‚’è¨ˆç®—ã—ã€queryã¨candidateã®ä¸¡æ–¹ã®IDã¨ãƒãƒ¼ã‚¸ã—ã¾ã—ãŸã€‚<br>ã¾ãŸã€Word Tourã§æ±‚ã‚ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«ã«ã¤ã„ã¦ã¯ä¸€æ¬¡å…ƒä¸Šã§ã®è·é›¢ã‚’è¨ˆç®—ã—ã¾ã—ãŸã€‚</p><h4 id="name-addressã«ã¤ã„ã¦ã®ã‚²ã‚·ãƒ¥ã‚¿ãƒ«ãƒˆãƒãƒƒãƒãƒ³ã‚°ã€ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã€ã‚¸ãƒ£ãƒ­ãƒ»ã‚¦ã‚£ãƒ³ã‚¯ãƒ©ãƒ¼è·é›¢"><a href="#name-addressã«ã¤ã„ã¦ã®ã‚²ã‚·ãƒ¥ã‚¿ãƒ«ãƒˆãƒãƒƒãƒãƒ³ã‚°ã€ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã€ã‚¸ãƒ£ãƒ­ãƒ»ã‚¦ã‚£ãƒ³ã‚¯ãƒ©ãƒ¼è·é›¢" class="headerlink" title="name, addressã«ã¤ã„ã¦ã®ã‚²ã‚·ãƒ¥ã‚¿ãƒ«ãƒˆãƒãƒƒãƒãƒ³ã‚°ã€ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã€ã‚¸ãƒ£ãƒ­ãƒ»ã‚¦ã‚£ãƒ³ã‚¯ãƒ©ãƒ¼è·é›¢"></a>name, addressã«ã¤ã„ã¦ã®ã‚²ã‚·ãƒ¥ã‚¿ãƒ«ãƒˆãƒãƒƒãƒãƒ³ã‚°ã€ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã€ã‚¸ãƒ£ãƒ­ãƒ»ã‚¦ã‚£ãƒ³ã‚¯ãƒ©ãƒ¼è·é›¢</h4><p>ã“ã‚Œã‚‰ã¯æ–‡å­—åˆ—ã®é¡ä¼¼åº¦ã‚’è¨ˆç®—ã™ã‚‹å¤å…¸çš„ãªæ‰‹æ³•ã§ã€pythonå†…è”µã®<a href="https://docs.python.org/ja/3/library/difflib.html">difflib</a>ã‚„ã€<a href="https://github.com/ztane/python-Levenshtein">Levenshtein</a>ã¨ã„ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚CPUã§ã®è¨ˆç®—ãªã®ã§æ™‚é–“ã¯ã‹ã‹ã‚Šã¾ã™ãŒã€æœ‰åŠ¹ãªç‰¹å¾´é‡ã§ã‚ã£ãŸãŸã‚ã€3ç¨®é¡ã®æ–¹æ³•ã§åŠ å·¥ã—ãŸname, addressã¨name, addressã®æ•°å­—éƒ¨åˆ†ã ã‘ã‚’æŠ½å‡ºã—ãŸã‚‚ã®ã‚’ã“ã‚Œã‚‰ã®æ‰‹æ³•ã§é¡ä¼¼åº¦ã‚’è¨ˆç®—ã—ã¾ã—ãŸã€‚</p><h4 id="name-addressã«ã¤ã„ã¦ã®ROUGE-N-ROUGE-L"><a href="#name-addressã«ã¤ã„ã¦ã®ROUGE-N-ROUGE-L" class="headerlink" title="name, addressã«ã¤ã„ã¦ã®ROUGE-N, ROUGE-L"></a>name, addressã«ã¤ã„ã¦ã®ROUGE-N, ROUGE-L</h4><p>ROUGEã¯æ–‡ç« è¦ç´„ã‚¿ã‚¹ã‚¯ã®è‰¯ã—ã‚ã—ã‚’æ¸¬ã‚‹ã®ã«ã¤ã‹ã‚ã‚Œã‚‹ã“ã¨ãŒå¤šã„æ‰‹æ³•ã§ã€æ–‡ç« åŒå£«ã«ã¤ã„ã¦ä¸€å®šã®åˆ†å‰²ã‚’ã—ãŸå¾Œã€å…±é€šéƒ¨åˆ†ã®precision, recall, Få€¤ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ROUGE-Nã¯N-gramã€ROUGE-Lã¯LCSã‚’ç”¨ã„ã¦ROUGEã‚’è¨ˆç®—ã—ã¾ã™ã€‚å‰è€…ã¯TensorFlowã®RaggedTensorã‚’æ´»ç”¨ã€å¾Œè€…ã¯tensorflow-textã«ã‚ã‚‹rouge_lé–¢æ•°ã‚’ç”¨ã„ã¦GPUä¸Šã§é«˜é€Ÿã«è¨ˆç®—ã—ã¾ã—ãŸã€‚</p><h3 id="å­¦ç¿’ãƒ»äºˆæ¸¬"><a href="#å­¦ç¿’ãƒ»äºˆæ¸¬" class="headerlink" title="å­¦ç¿’ãƒ»äºˆæ¸¬"></a>å­¦ç¿’ãƒ»äºˆæ¸¬</h3><h4 id="å­¦ç¿’ãƒ‡ãƒ¼ã‚¿"><a href="#å­¦ç¿’ãƒ‡ãƒ¼ã‚¿" class="headerlink" title="å­¦ç¿’ãƒ‡ãƒ¼ã‚¿"></a>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿</h4><p>å­¦ç¿’ã¯LightGBMã‚’ç”¨ã„ã€ç‰¹å¾´é‡ã®è©•ä¾¡æ™‚ã¯pidã§åˆ†å‰²ã—ãŸ5foldã§ã®è¨ˆç®—ã€æå‡ºæ™‚ã¯å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦iterationæ•°ã‚’æ±ºã‚æ‰“ã¡ã§å­¦ç¿’ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><h4 id="sample-weight"><a href="#sample-weight" class="headerlink" title="sample weight"></a>sample weight</h4><p>sample weightã¯ä»–ã®POIã®ãƒšã‚¢ã‚’ã™ã¹ã¦å½“ã¦ã‚‰ã‚ŒãŸã†ãˆã§äºˆæ¸¬ã‚’é–“é•ãˆãŸã¨ãã®IoUã®æå¤±ã‚’weightã¨ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€å‰è¿°ã®ã¨ãŠã‚ŠTrue Negativeã‚ˆã‚Šã‚‚False Positiveã®æ–¹ãŒã‚¹ã‚³ã‚¢ã«å¯¾ã™ã‚‹æ‚ªå½±éŸ¿ãŒå¤§ãã„ã‹ã‚‰ã§ã™ã€‚weightã¯æ­£ä¾‹ã§å¹³å‡ã—ã¦0.8ã€è² ä¾‹ã§1.0ã«ãªã‚Šã¾ã—ãŸã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dev_data_df[<span class="string">&quot;weight&quot;</span>] = np.where(dev_data_df[<span class="string">&quot;label&quot;</span>],</span><br><span class="line">                                 <span class="number">1</span> - (dev_data_df[<span class="string">&quot;true_count&quot;</span>] - <span class="number">1</span>) / dev_data_df[<span class="string">&quot;true_count&quot;</span>],</span><br><span class="line">                                 <span class="number">1</span> - (dev_data_df[<span class="string">&quot;true_count&quot;</span>]) / (dev_data_df[<span class="string">&quot;true_count&quot;</span>]+<span class="number">1</span>))</span><br><span class="line">dev_data_df[<span class="string">&quot;weight&quot;</span>] = dev_data_df[<span class="string">&quot;weight&quot;</span>] / dev_data_df[<span class="string">&quot;weight&quot;</span>].mean()</span><br></pre></td></tr></table></figure><h4 id="LightGBMã®ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿"><a href="#LightGBMã®ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿" class="headerlink" title="LightGBMã®ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿"></a>LightGBMã®ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h4><p>LightGBMã®åŸºæœ¬çš„ãªãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯num_leavesãŒ2^12ãŒæœ€é©ã§ã€å­¦ç¿’ç‡ã¯0.1ã¨é«˜ãã€2000iterationsã¾ã§å­¦ç¿’ã‚’è¡Œã„ã¾ã—ãŸã€‚ã“ã‚Œã§ã‚‚pidã§åˆ†å‰²ã—ãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã§ã®AUCãŒä¸Šæ˜‡ã—ç¶šã‘ã¾ã—ãŸã€‚</p><p>ç´°ã‹ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã€â€max_bin_by_featureâ€ã‚’è¨­å®šã—ã¾ã—ãŸã€‚LightGBMã¯å­¦ç¿’ã®å‰ã«é€£ç¶šå€¤ã‚’ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã«å¤‰æ›ã—ã€æœ€å¤§ã§ã‚‚255ã®binã«ã—ã¦ã—ã¾ã†ã®ã§ãã‚Œä»¥ä¸Šã®ã‚«ãƒ†ã‚´ãƒªæ•°ãŒã‚ã‚‹ã¨æŠ¼ã—ã¤ã¶ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ãã“ã§ã€K-meansã®ãƒ©ãƒ™ãƒ«ã¨categoriesã®ãƒ©ãƒ™ãƒ«ã¯255ã‚ˆã‚Šå¤§ããªå€¤ã«ãªã‚‹ã‚ˆã†ã«ä¸€éƒ¨ã®ã‚«ãƒ†ã‚´ãƒªã®max_binã‚’ç·©å’Œã™ã‚‹ã‚ˆã†è¨­å®šã—ã¾ã—ãŸã€‚â€bin_construct_sample_cntâ€ã¯åˆæœŸã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ä½œã‚‹ã¨ãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã€ã“ã‚Œã‚’å°ã•ãã™ã‚‹ã¨ç²¾åº¦ãŒå°‘ã—ä¸‹ãŒã‚‹ä»£ã‚ã‚Šã«å­¦ç¿’å‰ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ æ§‹ç¯‰ã«ãŠã‘ã‚‹ãƒ¡ãƒ¢ãƒªã¨æ™‚é–“ã‚’ç¯€ç´„ã§ãã¾ã™ã€‚å­¦ç¿’ç’°å¢ƒã«ã‚ˆã£ã¦ã“ã‚Œã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚ã™ã¹ã¦ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">lgb_params = &#123;</span><br><span class="line">    <span class="string">&quot;objective&quot;</span> : <span class="string">&quot;binary&quot;</span>,</span><br><span class="line">    <span class="string">&quot;metric&quot;</span> : <span class="string">&quot;auc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;boosting&quot;</span>: <span class="string">&#x27;gbdt&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;max_depth&quot;</span> : -<span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;num_leaves&quot;</span> : <span class="number">2</span>**<span class="number">12</span> - <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;learning_rate&quot;</span> : <span class="number">0.1</span>,</span><br><span class="line">    <span class="string">&quot;bagging_freq&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;is_unbalance&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">    <span class="string">&quot;max_bin_by_feature&quot;</span>: max_bin_by_feature,</span><br><span class="line">    <span class="string">&quot;bin_construct_sample_cnt&quot;</span>: <span class="number">200000</span>,</span><br><span class="line">    <span class="string">&quot;lambda_l1&quot;</span>: <span class="number">1.</span>,</span><br><span class="line">    <span class="string">&quot;lambda_l2&quot;</span>: <span class="number">1.</span>,</span><br><span class="line">    <span class="string">&quot;bagging_fraction&quot;</span> : <span class="number">0.9</span>,</span><br><span class="line">    <span class="string">&quot;feature_fraction&quot;</span> : <span class="number">0.6</span>,</span><br><span class="line">    <span class="string">&quot;seed&quot;</span>: <span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="äºˆæ¸¬"><a href="#äºˆæ¸¬" class="headerlink" title="äºˆæ¸¬"></a>äºˆæ¸¬</h4><p>äºˆæ¸¬ã¯500iterationã®ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ãŸæ™‚ç‚¹ã§äºˆæ¸¬æ™‚ã«åˆè¨ˆ1æ™‚é–“ä»¥ä¸Šã‹ã‹ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ãŸãŸã‚ã€<a href="https://docs.rapids.ai/api/cuml/stable/api.html#cuml.ForestInference">cumlã®ForestInference</a>ã‚’æ´»ç”¨ã—GPUä¸Šã§ã®äºˆæ¸¬ã‚’è¡Œã„ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Š100å€è¿‘ãã®é«˜é€ŸåŒ–ãŒã•ã‚Œã€2000, 3000iterationã®ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦ã‚‚å®Ÿè¡Œæ™‚é–“å†…ã«äºˆæ¸¬ã‚’çµ‚ãˆã‚‰ã‚Œã¾ã—ãŸã€‚LightGBMã¯float64ã§å¢ƒç•Œå€¤ã‚„leaf valueã‚’æŒã¤ä¸€æ–¹ã€ForestInferenceã¯float32ã§è¨ˆç®—ã‚’è¡Œã†ã®ã§è‹¥å¹²ã®ç²¾åº¦ä½ä¸‹ã¯ã‚ã‚‹ã‚‚ã®ã®ã€ãã‚Œä»¥ä¸Šã®é«˜é€ŸåŒ–ã®æ©æµã‚’å—ã‘ãŸãŸã‚æ¡ç”¨ã—ã¾ã—ãŸã€‚</p><h2 id="Postprocess-ãƒ‘ãƒ¼ãƒˆ"><a href="#Postprocess-ãƒ‘ãƒ¼ãƒˆ" class="headerlink" title="Postprocess ãƒ‘ãƒ¼ãƒˆ"></a>Postprocess ãƒ‘ãƒ¼ãƒˆ</h2><p>Postpeocessãƒ‘ãƒ¼ãƒˆã§ã¯ã€ã‚°ãƒ©ãƒ•ã¨ã—ã¦äºˆæ¸¬ã•ã‚ŒãŸãƒšã‚¢ã‚’ã¤ãªã’ã‚‹ã“ã¨ã§æ‹¾ã„ã“ã¼ã—ã‚’æ‹¾ã£ã¦ç²¾åº¦ã‚’ä¸Šã’ã¾ã—ãŸã€‚</p><h3 id="æ¦‚è¦-2"><a href="#æ¦‚è¦-2" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h3><p>ãƒšã‚¢åŒå£«ã®äºˆæ¸¬å€¤ã‚’å‡ºã—ãŸå¾Œã¯ã€ä¸€å®šã®é–¾å€¤ã‚’å…ƒã«UnionFindã§é ‚ç‚¹åŒå£«ã‚’é€£çµã—ã‚°ãƒ©ãƒ•ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚<br>å„ã‚°ãƒ©ãƒ•ã«å¯¾ã—ã¦ã€NetworkXã‚’ç”¨ã„ã€åª’ä»‹ä¸­å¿ƒæ€§ã‚’å…ƒã«ã—ãŸè¾ºã®æ’é™¤ã‚’è¡Œã£ãŸå¾Œã€é ‚ç‚¹é–“ã®è·é›¢ãŒ2ä»¥å†…ã®é ‚ç‚¹ã®ã¿ã‚’äºˆæ¸¬ã®ãƒšã‚¢ã¨ã—ã¦å‡ºåŠ›ã‚’è¡Œã„ã¾ã—ãŸã€‚</p><h1 id="ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†"><a href="#ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†" class="headerlink" title="ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†"></a>ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†</h1><h2 id="ãƒ¡ãƒ¢ãƒªå¢—åŠ ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"><a href="#ãƒ¡ãƒ¢ãƒªå¢—åŠ ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯" class="headerlink" title="ãƒ¡ãƒ¢ãƒªå¢—åŠ ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"></a>ãƒ¡ãƒ¢ãƒªå¢—åŠ ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h2><p>Kaggleã«ã‚³ãƒ¼ãƒ‰ã‚’æå‡ºã™ã‚‹éš›ã€å®Ÿè¡Œã«ã¯ä»¥ä¸‹ã®äºŒã¤ã®ç’°å¢ƒã‚’é¸ã¹ã¾ã™ã€‚</p><ul><li>4CPU 16GBRAM 9æ™‚é–“ä»¥å†…</li><li>2CPU 13GBRAM 1GPU 16GBRAM 9æ™‚é–“ä»¥å†…</li></ul><p>ä»Šå›ã®ã‚³ãƒ³ãƒšã«ã¨ã£ã¦ã¯ãƒ¡ãƒ¢ãƒªãŒå°‘ãªãã€OOMã‚’èµ·ã“ã—ã‚„ã™ã„å®Ÿè¡Œç’°å¢ƒã§ã—ãŸã€‚<br>ãã“ã§ç§ã¯ä»¥ä¸‹ã®äºŒã¤ã®å·¥å¤«ã‚’ã—ã¾ã—ãŸã€‚</p><ul><li>äºˆæ¸¬ã¯10000è¡Œå˜ä½ã§ç‰¹å¾´é‡ç”Ÿæˆâ†’äºˆæ¸¬ã®æµã‚Œã§è¡Œã†ã€‚</li><li>BoWã®è¡Œåˆ—ã¯TensorFlowã®RaggedTensorã‚„SparseTensorã«å¤‰æ›ã—ã€embeddingã¨ä¸€ç·’ã«GPU RAMã«é…ç½®ã™ã‚‹ã€‚</li></ul><p>embeddingã‚’GPUã«é…ç½®ã™ã‚‹ã“ã¨ã§å®Ÿè³ª29GBã®ãƒ¡ãƒ¢ãƒªã‚’ä½¿ãˆã‚‹ã“ã¨ã«ãªã‚Šä½™è£•ã®ã‚ã‚‹æ¨è«–ãŒã§ãã¾ã—ãŸã€‚</p><h2 id="é«˜é€ŸåŒ–ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"><a href="#é«˜é€ŸåŒ–ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯" class="headerlink" title="é«˜é€ŸåŒ–ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"></a>é«˜é€ŸåŒ–ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h2><p>ã¾ãŸã€embeddingã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã‚„ROUGEã®è¨ˆç®—ã¯GPUã§è¡Œã„ã€lgbmã®æ¨è«–ã‚‚ForestInferenceã«ã‚ˆã‚‹GPUã§ã®æ¨è«–ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§é«˜é€ŸåŒ–ã§ãã¾ã—ãŸã€‚ã“ã‚Œã®ãŠã‹ã’ã§æå‡ºã‹ã‚‰çµæœãŒå‡ºã‚‹ã¾ã§ã®æ™‚é–“ã¯ãŠã‚ˆã5æ™‚é–“ã§ã€4æ™‚é–“ã®ä½™è£•ãŒã‚ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã‚’æœ‰åŠ¹æ´»ç”¨ã§ããªã‹ã£ãŸã®ã¯æ®‹å¿µã§ã™ãŒã€ä½™è£•ã‚’ã‚‚ã£ã¦ç‰¹å¾´é‡ç”Ÿæˆã«é›†ä¸­ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><h2 id="å„è¨€èªå‡¦ç†ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"><a href="#å„è¨€èªå‡¦ç†ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯" class="headerlink" title="å„è¨€èªå‡¦ç†ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"></a>å„è¨€èªå‡¦ç†ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h2><p>ä¸­å›½èªã®åˆ†ã‹ã¡æ›¸ãã«ã¯<a href="https://tfhub.dev/google/zh_segmentation/1">zh_segmentation</a>ã€ã‚¿ã‚¤èªã®åˆ†ã‹ã¡æ›¸ããƒ»ãƒ­ãƒ¼ãƒå­—å¤‰æ›ã«ã¯<a href="https://pythainlp.github.io/">PyThaiNLP</a>ã‚’ç”¨ã„ã¾ã—ãŸã€‚ç‰¹ã«PyThaiNLPã¯æ©Ÿèƒ½ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿã—ã¦ãŠã‚Šã€ã‚¿ã‚¤èªã®å‡¦ç†ã«ã¯ã¨ã¦ã‚‚ä½¿ã„ã‚„ã™ã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚<br>æ—¥æœ¬èªã®åˆ†ã‹ã¡æ›¸ããƒ»èª­ã¿æ–¹ã®å–å¾—ãƒ»ãƒ­ãƒ¼ãƒå­—åŒ–ã¯<a href="https://github.com/WorksApplications/SudachiPy">Sudachi</a>ã¨<a href="https://github.com/miurahr/pykakasi">PyKakasi</a>ã‚’ç”¨ã„ã¦ã„ã¦ã€ç‰¹ã«Sudachiã«ã¤ã„ã¦ã¯æ—¥æœ¬èªã®è¡¨è¨˜ã‚†ã‚Œã®æ­£è¦åŒ–ã¾ã§å–å¾—ã§ããŸã®ã¯åˆ©ç‚¹ã§ã—ãŸã€‚ã¾ãŸã€ä»Šå›ã®ã‚¿ã‚¹ã‚¯ã§ã¯SentencePieceã®å­¦ç¿’ã¨Sudachiã®A mode(UniDicå˜ä½ç›¸å½“)ã®åˆ†å‰²ãŒç›¸æ€§è‰¯ã‹ã£ãŸã§ã™ã€‚</p><h2 id="è©¦ã—ãŸãŒåŠ¹ã‹ãªã‹ã£ãŸã‚‚ã®"><a href="#è©¦ã—ãŸãŒåŠ¹ã‹ãªã‹ã£ãŸã‚‚ã®" class="headerlink" title="è©¦ã—ãŸãŒåŠ¹ã‹ãªã‹ã£ãŸã‚‚ã®"></a>è©¦ã—ãŸãŒåŠ¹ã‹ãªã‹ã£ãŸã‚‚ã®</h2><ul><li>Universal Sentence Encoderã‚’ç”¨ã„ãŸembeddingç‰¹å¾´é‡ã®è¿½åŠ (LBãŒæ‚ªããªã£ãŸ)</li><li>Sentencepieceã«ã¤ã„ã¦name, addressã‚’åŒæ™‚ã«å­¦ç¿’(precisionãŒä¸‹ãŒã£ãŸ)</li><li>name, address embeddingã¸ã®ç•³ã¿è¾¼ã¿ã®è¿½åŠ (precisionãŒä¸‹ãŒã‚Šã€ã‹ã¤é…ããªã£ãŸ)</li><li>city, stateãªã©ã‚ã¾ã‚Šè³ªã®é«˜ããªã„embeddingã¸ã®Word Tour(æ„å‘³ã®ã‚ã‚‹ä¸¦ã³ã‚’å¾—ã‚‰ã‚Œãªã‹ã£ãŸ)<ul><li>Word TourãŒã†ã¾ãã„ãã‹ã¯embeddingã®è³ªã«å¤§ããå·¦å³ã•ã‚Œã¾ã™ã€‚</li></ul></li><li>è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç”¨ã„ãŸå€™è£œç”Ÿæˆ(Pure Pythonå®Ÿè£…ã ã¨é…ã‹ã£ãŸ)</li><li>LightGBMã®TensorFlowå®Ÿè£…(ForestInferenceã‚’ä½¿ã†æ–¹ãŒã¯ã‚‹ã‹ã«åŠ¹ç‡çš„ã ã£ãŸ)</li></ul><h1 id="ãƒªãƒ¼ã‚¯å•é¡Œã«ã¤ã„ã¦"><a href="#ãƒªãƒ¼ã‚¯å•é¡Œã«ã¤ã„ã¦" class="headerlink" title="ãƒªãƒ¼ã‚¯å•é¡Œã«ã¤ã„ã¦"></a>ãƒªãƒ¼ã‚¯å•é¡Œã«ã¤ã„ã¦</h1><p>ä»Šå›ã®ã‚³ãƒ³ãƒšã¯å‚åŠ è€…ãŒæ¨è«–ã‚’è¡Œã†ã‚³ãƒ¼ãƒ‰ã‚’æå‡ºã™ã‚‹ã¨ã€å‚åŠ è€…ãŒç›´æ¥è¦‹ã‚‹ã“ã¨ã®ã§ããªã„testãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡ã‚’è¡Œã‚ã‚ŒPublicã¨Privateã®ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—ã€ã‚³ãƒ³ãƒšçµ‚äº†å¾Œé‹å–¶ã®ãƒŸã‚¹ã«ã‚ˆã£ã¦testãƒ‡ãƒ¼ã‚¿ã®67%ãŒtrainãƒ‡ãƒ¼ã‚¿ã¨ä¸€è‡´ã—ã¦ã„ãŸå¯èƒ½æ€§ãŒå‚åŠ è€…ã‹ã‚‰æŒ‡æ‘˜ã•ã‚Œã¾ã—ãŸã€‚(trainãƒ‡ãƒ¼ã‚¿ã®nameã¨ç·¯åº¦çµŒåº¦ãŒå®Œå…¨ä¸€è‡´ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦LBä¸Šã§æ¤œè¨¼ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚)7&#x2F;19æ™‚ç‚¹ã§å…¨æå‡ºã«ã¤ã„ã¦é‡è¤‡ã‚’æ’é™¤ã—ãŸãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦å†è©•ä¾¡ãŒè¡Œã‚ã‚Œã€ä¸€éƒ¨ã®ãƒãƒ¼ãƒ ã«è¿½åŠ ã®è³é‡‘ãŒæ”¯æ‰•ã‚ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã‚Šã¾ã—ãŸã€‚</p><p>ã“ã®ãƒªãƒ¼ã‚¯ã«ã‚ˆã‚Šé‡‘åœä»˜è¿‘ã¾ã§ã®è§£æ³•ã®è‰¯ã—ã‚ã—ã®æ¯”è¼ƒãŒå›°é›£ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãŸã ã€ãƒªãƒ¼ã‚¯ãŒã‚ã£ãŸã«ã—ã‚ä¸Šä½ã®è§£æ³•ã¯ç´å¾—ã®ã§ãã‚‹ã‚‚ã®ã§ã€ç§è‡ªèº«ã‚‚è‡ªèº«ã®è§£æ³•ã¯ä»–ã«ã‚‚æ´»ç”¨ã§ãã‚‹è‡ªä¿¡ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã“ã®ãƒªãƒ¼ã‚¯ã«ã‚ˆã£ã¦ä¸Šä½ã®è§£æ³•ã®ä¾¡å€¤ãŒãªããªã£ãŸã‚ã‘ã§ã¯ãªã„ã“ã¨ã«ã¤ã„ã¦ã€ç†è§£ãŒåºƒã¾ã‚Œã°ã„ã„ãªã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><h1 id="è¬è¾"><a href="#è¬è¾" class="headerlink" title="è¬è¾"></a>è¬è¾</h1><p>ä»Šå›ã®ã‚³ãƒ³ãƒšã¯<a href="https://www.kaggle.com/takanobu0210">takapyã•ã‚“</a>ã€<a href="https://www.kaggle.com/imazekishota">Shotaã•ã‚“</a>ã€<a href="https://www.kaggle.com/matsumotoyuki">visionã•ã‚“</a>ã€<a href="https://www.kaggle.com/koichirokamada">Kurutonã•ã‚“</a>ã¨ä¸€ç·’ã«å‚åŠ ã—ã¾ã—ãŸã€‚ãƒãƒ¼ãƒ ã§å”åŠ›ã—ã¦ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚„ã‚³ãƒ¼ãƒ‰ã®æ•´å‚™ã€åŠ±ã¾ã—ã‚ã„ã‚’è¡Œã£ãŸãŠã‹ã’ã§ã€ä»Šå›é‡‘ãƒ¡ãƒ€ãƒ«ã‚’ç²å¾—ã§ããŸã¨æ€ã£ã¦ã„ã¾ã™ã€‚ã¾ãšã¯ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«å¼·ãæ„Ÿè¬ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚</p><p>ã¾ãŸã€ä»Šå›ã®è§£æ³•ã«ç”¨ã„ãŸæŠ€è¡“ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ä¾‹ãˆã°Sentencepieceã‚„OR-Toolsã¯ä¼šç¤¾ã®å‹‰å¼·ä¼šç­‰ã§æ•™ã‚ã‚Šã€SimCSEã‚„Word Tourã¯æ—¥æœ¬èªã®å‹‰å¼·ä¼šã§ç™ºè¡¨ã•ã‚ŒãŸã‚‚ã®ã‚’èã„ã¦ç†è§£ã‚’æ·±ã‚ã¦ã„ã¾ã—ãŸã€‚è‡ªåˆ†ã‚‚ç©æ¥µçš„ã«ç™ºè¡¨ã‚’ç¶šã‘æ©è¿”ã—ã‚’ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚</p><p>æœ€å¾Œã«ã€ä»Šå›ã®ã‚³ãƒ³ãƒšã§ä¸€ç·’ã«æˆ¦ã„ã€ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’è¡Œã£ã¦ãã‚ŒãŸãƒ©ã‚¤ãƒãƒ«ãŸã¡ã«ã‚‚æ„Ÿè¬ã‚’è¾¼ã‚ã¦ã€æœ¬è¨˜äº‹ã®çµ‚ã‚ã‚Šã¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚<br>é€£è¼‰ã®æ¬¡ã®è¨˜äº‹ã¯ æ¾å·ã•ã‚“ã®<a href="/articles/20220721a/">Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½</a>ã§ã™ã€‚ãŠæ¥½ã—ã¿ã«ï¼</p><h1 id="ãƒªãƒ³ã‚¯"><a href="#ãƒªãƒ³ã‚¯" class="headerlink" title="ãƒªãƒ³ã‚¯"></a>ãƒªãƒ³ã‚¯</h1><ul><li><a href="https://www.kaggle.com/competitions/foursquare-location-matching/discussion/335800">7th place solution(discussion)</a>: ã‚³ãƒ³ãƒšçµ‚äº†å¾Œã«æŠ•ç¨¿ã—ãŸdiscussionã€è§£æ³•ã«ã¤ã„ã¦è³ªå•ãŒã‚ã‚Œã°ã“ã¡ã‚‰ã®discussionã¸ã©ã†ã</li><li><a href="https://www.kaggle.com/code/nadare/7th-place-solution-inference">7th place solution inference(inference notebook)</a>: ã‚³ãƒ³ãƒšã§æå‡ºã‚’è¡Œã£ãŸæ¨è«–ç”¨notebook</li><li><a href="https://www.kaggle.com/competitions/foursquare-location-matching/discussion/336148">Letâ€™s discuss how to correspond to the name and address of each language!</a>: å„è¨€èªã”ã¨ã®è‡ªç„¶è¨€èªã®å‰å‡¦ç†ã«ã¤ã„ã¦ã‚ˆã‚Šè©³ã—ãèª¬æ˜ã—ãŸdiscussion</li><li><a href="https://www.kaggle.com/code/nadare/w2v-haversine-nn-baseline-training-inference">W2V &amp; haversine NN baseline[Training&#x2F;Inference]</a>: ã‚³ãƒ³ãƒšä¸­ã«å…¬é–‹ã—ãŸsentencepieceã‚’ç”¨ã„ãŸå€™è£œç”Ÿæˆã®notebook</li><li><a href="https://www.kaggle.com/code/nadare/word-tour-experiment">word tour experiment</a>: word tourã‚’Food101ã§å®Ÿé¨“ã—ãŸnotebook</li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;æœ¬è¨˜äº‹ã¯&lt;a href=&quot;/articles/20220719a/&quot;&gt;ã€Œåœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šã«é–¢ã™ã‚‹é€£è¼‰ã€&lt;/a&gt;äºŒæ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚æ˜¨æ—¥ã®&lt;a</summary>
        
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="Kaggle" scheme="https://future-architect.github.io/tags/Kaggle/"/>
    
    <category term="TensorFlow" scheme="https://future-architect.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>éƒµä¾¿ç•ªå·ãƒ»ä½æ‰€ãƒ»ç·¯åº¦çµŒåº¦ã®ä½“ç³»ã«ã¤ã„ã¦</title>
    <link href="https://future-architect.github.io/articles/20220719b/"/>
    <id>https://future-architect.github.io/articles/20220719b/</id>
    <published>2022-07-18T15:00:01.000Z</published>
    <updated>2022-07-20T01:34:09.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>ã“ã‚“ã«ã¡ã¯ã€‚TIG DXãƒ¦ãƒ‹ãƒƒãƒˆæ‰€å±ã®ä»Šæ³‰ã§ã™ã€‚<a href="/articles/20220719a/">åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®š</a>é€£è¼‰ã®1æœ¬ç›®ã§ã™ã€‚</p><p>éƒµä¾¿ç•ªå·ãƒ»ä½æ‰€ãƒ»ç·¯åº¦çµŒåº¦ã«ã¤ã„ã¦èª¿ã¹ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã€è‡ªåˆ†ãªã‚Šã«æ•´ç†ã—ãŸã‚‚ã®ã‚’è¨˜äº‹ã«ã—ã¦ã¿ã¾ã™ã€‚<br>æœ¬è¨˜äº‹ã§ã¯ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã«ãŠã„ã¦ã€ä»•æ§˜ãƒ¬ãƒ™ãƒ«ã§ã®é–“é•ã„ã‚’é˜²ããŸã‚ã€ŒçŸ¥ã£ã¦ãŠã„ãŸæ–¹ãŒã„ã„ã ã‚ã†ãªã€ã¨æ€ã£ãŸå†…å®¹ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p><h2 id="éƒµä¾¿ç•ªå·"><a href="#éƒµä¾¿ç•ªå·" class="headerlink" title="éƒµä¾¿ç•ªå·"></a>éƒµä¾¿ç•ªå·</h2><p>éƒµä¾¿ç•ªå·ã¯éƒµä¾¿ç‰©é…é€ã®åˆ†é¡ã«ä½¿ç”¨ã•ã‚Œã‚‹ç•ªå·ã§ã€æ—¥æœ¬ã§ã¯æ•°å­—ã®ã¿ã®7æ¡ã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ç¾åœ¨ã®éƒµä¾¿ç•ªå·ã¯1998å¹´ã«ãã‚Œã¾ã§5æ¡ã¾ãŸã¯3æ¡ã§ã‚ã£ãŸéƒµä¾¿ç•ªå·ã‚’7æ¡ã«çµ±ä¸€ã™ã‚‹ã“ã¨ã§ã€ç”ºåŸŸã¾ã§ã®æŒ‡å®šãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒæ™®åŠã—ãŸç¾åœ¨ã§ã¯UXå‘ä¸Šã®ãŸã‚ã€éƒµä¾¿ç•ªå·æ¤œç´¢ã«ã‚ˆã‚‹ä½æ‰€è£œå®Œãªã©ã§ã‚‚ä½¿ç”¨ã•ã‚Œã‚‹æ©Ÿä¼šãŒå¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯è©³ã—ãå–ã‚Šä¸Šã’ã¾ã›ã‚“ãŒã€éƒµä¾¿ç•ªå·ã®ä¸€è¦§ã¯ã€ŒKEN_ALL.CSVã€ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ãŠä¸–è©±ã«ãªã£ãŸæ–¹ã‚‚ã„ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p><p>æ—¥æœ¬éƒµä¾¿ãŒå…¬è¡¨ã—ã¦ã„ã‚‹éƒµä¾¿ç•ªå·ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p><blockquote><p>ã‘ãŸæ•°<br>7ã‘ãŸã¨ã—ã¾ã™ã€‚ï¼ˆ3ã‘ãŸç›®ã¨4ã‘ãŸç›®ã®é–“ã«ãƒã‚¤ãƒ•ãƒ³ã‚’å…¥ã‚Œã¾ã™ã€‚ï¼‰<br>ä½¿ç”¨æ–‡å­—<br>å½“åˆ†ã®é–“ã€ç®—ç”¨æ•°å­—ã®ã¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚<br>éƒµä¾¿ç•ªå·ã§è¡¨ã™ç¯„å›²ï¼ˆå›³1å‚ç…§ï¼‰<br>ã‚¢<br>éƒµä¾¿ç•ªå·ã¯ã€ç”ºåŸŸï¼ˆç‰¹åˆ¥åŒºåˆã¯å¸‚ç”ºæ‘åŒºåŸŸå†…ã®ç”ºåˆã¯å­—ã®åŒºåŸŸã‚’ã„ã„ã¾ã™ã€‚ãŸã ã—ã€åŸå‰‡ã¨ã—ã¦ã€ç”ºã®åç§°ã«ã€Œä¸ç›®ã€ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€â—‹ä¸ç›®ã‚’é™¤ãéƒ¨åˆ†ãŒåŒä¸€ã®åŒºåŸŸã¨ã—ã€å¤§å­—ã¨å°å­—ã«åˆ†ã‹ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€å¤§å­—ã®åŒºåŸŸã¨ã—ã¾ã™ã€‚ï¼‰ãŠã‚ˆã³è¶…é«˜å±¤ãƒ“ãƒ«ã«è¨­å®šã—ã¾ã™ã€‚<br>ã‚¤<br>å°å­—åˆã¯é€šç§°ã«ã¯åŸå‰‡ã¨ã—ã¦ã€éƒµä¾¿ç•ªå·ã¯è¨­å®šã—ã¾ã›ã‚“ã€‚ãŸã ã—ã€å½“è©²å°å­—åˆã¯é€šç§°ãŒå®Ÿè³ªçš„ã«å¤§å­—åˆã¯å…¬ç§°ç”ºåã¨ã—ã¦æ‰±ã‚ã‚Œã€éƒµä¾¿ç‰©ã¸ã®è¨˜è¼‰ãŒå¤šã„ç­‰å¿…è¦ãªå ´åˆã¯ã€éƒµä¾¿ç•ªå·ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚  ã€€</p></blockquote><p>â€»<a href="https://www.post.japanpost.jp/zipcode/zipmanual/p04.html">https://www.post.japanpost.jp/zipcode/zipmanual/p04.html</a> ã‚ˆã‚Šã€€ã€€ã€€</p><p>ã“ã“ã§2ç‚¹ã»ã©æ³¨ç›®ã—ã¦ãŠããŸã„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚</p><p>1ã¤ãŒã€Œ<strong>å½“åˆ†ã®é–“</strong>ã€ç®—ç”¨æ•°å­—ã®ã¿ã‚’ä½¿ç”¨ã€ã§ã‚ã‚‹ã“ã¨ã§ã™ã€‚ã‚¤ã‚®ãƒªã‚¹ã‚„ã‚«ãƒŠãƒ€ãªã©ã§ã¯ZIPCODE(éƒµä¾¿ç•ªå·)ã¯6æ¡ã®è‹±æ•°å­—ã§ã™ãŒã€æ—¥æœ¬ã‚‚å°†æ¥çš„ã«ã¯ç®—ç”¨æ•°å­—ä»¥å¤–ãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><p>2ã¤ç›®ãŒç”ºåŸŸä»¥å¤–ã«ã‚‚<strong>é«˜å±¤ãƒ“ãƒ«ãªã©ã®å»ºç‰©</strong>ã«è¨­å®šã•ã‚Œã‚‹ã“ã¨ã§ã™ã€‚ã“ã®å ´åˆã€ãƒ“ãƒ«ã®éšã”ã¨ã«éƒµä¾¿ç•ªå·ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€é«˜å±¤ãƒ“ãƒ«ã«å‰²ã‚ŠæŒ¯ã‚‰ã‚ŒãŸéƒµä¾¿ç•ªå·ã¨æ··åŒã—ã‚„ã™ã„ã‚‚ã®ã§é…é”æ•°ã®å¤šã„<strong>å¤§å£äº‹æ¥­æ‰€</strong>ã«å€‹åˆ¥ã«å‰²ã‚ŠæŒ¯ã‚‰ã‚ŒãŸ<strong>å¤§å£äº‹æ¥­æ‰€å€‹åˆ¥ç•ªå·</strong>ã¨ã„ã†éƒµä¾¿ç•ªå·ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚</p><p>å¤§å£äº‹æ¥­æ‰€å€‹åˆ¥ç•ªå·ã¯ã€ŒKEN_ALL.CSVã€ã«ãƒ‡ãƒ¼ã‚¿ã¯å­˜åœ¨ã›ãšã€ã€Œjigyosyo.csvã€ã¨ã—ã¦ä¸€è¦§ãƒ‡ãƒ¼ã‚¿ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>â€»<a href="https://www.post.japanpost.jp/zipcode/dl/jigyosyo/readme.html">https://www.post.japanpost.jp/zipcode/dl/jigyosyo/readme.html</a></p><h3 id="éƒµä¾¿ç•ªå·ã®æ§‹æˆè¦ç´ "><a href="#éƒµä¾¿ç•ªå·ã®æ§‹æˆè¦ç´ " class="headerlink" title="éƒµä¾¿ç•ªå·ã®æ§‹æˆè¦ç´ "></a>éƒµä¾¿ç•ªå·ã®æ§‹æˆè¦ç´ </h3><p>éƒµä¾¿ç•ªå·ã¯åŸºæœ¬çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ã«æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br><img src="/images/20220719b/pic_01.png" alt="pic_01.png" width="979" height="406" loading="lazy"><br>â€»<a href="https://www.post.japanpost.jp/zipcode/zipmanual/p04.html">https://www.post.japanpost.jp/zipcode/zipmanual/p04.html</a> ã‚ˆã‚Šã€€ã€€</p><p>éƒµä¾¿åŒºç•ªå·ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ãŒæ—§3æ¡ãƒ»5æ¡ã®éƒµä¾¿ç•ªå·ã§ã€ç”ºåŸŸç•ªå·ãŒ7æ¡åŒ–ã«ä¼´ã„ä»˜ä¸ã•ã‚ŒãŸã‚‚ã®ã§ã™ã€‚éƒµä¾¿åŒºç•ªå·ã®ã†ã¡ä¸Š2æ¡ã‚’åœ°åŸŸç•ªå·ã¨ã—ã¦ä½¿ç”¨ã—ã€åŸå‰‡1éƒ½é“åºœçœŒã«1åœ°åŸŸãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ä¸Š2æ¡ã‚’ã¿ã‚Œã°éƒ½é“åºœçœŒãŒç‰¹å®šã§ãã‚‹ã®ã§ã¯ãªã„ã‹ï¼Ÿã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€é…é€ä¸Šã®éƒ½åˆã‹ã‚‰åˆ¥ã®ç•ªå·ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚</p><p>â€»<a href="https://www.post.japanpost.jp/zipcode/dl/bangobo/zip_bgb.pdf">éƒµä¾¿ç•ªå·ç°¿</a>ã«åœ°åŸŸç•ªå·ã®ä¸€è¦§ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™</p><p>ã¾ãŸåŒæ§˜ã®ç†ç”±ã‚„å¸‚åŒºç”ºæ‘ã®åˆä½µãªã©ã«ã‚ˆã‚Šæ¬¡ã®ã‚ˆã†ãªéƒµä¾¿ç•ªå·ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚</p><ul><li>éƒ½é“åºœçœŒã‚’è·¨ã„ã§åŒã˜éƒµä¾¿ç•ªå·ã‚’æŒã¤</li><li>å¸‚åŒºç”ºæ‘ã‚’è·¨ã„ã§åŒã˜éƒµä¾¿ç•ªå·ã‚’æŒã¤</li><li>1ã¤ã®éƒµä¾¿ç•ªå·ã§è¤‡æ•°ã®ç”ºåŸŸã‚’æŒã¤</li></ul><p>â€»å‚è€ƒ:<a href="https://qiita.com/_takwat/items/3a121656425fac7bb820">éƒµä¾¿ç•ªå·ã‚„å¸‚åŒºç”ºæ‘ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šæ‰±ã†ã¨ãã«ã¯ã¾ã£ãŸã“ã¨</a></p><h2 id="ä½æ‰€"><a href="#ä½æ‰€" class="headerlink" title="ä½æ‰€"></a>ä½æ‰€</h2><p>æ—¥æœ¬ã®ä½æ‰€ã¯ã€Œæ±äº¬éƒ½å“å·åŒºå¤§å´1ä¸ç›®2ç•ª2å·ã€ã¨ã„ã†å…·åˆã«åºƒã„åœ°åŸŸã‹ã‚‰ç‹­ã„åœ°åŸŸã®éšå±¤ã§è¡¨ç¾ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p>ä½æ‰€ã¯ç§ãŸã¡ãŒæ—¥å¸¸çš„ã«ä½¿ç”¨ã™ã‚‹æ¦‚å¿µã§ã¯ã‚ã‚Šã¾ã™ãŒãã®å®Ÿã€éå¸¸ã«è¤‡é›‘ãªéšå±¤æ§‹æˆã¨ãªã£ã¦ãŠã‚Šæ­£è¦åŒ–ãŒé›£ã—ã„ã§ã™ã€‚ã¨ã„ã†ã®ã‚‚å¸‚åŒºç”ºæ‘ä»¥ä¸‹ã®ä½æ‰€éšå±¤ã«ã¤ã„ã¦ã¯å„è‡ªæ²»ä½“ã§å–ã‚Šæ±ºã‚ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã€ã€Œä½æ‰€ã€ã«ã¯2ã¤ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ãŒåŸå› ã§ã™ã€‚</p><h3 id="ä½å±…è¡¨è¨˜ã¨åœ°ç•ª"><a href="#ä½å±…è¡¨è¨˜ã¨åœ°ç•ª" class="headerlink" title="ä½å±…è¡¨è¨˜ã¨åœ°ç•ª"></a>ä½å±…è¡¨è¨˜ã¨åœ°ç•ª</h3><p>ä½æ‰€ã®è¡¨ç¤ºã«å½“ãŸã£ã¦ã¯ã€Œä½å±…è¡¨ç¤ºã€ã¨ã€Œåœ°ç•ªã€ã®äºŒã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚</p><p>æ˜æ²»ã®åœ°ç§Ÿæ”¹æ­£ä»¥æ¥ã€é•·ã‚‰ãæ—¥æœ¬ã®ä½æ‰€è¡¨è¨˜ã®å½¹å‰²ã‚’æ‹…ã£ã¦ã„ãŸã®ã¯ã€Œåœ°ç•ªã€ã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—åœ°ç•ªã¯æœ¬æ¥èª²ç¨ã‚„ä¸å‹•ç”£æŠ•æ©Ÿã®ãŸã‚ã®åœŸåœ°ã®ç¬¦å·ã§ã‚ã‚Šã€ãã‚Œã‚’ä½æ‰€ã®ç‰¹å®šã«æµç”¨ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ç‰¹ã«å¸‚è¡—åœ°ãªã©å»ºç‰©ãŒå¯†é›†ã—ã¦ã„ã‚‹åœŸåœ°ã«ãŠã„ã¦ã¯ä¸éƒ½åˆãŒå¤šãã‚ã‚Šã¾ã—ãŸã€‚ãã®è§£æ±ºç­–ã¨ã—ã¦å°å…¥ã•ã‚ŒãŸã®ãŒ1962å¹´ã«åˆ¶å®šã•ã‚ŒãŸä½å±…è¡¨ç¤ºæ³•ã«åŸºã¥ãä½å±…è¡¨ç¤ºåˆ¶åº¦ã§ã™ã€‚ä½å±…è¡¨ç¤ºã¯ç‰¹ã«éƒ½å¸‚éƒ¨ã«å°å…¥ã•ã‚Œã¦ãŠã‚Šã€æ”¿ä»¤æŒ‡å®šéƒ½å¸‚ã§ã¯äº¬éƒ½å¸‚ã‚’é™¤ã„ã¦æ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><h4 id="ä½å±…è¡¨ç¤º"><a href="#ä½å±…è¡¨ç¤º" class="headerlink" title="ä½å±…è¡¨ç¤º"></a>ä½å±…è¡¨ç¤º</h4><p>æ³•å‹™å±€ã«ç™»è¨˜ã—ã¦ã„ã‚‹åœŸåœ°ã®åœ°ç•ªã¨ã¯åˆ¥ã«ã€å„è‡ªæ²»ä½“ãŒå»ºç‰©ï¼ˆæ–½è¨­ï¼‰ã«å¯¾ã—ã¦ä½æ‰€ã‚’ã¤ã‘ã‚‹æ–¹æ³•ã§ã™ã€‚</p><p>ä¸€èˆ¬çš„ã«ã¯1ä¸ç›®1ç•ª1å·ã®ã‚ˆã†ã«è¡¨ç¤ºã—ã¾ã™ãŒã€ã€‡ä¸ç›®ã®éƒ¨åˆ†ã«ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆãŒç”¨ã„ã‚‰ã‚ŒãŸã‚Šã¨ä¾‹å¤–ã‚‚å¤šãå­˜åœ¨ã—ã¾ã™ã€‚</p><p>â€»æœ‰åãªä¾‹ã§ã¯å¤§é˜ªå¸‚ä¸­å¤®åŒºä¸Šç”ºã¯ 1ä¸ç›®,A, B, C ã§åˆ†ã‹ã‚Œã¦ã„ã¾ã™</p><h4 id="åœ°ç•ª"><a href="#åœ°ç•ª" class="headerlink" title="åœ°ç•ª"></a>åœ°ç•ª</h4><p>æ³•å‹™å±€ã«ç™»è¨˜ã—ã¦ã„ã‚‹åœŸåœ°ã®åœ°ç•ªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><p>ä¸€èˆ¬çš„ã«ã¯1ç•ªåœ°111ã®ã‚ˆã†ã«ã™ã¹ã¦æ•°å­—ã§è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€1977å¹´ä»¥å‰ã«æ¡ç•ªã•ã‚ŒãŸåœ°ç•ªã«ã¯æ¼¢å­—ã‚‚ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã»ã‚“ã®æ¦‚è¦ã—ã‹ç´¹ä»‹ã—ã¾ã›ã‚“ã§ã—ãŸãŒã€ã“ã‚Œã ã‘ã§ã‚‚ä½æ‰€ã®æ­£è¦åŒ–ãŒéå¸¸ã«å›°é›£ãªã‚‚ã®ã§ã‚ã‚‹ã“ã¨ãŒã”ç†è§£ã„ãŸã ã‘ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ä½æ‰€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«è½ã¨ã—è¾¼ã‚€å ´åˆã¯ååˆ†é…æ…®ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚ã¾ãŸã€éƒµä¾¿ç•ªå·ã¨ä½æ‰€ã«é–¢ã‚ã‚‹æ§˜ã€…ãªAPIã‚’æä¾›ã•ã‚Œã¦ã„ã‚‹ä¼šç¤¾ã‚‚ã‚ã‚Šã¾ã™ã€‚è‡ªèº«ã§ã®ã‚·ã‚¹ãƒ†ãƒ åŒ–ãŒé›£ã—ã„ã¨æ„Ÿã˜ãŸã‚‰ã“ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã•ã‚Œã‚‹ã®ã‚‚ä¸€æ‰‹ã§ã™ã€‚</p><p>ã‚±ãƒ³ã‚ªãƒ¼ãƒ«ã•ã‚“ã¯ä½æ‰€å…¥åŠ›ã®ã¤ãã‚Šæ–¹ã«ã¤ã„ã¦ç´ æ™´ã‚‰ã—ã„è¨˜äº‹ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li><a href="https://kenall.jp/">ã‚±ãƒ³ã‚ªãƒ¼ãƒ«</a></li><li><a href="https://blog.kenall.jp/entry/address-form-best-practice">ã“ã‚Œã ã‘ã¯æŠ¼ã•ãˆã‚ˆã†ï¼ä½æ‰€ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œã‚Šæ–¹</a></li></ul><p>ä½æ‰€ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ãŒã‚ˆã‚Šè©³ã—ãè§£èª¬ã‚’ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€é–¢å¿ƒã®ã‚ã‚‹æ–¹ã¯ãœã²ä¸€èª­ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚</p><ul><li><a href="https://note.com/navitime_tech/n/n3e58f71fc97d">ä½æ‰€æ¤œç´¢é–‹ç™ºè€…ãŒæ•™ãˆã‚‹ã€çŸ¥ã£ã¦ãŠããŸã„æ—¥æœ¬ã®ä½æ‰€ã®è©±(ç¬¬1å›)</a></li><li>ä»Šå°¾æµä»‹ã€ä½æ‰€ã¨åœ°åã®å¤§ç ”ç©¶ã€ (æ–°æ½®é¸æ›¸ 2004)</li></ul><h2 id="ç·¯åº¦ãƒ»çµŒåº¦"><a href="#ç·¯åº¦ãƒ»çµŒåº¦" class="headerlink" title="ç·¯åº¦ãƒ»çµŒåº¦"></a>ç·¯åº¦ãƒ»çµŒåº¦</h2><p>ã¾ãšã¯æ¦‚å¿µã«ã¤ã„ã¦æ•´ç†ã—ã¾ã—ã‚‡ã†ã€‚</p><ul><li>ç·¯åº¦<br>åœ°çƒä¸Šã®ã‚ã‚‹åœ°ç‚¹ãŒèµ¤é“ã‹ã‚‰ã©ã‚Œãã‚‰ã„åŒ—ã¾ãŸã¯å—ã«ã¯ãšã‚Œã¦ã„ã‚‹ã‹ã®åº¦åˆã‚’æŒ‡ã—ã¾ã™ã€‚ãã®åœ°ç‚¹ã¨åœ°çƒã®ä¸­å¿ƒã‚’çµã¶ç›´ç·šãŒèµ¤é“é¢ã¨ãªã™è§’åº¦ã«ã‚ˆã£ã¦ã‚ã‚‰ã‚ã•ã‚Œã¾ã™ã€‚<br>èµ¤é“ã‚’0åº¦ã¨ã—ã€èµ¤é“ã‚ˆã‚ŠåŒ—ã‚’åŒ—ç·¯ã€å—ã‚’å—ç·¯ã¨è¡¨ç¾ã—åŒ—æ¥µãƒ»å—æ¥µãŒãã‚Œãã‚Œ90åº¦ã«ãªã‚Šã¾ã™ã€‚</li><li>çµŒåº¦<br>åœ°çƒä¸Šã®ã‚ã‚‹åœ°ç‚¹ã‚’å«ã‚€çµŒç·šã¨æœ¬åˆå­åˆç·šã®ãªã™è§’åº¦ã«ã‚ˆã£ã¦ã‚ã‚‰ã‚ã•ã‚Œã¾ã™ã€‚æœ¬åˆå­åˆç·šã‚ˆã‚Šã‚‚æ±å´ã‚’æ±çµŒã€è¥¿å´ã‚’è¥¿çµŒã¨è¡¨ç¾ã—ã€ãã‚Œãã‚Œ180åº¦ã¾ã§ã‚ã‚Šã¾ã™ã€‚<br>çµŒåº¦ã¯æ™‚åˆ»ã‚’å®šã‚ã‚‹åŸºæº–ã¨ã‚‚ãªã£ã¦ãŠã‚Šã€æ—¥æœ¬ã®æ™‚åˆ»ã®åŸºæº–ã¨ãªã‚‹æ—¥æœ¬æ¨™æº–æ™‚ï¼ˆJSTï¼‰ã¯å…µåº«çœŒæ˜çŸ³å¸‚ã‚’é€šã‚‹æ±çµŒ135åº¦ã®æ™‚åˆ»ã§ã™ã€‚</li></ul><h3 id="è¡¨è¨˜æ–¹æ³•"><a href="#è¡¨è¨˜æ–¹æ³•" class="headerlink" title="è¡¨è¨˜æ–¹æ³•"></a>è¡¨è¨˜æ–¹æ³•</h3><p>ç·¯åº¦çµŒåº¦ã®è¡¨è¨˜ã«ã¯åº¦åˆ†ç§’è¡¨è¨˜ã¨10é€²æ³•è¡¨è¨˜ã®2ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚</p><h4 id="åº¦åˆ†ç§’è¡¨è¨˜"><a href="#åº¦åˆ†ç§’è¡¨è¨˜" class="headerlink" title="åº¦åˆ†ç§’è¡¨è¨˜"></a>åº¦åˆ†ç§’è¡¨è¨˜</h4><p>åŒ—ç·¯35åº¦(35Â°N),æ±çµŒ139åº¦(139Â°E)ã®ã‚ˆã†ã«ã‚ã‚‰ã‚ã—ã¾ã™ã€‚ãŸã ã—ã“ã®è¡¨è¨˜ã§ã¯å¤§ã¾ã‹ãªåœ°ç‚¹ã—ã‹è¡¨ç¾ã§ããªã„ãŸã‚ã€ã‚ˆã‚Šè©³ç´°ãªç·¯åº¦çµŒåº¦ã‚’ç¤ºã™å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€Œåˆ†ã€ã‚„ã€Œç§’ã€ã«åº¦æ•°ã‚’åˆ†è§£ã—ã¾ã™ã€‚</p><p>ç·¯åº¦çµŒåº¦ã®ã€Œ1åº¦ã€ã‚’1&#x2F;60ã«ç­‰åˆ†ã—ãŸã‚‚ã®ãŒã€Œåˆ†ã€ã«ã‚ãŸã‚Šã€ã€Œåˆ†ã€ã‚’1&#x2F;60ã—ãŸã‚‚ã®ãŒã€Œç§’ã€ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€Œç§’ã€ã®å°æ•°ç‚¹ä»¥ä¸‹ã¯10é€²æ³•ã§è¡¨ç¾ã—ã¾ã™ã€‚</p><p>è¡¨è¨˜ã¯ã€Œåº¦ã€ã€Œåˆ†ã€ã€Œç§’ã€ã®é †ã«è¡¨è¨˜ã—ã€ãŸã¨ãˆã°å¼Šç¤¾ã®æœ¬ç¤¾æ‰€åœ¨åœ°ã¯åŒ—ç·¯35åº¦37åˆ†20.494ç§’(35Â° 37â€™ 20.494â€N),æ±çµŒ139åº¦43åˆ†38.444ç§’(139Â° 43â€™ 38.444â€E)ã¨ãªã‚Šã¾ã™ã€‚</p><h4 id="10é€²æ³•è¡¨è¨˜"><a href="#10é€²æ³•è¡¨è¨˜" class="headerlink" title="10é€²æ³•è¡¨è¨˜"></a>10é€²æ³•è¡¨è¨˜</h4><p>ã€Œåº¦ã€ã ã‘ã§ç·¯åº¦çµŒåº¦ã‚’è¡¨ã—ãŸå ´åˆã¯10é€²æ³•ã‚’ä½¿ã„ã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã®GISã¯ã“ã®è¡¨è¨˜ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®å ´åˆã€æ–¹è§’ã‚’è¡¨ã™ã®ã«æ±è¥¿å—åŒ—ã¯ä½¿ç”¨ã›ãšã€æ•°ã®æ­£è² ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚</p><p>ç·¯åº¦ã¯åŒ—ç·¯ã‚’ãƒ—ãƒ©ã‚¹ã€å—ç·¯ã‚’ãƒã‚¤ãƒŠã‚¹ã¨ã—ã¾ã™ã€‚<br>çµŒåº¦ã¯æ±çµŒã‚’ãƒ—ãƒ©ã‚¹ã€è¥¿çµŒã‚’ãƒã‚¤ãƒŠã‚¹ã¨ã—ã¾ã™ã€‚</p><p>å…ˆã»ã©ã®ä¾‹ã§ã™ã¨ã€Œ35.62235961, 139.7273458ã€ã®ã‚ˆã†ã«è¡¨ç¾ã•ã‚Œã¾ã™ã€‚</p><h4 id="è¡¨è¨˜ã®å¤‰æ›"><a href="#è¡¨è¨˜ã®å¤‰æ›" class="headerlink" title="è¡¨è¨˜ã®å¤‰æ›"></a>è¡¨è¨˜ã®å¤‰æ›</h4><p>ä»¥ä¸‹ã®æ–¹æ³•ã§å¤‰æ›å¯èƒ½ã§ã™ã€‚</p><h5 id="åº¦åˆ†ç§’â‡’10é€²æ³•"><a href="#åº¦åˆ†ç§’â‡’10é€²æ³•" class="headerlink" title="åº¦åˆ†ç§’â‡’10é€²æ³•"></a>åº¦åˆ†ç§’â‡’10é€²æ³•</h5><p>ã€Œåˆ†ã€ã‚’60ã§ã€ã€Œç§’ã€ã‚’3600ã§å‰²ã‚Šè¶³ã—åˆã‚ã›ã‚‹ã“ã¨ã§å¤‰æ›ã§ãã¾ã™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹ï¼šåŒ—ç·¯35åº¦37åˆ†22.3788ç§’</span><br><span class="line">35+(37 / 60) +(20.494 / 60 / 60) â‰’35.622359</span><br></pre></td></tr></table></figure><h5 id="10é€²æ³•â‡’åº¦åˆ†ç§’"><a href="#10é€²æ³•â‡’åº¦åˆ†ç§’" class="headerlink" title="10é€²æ³•â‡’åº¦åˆ†ç§’"></a>10é€²æ³•â‡’åº¦åˆ†ç§’</h5><p>â—†åˆ†<br>å°æ•°ç‚¹ä»¥ä¸‹ã«60ã‚’æ›ã‘ï¼ˆâ‘ ï¼‰ã€æ•´æ•°éƒ¨ã‚’ä½¿ç”¨<br>â—†ç§’<br>â‘ ã®å°æ•°éƒ¨ã«60ã‚’æ›ã‘ã¾ã™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹ï¼š35.62235961</span><br><span class="line">åº¦ï¼š35.62235961ã€€â‡’ 35åº¦</span><br><span class="line">åˆ†ï¼š0.62235961 * 60 = 37.3415766 â‡’ 37åˆ†</span><br><span class="line">ç§’ï¼š0.3415766 * 60 = 20.494596â€¬ç§’</span><br></pre></td></tr></table></figure><h3 id="æ¸¬åœ°ç³»"><a href="#æ¸¬åœ°ç³»" class="headerlink" title="æ¸¬åœ°ç³»"></a>æ¸¬åœ°ç³»</h3><p>ä½ç½®æƒ…å ±ã¯ä¸€èˆ¬çš„ã«ç·¯åº¦çµŒåº¦ã®åº§æ¨™ã‚’ç”¨ã„ã¦è¡¨ã•ã‚Œã¾ã™ãŒã€ã‚ã‚‹åœ°ç‚¹ã«å¯¾ã™ã‚‹ç·¯åº¦çµŒåº¦ã®å€¤ã¨ã„ã†ã¯åŸºæº–ã¨ã™ã‚‹æ¸¬é‡æ–¹æ³•ã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ã€‚å„åŸºæº–ã«ã‚ˆã£ã¦æ¸¬é‡ã•ã‚ŒãŸç·¯åº¦çµŒåº¦åº§æ¨™ç³»ã®ã“ã¨ã‚’ã€Œæ¸¬åœ°ç³»ã€ã¨å‘¼ã³ã¾ã™ã€‚</p><p>ç¾åœ¨æ—¥æœ¬ãŒæ¡ç”¨ã—ã¦ã„ã‚‹æ¸¬åœ°ç³»ã¯VLBIã‚„GNSSã¨ã„ã£ãŸå®‡å®™æŠ€è¡“ã‚’æ´»ç”¨ã—ã¦å®šã‚ã‚‰ã‚ŒãŸã€Œæ—¥æœ¬æ¸¬åœ°ç³»2011(JGD2011)ã€ã§ã€ITRFITRFï¼ˆå›½éš›åœ°çƒåŸºæº–åº§æ¨™ç³»ï¼‰ã«åŸºã¥ã„ãŸ<strong>ä¸–ç•Œæ¸¬åœ°ç³»</strong>ã§ã™ã€‚</p><p>ã—ã‹ã—2002å¹´ã¾ã§ã¯ï¼ˆæ—§ï¼‰<strong>æ—¥æœ¬æ¸¬åœ°ç³»</strong>ã¨å‘¼ã°ã‚Œã‚‹æ¸¬åœ°ç³»ã‚’ç”¨ã„ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ä¸–ç•Œæ¸¬åœ°ç³»ã¨æ¯”ã¹ã‚‹ã¨æ±äº¬è¿‘è¾ºã§çµŒåº¦ãŒç´„-12ç§’ã€ç·¯åº¦ãŒç´„12ç§’å¤‰åŒ–ã—ã¦ãŠã‚Šã€è·é›¢ã«æ›ç®—ã™ã‚‹ã¨åŒ—è¥¿ã¸450mç¨‹åº¦ã®ãšã‚ŒãŒã‚ã‚Šã¾ã™ã€‚</p><p>â€»<a href="https://www.gsi.go.jp/sokuchikijun/datum-main.html#p1">å›½åœŸåœ°ç†é™¢HP:æ—¥æœ¬ã®æ¸¬åœ°ç³»</a></p><p>æ¸¬åœ°ç³»ã®å¤‰æ›ã«å½“ãŸã£ã¦ã¯<a href="https://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html">å›½åœŸåœ°ç†é™¢ãŒã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™</a>ãŒã€OSSã‚‚å­˜åœ¨ã—ã¾ã™ã®ã§å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p><p>â€»<a href="http://blog.livedoor.jp/g0031067/archives/51849093.html">GISå‹‰å¼·ä¼š:æ¸¬åœ°ç³»å¤‰æ›JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒª(Proj4js)ã‚’ä½¿ã†</a></p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>ã„ã‹ãŒã§ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿæœ¬è¨˜äº‹ã§ã¯å„æ¦‚å¿µã«ã¤ã„ã¦ã»ã‚“ã®ä¸€éƒ¨ã—ã‹ç´¹ä»‹ã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€å°‘ã—ã§ã‚‚ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚<br>æ©Ÿä¼šãŒã‚ã‚Œã°æ¬¡ã¯PostGISã‚„IMIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã‚ãŸã‚Šã®è¨˜äº‹ã‚‚æ›¸ã„ã¦ã¿ãŸã„ã§ã™ã­ã€‚</p><p>æ¬¡ã¯é‡‘å­ã•ã‚“ã®<a href="/articles/20220720a/">Foursquare - Location Matching å‚åŠ è¨˜ (7th &#x2F; 1083) </a>ã§ã™ã€‚</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h2&gt;&lt;p&gt;ã“ã‚“ã«ã¡ã¯ã€‚TIG DXãƒ¦ãƒ‹ãƒƒãƒˆæ‰€å±ã®ä»Šæ³‰ã§ã™ã€‚&lt;a</summary>
        
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="åœ°å›³" scheme="https://future-architect.github.io/tags/%E5%9C%B0%E5%9B%B3/"/>
    
    <category term="åˆå¿ƒè€…" scheme="https://future-architect.github.io/tags/%E5%88%9D%E5%BF%83%E8%80%85/"/>
    
    <category term="éƒµä¾¿ç•ªå·" scheme="https://future-architect.github.io/tags/%E9%83%B5%E4%BE%BF%E7%95%AA%E5%8F%B7/"/>
    
    <category term="ç·¯åº¦çµŒåº¦" scheme="https://future-architect.github.io/tags/%E7%B7%AF%E5%BA%A6%E7%B5%8C%E5%BA%A6/"/>
    
  </entry>
  
  <entry>
    <title>åœ°å›³ãƒ»GISãƒ»ä½ç½®ç‰¹å®šã«é–¢ã™ã‚‹é€£è¼‰ã‚’å§‹ã‚ã¾ã™</title>
    <link href="https://future-architect.github.io/articles/20220719a/"/>
    <id>https://future-architect.github.io/articles/20220719a/</id>
    <published>2022-07-18T15:00:00.000Z</published>
    <updated>2022-07-26T05:26:52.138Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20220719a/location-g136a162ac_640.png" alt="" width="640" height="640" loading="lazy"><p>TIGçœŸé‡ã§ã™ã€‚</p><p><a href="/articles/20220117a/">2022å¹´ã®ãƒ–ãƒ­ã‚°é€£è¼‰äºˆå®šã‚’ç™ºè¡¨ã—ã¾ã™</a>ã«ã‚ã‚‹ã‚ˆã†ã«æ§˜ã€…ãªãƒ–ãƒ­ã‚°é€£è¼‰ã‚’é–‹å‚¬ã—ã¦ã„ã¾ã™ãŒã€ã™ã“ã—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å¤‰ãˆã¦ã€Œåœ°å›³ãƒ»GISãƒ»ä½æ‰€ãƒ»ä½ç½®ç‰¹å®šã€å‘¨ã‚Šã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸä¼ç”»ã‚’å§‹ã‚ã¾ã™ã€‚</p><h2 id="ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦"><a href="#ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦" class="headerlink" title="ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦"></a>ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦</h2><p>åœ°ç†ç³»ã®æŠ€è¡“ã¨ã„ãˆã°ã€ï¼ˆGISï¼šGeographic Information Systemï¼‰ãŒæœ€ã‚‚ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ã‹ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã®é€£è¼‰ã®ã‚­ãƒƒã‚«ã‚±ã¯ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°ç¬¬1å›ç›®ã®ä»Šæ³‰ã•ã‚“ãŒã€Œéƒµä¾¿ç•ªå·å‘¨ã‚Šã«ã¤ã„ã¦ã‚ã£ã¡ã‚ƒèª¿ã¹ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã€ã¨ã„ã†ç™ºè¨€ãŒãƒˆãƒªã‚¬ãƒ¼ã§ã—ãŸã®ã§ã€åœ°å›³ãƒ»ä½æ‰€ãªã©åºƒã‚ã®ãƒ†ãƒ¼ãƒã‚’æ¡ç”¨ã¨ã—ã¦ã„ã¾ã™ã€‚</p><img src="/images/20220719a/imaizumi.png" alt="" width="780" height="185" loading="lazy"><p>â€»é€£è¼‰ã®ã‚­ãƒƒã‚«ã‚±ã¨ãªã£ãŸã‚³ãƒ¡ãƒ³ãƒˆã€‚æŠ€è¡“ãƒ–ãƒ­ã‚°ã®ç¨®ã‚’ã‚·ã‚§ã‚¢ä¼šã¨ã„ã†Slackãƒãƒ£ãƒãƒ«ã«ã¦ãƒã‚¿ã‚’å…±æœ‰ã—ã¦ã„ã¾ã™</p><h2 id="ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"><a href="#ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«" class="headerlink" title="ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"></a>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2><p>åˆè¨ˆ7åã«ã¦2é€±é–“ã‹ã‘ã¦é–‹å‚¬ã—ã¾ã™ã€‚</p><div class="scroll"><table><thead><tr><th>Date</th><th>Title</th><th>Author</th></tr></thead><tbody><tr><td>2022&#x2F;7&#x2F;19ï¼ˆç«ï¼‰</td><td><a href="/articles/20220719b/">éƒµä¾¿ç•ªå·ãƒ»ä½æ‰€ãƒ»ç·¯åº¦çµŒåº¦ã®ä½“ç³»ã«ã¤ã„ã¦</a></td><td>ä»Šæ³‰æ™ºç¾©</td></tr><tr><td>2022&#x2F;7&#x2F;20ï¼ˆæ°´ï¼‰</td><td><a href="/articles/20220720a/">Foursquare - Location Matching å‚åŠ è¨˜ (7th &#x2F; 1083) </a></td><td>é‡‘å­å‰›å£«</td></tr><tr><td>2022&#x2F;7&#x2F;21ï¼ˆæœ¨ï¼‰</td><td><a href="/articles/20220721a/">Redisã®ã‚¸ã‚ªãƒ¡ãƒˆãƒªæ©Ÿèƒ½ </a></td><td>æ¾å·å–œè¦</td></tr><tr><td>2022&#x2F;7&#x2F;22ï¼ˆé‡‘ï¼‰</td><td><a href="/articles/20220722a/">ä½æ‰€æƒ…å ±ã‹ã‚‰çµŒè·¯ã‚’æ¢ç´¢ã™ã‚‹â€ãã“ãã“â€ãªæ–¹æ³•</a></td><td>å¡šæœ¬ç¥¥å¤ª</td></tr><tr><td>2022&#x2F;7&#x2F;25ï¼ˆæœˆï¼‰</td><td><a href="/articles/20220725a/">Bluetoothã§ä½ç½®æ¨å®š</a></td><td>å²¸ä¸‹å„ªä»‹</td></tr><tr><td>2022&#x2F;7&#x2F;26ï¼ˆç«ï¼‰</td><td><a href="/articles/20220726a/">Plus Codeã«ã¤ã„ã¦èª¿ã¹ãŸ</a></td><td>çœŸé‡éš¼è¨˜</td></tr></tbody></table></div><h2 id="ã•ã„ã”ã«"><a href="#ã•ã„ã”ã«" class="headerlink" title="ã•ã„ã”ã«"></a>ã•ã„ã”ã«</h2><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ç¤¾å†…ã«ã¯ã€ŒAWSç›¸è«‡å®¤ã€ã‚„ã€ŒGoç›¸è«‡å®¤ã€ã¨ã„ã£ãŸæ§˜ã€…ãªæƒ…å ±äº¤æ›ã®å ´ãŒã‚ã‚Šã¾ã™ãŒã€2020å¹´6æœˆã«ã€Œåœ°å›³å‘¨ã‚Šã«ã¤ã„ã¦å­¦ã¶éƒ¨ä¼šã€ã£ã¦ã„ã†ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œã£ãŸã‚‚ã®ã®ã€æœ‰åŠ¹æ´»ç”¨ã§ããšãƒ¢ãƒ¤ãƒ¢ãƒ¤ã—ã¦ã„ã¾ã—ãŸï¼ˆã‚„ã‚„ä½œã‚Šé€ƒã’çš„ãªâ€¦ï¼‰ã€‚ä»Šå›ã€ã“ã†ã„ã£ãŸé€£è¼‰ã‚’å§‹ã‚ã‚‹ã«ã‚ãŸã£ã¦æ´»ç”¨ã§ããŸãŸã‚å¬‰ã—ãæ€ã„ã¾ã™ã€‚å¾Œå…ˆè€ƒãˆãšã«ã‚„ã‚Œã‚‹ã¨ãã¯ã‚„ã‚‹ã¨ã„ã†å‹•ãã‚‚ãã“ã¾ã§æ‚ªããªã„ã‚“ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚</p><img src="/images/20220719a/googlechat.png" alt="" width="294" height="60" loading="lazy"><p>â€»å­˜åœ¨ã ã‘ã¯ã—ã¦ã„ãŸGoogle Chatã‚°ãƒ«ãƒ¼ãƒ—</p><p>ä»Šå›ã®é€£è¼‰ã§ã€åœ°å›³å‘¨ã‚Šã«ã¤ã„ã¦å°‘ã—ã§ã‚‚çš†æ§˜ã«è‰¯ã„æƒ…å ±ã‚’å…±æœ‰ã§ãã‚Œã°ã¨æ€ã„ã¾ã™ï¼ã“ã®é€£è¼‰ã‚‚å®šæœŸçš„ã«é–‹å‚¬ã§ãã‚Œã°ã¨æ€ã„ã¾ã™ï¼</p><p>ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¯<a href="https://pixabay.com/ja/users/megan_rexazin-6742250/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4496459">Megan Rexazin</a>ã«ã‚ˆã‚‹<a href="https://pixabay.com/ja/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4496459">Pixabay</a>ã‹ã‚‰ã®ç”»åƒã§ã™</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;img src=&quot;/images/20220719a/location-g136a162ac_640.png&quot; alt=&quot;&quot; width=&quot;640&quot; height=&quot;640&quot; loading=&quot;lazy&quot;&gt;


&lt;p&gt;TIGçœŸé‡ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹" scheme="https://future-architect.github.io/tags/%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9/"/>
    
    <category term="GIS" scheme="https://future-architect.github.io/tags/GIS/"/>
    
    <category term="ä½ç½®ç‰¹å®š" scheme="https://future-architect.github.io/tags/%E4%BD%8D%E7%BD%AE%E7%89%B9%E5%AE%9A/"/>
    
    <category term="åœ°å›³" scheme="https://future-architect.github.io/tags/%E5%9C%B0%E5%9B%B3/"/>
    
  </entry>
  
</feed>
