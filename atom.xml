<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æŠ€è¡“ãƒ–ãƒ­ã‚°</title>
  
  <subtitle>Future Tech Blog</subtitle>
  <link href="https://future-architect.github.io/atom.xml" rel="self"/>
  
  <link href="https://future-architect.github.io/"/>
  <updated>2021-06-14T02:33:34.718Z</updated>
  <id>https://future-architect.github.io/</id>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Jest + TypeScript + Vue 3ç’°å¢ƒã§ Vue Testing Library(@testing-libraryï¼vue) ã‚’å‹•ã‹ã™</title>
    <link href="https://future-architect.github.io/articles/20210614b/"/>
    <id>https://future-architect.github.io/articles/20210614b/</id>
    <published>2021-06-13T15:00:01.000Z</published>
    <updated>2021-06-14T02:33:34.718Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/articles/20210614a/">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£è¼‰</a>ã®1è¨˜äº‹ç›®ã§ã™ã€‚</p><p>TIG DXãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸­å·æ—­ã§ã™ã€‚æ–°å’ã§2020å¹´10æœˆã«å…¥ç¤¾ã—ã¾ã—ãŸã€‚åˆè¨˜äº‹ã§ã™ã€‚</p><p>ä½œæ¥­ãŒè©°ã¾ã£ãŸã¨ãã‚„å®Ÿéš›ã«ä½œæ¥­ã™ã‚‹ã®ãŒé¢å€’ãªã¨ãã®ãŸã‚ã«ã€ã“ã®è¨˜äº‹ã‚’æœ€å¾Œã¾ã§ä½œæ¥­ã‚’ã—ãŸå¾Œã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸‹ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç½®ãã¾ã™ã€‚</p><ul><li><a href="https://github.com/modockey/Init-VueTestingLibrary">https://github.com/modockey/Init-VueTestingLibrary</a></li></ul><h2 id="Vue-Testing-Libraryã®ã„ã„ã¨ã“ã‚"><a href="#Vue-Testing-Libraryã®ã„ã„ã¨ã“ã‚" class="headerlink" title="Vue Testing Libraryã®ã„ã„ã¨ã“ã‚"></a>Vue Testing Libraryã®ã„ã„ã¨ã“ã‚</h2><p>Vue Testing Libraryã¯Vue.jså…¬å¼ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹vue-test-utilã‚’ãƒ™ãƒ¼ã‚¹ã¨ã™ã‚‹ã€DOM Testing Libraryã®Vue.jsç”¨æ‹¡å¼µã§ã™ã€‚</p><p>Vue Testing Libraryã‚’ç”¨ã„ã‚‹ã¨ã€Vue.jså…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹vue-test-utilã¨æ¯”è¼ƒã—ã¦å†…éƒ¨æ§‹é€ ã‚’æ„è­˜ã›ãšã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚</p><p>ã“ã®è¨˜äº‹ã§ã¯ç’°å¢ƒæ§‹ç¯‰ã¾ã§ã¨ã—ã€è©³ç´°ãªæ©Ÿèƒ½ã‚„å…·ä½“çš„ãªãƒ¡ãƒªãƒƒãƒˆã‚„ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®ç´¹ä»‹ã¯ã¾ãŸã®æ©Ÿä¼šã«ã€‚</p><h2 id="Vue-jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹å§‹-Jestã§TypeScriptéƒ¨åˆ†ã®ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™ã¾ã§"><a href="#Vue-jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹å§‹-Jestã§TypeScriptéƒ¨åˆ†ã®ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™ã¾ã§" class="headerlink" title="Vue.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹å§‹ ~ Jestã§TypeScriptéƒ¨åˆ†ã®ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™ã¾ã§"></a>Vue.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹å§‹ ~ Jestã§TypeScriptéƒ¨åˆ†ã®ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™ã¾ã§</h2><h3 id="ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã®ç´¹ä»‹"><a href="#ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã®ç´¹ä»‹" class="headerlink" title="ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã®ç´¹ä»‹"></a>ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã®ç´¹ä»‹</h3><ul><li><a href="https://cli.vuejs.org/">Vue CLI</a></li><li><a href="https://jestjs.io/ja/docs/getting-started">Jest</a></li></ul><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>Windowsä¸Šã§ Node.js v14.17.0 (npm v6.14.13) ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p><p>ã“ã®ç’°å¢ƒã®æº–å‚™ã«é–¢ã—ã¦ã¯ã€Microsoftã®ãƒšãƒ¼ã‚¸ã«ã¨ã¦ã‚‚ä¸å¯§ãªèª¬æ˜ãŒã‚ã‚Šã¾ã™ã€‚</p><ul><li><a href="https://docs.microsoft.com/ja-jp/windows/dev-environment/javascript/nodejs-on-windows">Windows ã§ã® NodeJS ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li></ul><h3 id="Vue-CLI-ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"><a href="#Vue-CLI-ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" class="headerlink" title="Vue CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"></a>Vue CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3><p>Vue.jsé–‹ç™ºãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã€Vue CLIãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãšã¯ã“ã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><h3 id="Vueãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ"><a href="#Vueãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ" class="headerlink" title="Vueãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ"></a>Vueãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ</h3><p>é©å½“ãªå ´æ‰€ã§â€sampleâ€ã¨ã„ã†åå‰ã®Vueãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">vue create sample</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ã‹ã‚‰åŸºæœ¬è¨­å®šã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ã›ã£ã‹ããªã®ã§â€Manually select featuresâ€ã‚’é¸æŠã—ã¦ã¿ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue CLI v4.5.13</span><br><span class="line">? Please pick a preset: (Use arrow keys)</span><br><span class="line">  Default ([Vue 2] babel, eslint)</span><br><span class="line">  Default (Vue 3) ([Vue 3] babel, eslint)</span><br><span class="line">â¯  Manually select features</span><br></pre></td></tr></table></figure><p>ã™ã‚‹ã¨ã•ã‚‰ã«è©³ç´°ãªè¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>ä»Šå›ã¯ä¸‹ã®ã‚ˆã†ã«ã€<code>Babel</code> <code>TypeScript</code> ã‚’é¸æŠã—ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Vue CLI v4.5.13</span><br><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed for your project:</span><br><span class="line"> (*) Choose Vue version</span><br><span class="line"> (*) Babel</span><br><span class="line">&gt;(*) TypeScript</span><br><span class="line"> ( ) Progressive Web App (PWA) Support</span><br><span class="line"> ( ) Router</span><br><span class="line"> ( ) Vuex</span><br><span class="line"> ( ) CSS Pre-processors</span><br><span class="line"> ( ) Linter &#x2F; Formatter</span><br><span class="line"> ( ) Unit Testing</span><br><span class="line"> ( ) E2E Testing</span><br></pre></td></tr></table></figure><p>Enterã‚­ãƒ¼ã‚’æŠ¼ã™ã¨Vue.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³é¸æŠç”»é¢ã«ã€‚ä»Šå›ã¯3.xã‚’é¸æŠã—ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue CLI v4.5.13</span><br><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed for your project: Choose Vue version, Babel, TS, Linter, Unit, E2E</span><br><span class="line">? Choose a version of Vue.js that you want to start the project with (Use arrow keys)</span><br><span class="line"> 2.x</span><br><span class="line">â¯  3.x</span><br></pre></td></tr></table></figure><p>ãã®å¾Œã€ã„ãã¤ã‹è¨­å®šã‚ã‚Šã¾ã™ãŒã€å¥½ã¿ã§è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚(â€œ?â€ã®ã‚ã¨ãŒä»Šå›é¸æŠã—ãŸã‚‚ã®ã§ã™)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue CLI v4.5.13</span><br><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed for your project: Choose Vue version, Babel, TS, Linter</span><br><span class="line">? Choose a version of Vue.js that you want to start the project with 3.x</span><br><span class="line">? Use class-style component syntax? No</span><br><span class="line">? Use Babel alongside TypeScript (required for modern mode, auto-detected polyfills, transpiling JSX)? No</span><br><span class="line">? Where do you prefer placing config for Babel, ESLint, etc.? In dedicated config files</span><br><span class="line">? Save this as a preset for future projects? (y&#x2F;N) No</span><br></pre></td></tr></table></figure><p>ã“ã®ã‚ã¨Enterã‚­ãƒ¼ã‚’æŠ¼ã—ã€ã—ã°ã‚‰ãã™ã‚‹ã¨ã“ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®æŒ‡ç¤ºã«å¾“ã„ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç„¡äº‹ã«ã‚µãƒ¼ãƒãƒ¼ãŒç«‹ã£ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰Vue.jsã®ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ã‚’é–‹ãã“ã¨ãŒã§ãã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ğŸ‰  Successfully created project sample.</span><br><span class="line">ğŸ‘‰  Get started with the following commands:</span><br><span class="line"></span><br><span class="line"> $ cd sample</span><br><span class="line"> $ npm run serve</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> DONE  Compiled successfully in 3230ms                                                                                                                                                                                               23:54:10</span><br><span class="line"></span><br><span class="line">  App running at:</span><br><span class="line">  - Local:   http:&#x2F;&#x2F;localhost:8080&#x2F;</span><br><span class="line">  - Network: http:&#x2F;&#x2F;192.168.1.10:8080&#x2F;</span><br><span class="line"></span><br><span class="line">  Note that the development build is not optimized.</span><br><span class="line">  To create a production build, run npm run build.</span><br><span class="line"></span><br><span class="line">Issues checking in progress...</span><br><span class="line">No issues found.</span><br></pre></td></tr></table></figure><p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <code>http://localhost:8080/</code> ã‚’é–‹ãã¨ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><img src="/images/20210614b/image.png" alt="Vueèµ·å‹•ç”»é¢" height="1200" width="993" loading="lazy"> <h3 id="Jestã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™"><a href="#Jestã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™" class="headerlink" title="Jestã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™"></a>Jestã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã™</h3><p>ã¾ãšã¯Jesté–¢é€£ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/sample</span><br><span class="line">npm install --save-dev jest ts-jest @types/jest</span><br></pre></td></tr></table></figure><h4 id="jest-config-jsé…ç½®"><a href="#jest-config-jsé…ç½®" class="headerlink" title="jest.config.jsé…ç½®"></a>jest.config.jsé…ç½®</h4><p><a href="https://typescript-jp.gitbook.io/deep-dive/intro-1/jest">Jest</a>ã®ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«é…ç½®ã—ã¾ã™ã€‚</p><figure class="highlight js"><figcaption><span>jest.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">&quot;roots&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;&lt;rootDir&gt;/src&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;testMatch&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;**/__tests__/**/*.+(ts|tsx|js)&quot;</span>,</span><br><span class="line">    <span class="string">&quot;**/?(*.)+(spec|test).+(ts|tsx|js)&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;transform&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;^.+\\.(ts|tsx)$&quot;</span>: <span class="string">&quot;ts-jest&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="tsconfig-json-ã«â€jestâ€ã‚’è¿½è¨˜"><a href="#tsconfig-json-ã«â€jestâ€ã‚’è¿½è¨˜" class="headerlink" title="tsconfig.json ã«â€jestâ€ã‚’è¿½è¨˜"></a>tsconfig.json ã«â€jestâ€ã‚’è¿½è¨˜</h4><p>â€œcompilerOptionsâ€-&gt;â€typesâ€ã«<code>jest</code>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><figure class="highlight"><figcaption><span>tsconfig.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;types&quot;: [&quot;webpack-env&quot;, &quot;jest&quot;],</span><br></pre></td></tr></table></figure><h4 id="ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®"><a href="#ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®" class="headerlink" title="ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®"></a>ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®</h4><figure class="highlight ts"><figcaption><span>src/service/calc.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">plus</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ts"><figcaption><span>src/service/__tests__/calc.test.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; plus &#125; <span class="keyword">from</span> <span class="string">&quot;../calc&quot;</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&quot;plus test&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  test(<span class="string">&quot;1 + 1&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    expect(plus(<span class="number">1</span>, <span class="number">1</span>)).toEqual(<span class="number">2</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="npm-scriptè¿½è¨˜"><a href="#npm-scriptè¿½è¨˜" class="headerlink" title="npm scriptè¿½è¨˜"></a>npm scriptè¿½è¨˜</h4><p>ãƒ†ã‚¹ãƒˆç”¨ã«npm scriptã‚’è¿½è¨˜ã—ã¾ã™ã€‚<br>package.jsonã®â€scriptsâ€ã«<code>&quot;test&quot;: &quot;jest&quot;</code>ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ã“ã‚Œã§<code>npm run test</code>ã§ãƒ†ã‚¹ãƒˆã‚’èµ·å‹•ã§ãã¾ã™ã€‚</p><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">  &quot;lint&quot;: &quot;vue-cli-service lint&quot;,</span><br><span class="line">  &quot;test&quot;: &quot;jest&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"><a href="#å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ" class="headerlink" title="å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"></a>å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h4><p>ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒ†ã‚¹ãƒˆæˆåŠŸã§ã™ï¼<br><img src="/images/20210614b/image_2.png" alt="ãƒ†ã‚¹ãƒˆæˆåŠŸãƒ­ã‚°" width="722" height="316" loading="lazy"></p><h2 id="Vue-Testing-Libraryã‚’å‹•ã‹ã™"><a href="#Vue-Testing-Libraryã‚’å‹•ã‹ã™" class="headerlink" title="Vue Testing Libraryã‚’å‹•ã‹ã™"></a>Vue Testing Libraryã‚’å‹•ã‹ã™</h2><p><a href="https://testing-library.com/docs/vue-testing-library/examples">å…¬å¼ãƒšãƒ¼ã‚¸</a>ã«ã‚ã‚‹ä¾‹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚<br>ä»Šå›ã¯ä¸Šã®ãƒšãƒ¼ã‚¸ã®ä¾‹ã‚’ã“ã“ã¾ã§ã®è¨­å®šã§ç”Ÿæˆã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ã¦å°‘ã—æ”¹å¤‰ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚</p><h4 id="ãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"><a href="#ãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" class="headerlink" title="ãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"></a>ãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4><p>vue-jestã¨è¨˜äº‹ã®ä¸»å½¹ã§ã‚ã‚‹<code>@testing-library/vue@next</code>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p><p><code>@testing-library/vue@next</code>ãŒVue 3ç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚<code>@testing-library/vue</code>ã¯Vue 3ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚</p><p><code>@testing-library/vue</code>ã§å‹•ã‹ãã†ã¨ã™ã‚‹ã¨vue-template-compilerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆã‚ãªã„ã€ã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚Vue 3 ã§ã¯åŒæ©Ÿèƒ½ã¯<code>@vue/compiler-sfc</code>ã«ç§»è¡Œã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/sample</span><br><span class="line">npm install --save-dev vue-jest@next</span><br><span class="line">npm install --save-dev @testing-library/vue@next</span><br></pre></td></tr></table></figure><h4 id="ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ-amp-ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰é…ç½®"><a href="#ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ-amp-ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰é…ç½®" class="headerlink" title="ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ&amp;ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰é…ç½®"></a>ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ&amp;ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰é…ç½®</h4><figure class="highlight html"><figcaption><span>src/components/Counter.vue</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Times clicked: &#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>increment<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; defineComponent &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&quot;Counter&quot;</span>,</span></span><br><span class="line"><span class="javascript">  data: <span class="function">() =&gt;</span> (&#123;</span></span><br><span class="line">    count: 0,</span><br><span class="line">  &#125;),</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.count++;</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight ts"><figcaption><span>src/tests/counter.test.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; render, fireEvent &#125; <span class="keyword">from</span> <span class="string">&quot;@testing-library/vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">&quot;../components/Counter.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;increments value on click&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">// The render method returns a collection of utilities to query your component.</span></span><br><span class="line">  <span class="keyword">const</span> &#123; getByText &#125; = render(Counter);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// getByText returns the first matching node for the provided text, and</span></span><br><span class="line">  <span class="comment">// throws an error if no elements match or if more than one match is found.</span></span><br><span class="line">  getByText(<span class="string">&quot;Times clicked: 0&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> button = getByText(<span class="string">&quot;increment&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Dispatch a native click event to our button element.</span></span><br><span class="line">  <span class="keyword">await</span> fireEvent.click(button);</span><br><span class="line">  <span class="keyword">await</span> fireEvent.click(button);</span><br><span class="line"></span><br><span class="line">  getByText(<span class="string">&quot;Times clicked: 2&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="jest-config-js-ã®â€transformâ€ã«è¿½è¨˜"><a href="#jest-config-js-ã®â€transformâ€ã«è¿½è¨˜" class="headerlink" title="jest.config.js ã®â€transformâ€ã«è¿½è¨˜"></a>jest.config.js ã®â€transformâ€ã«è¿½è¨˜</h4><p>â€œtransformâ€ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã€vueãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦vue-jestã‚’ä½¿ã†ã‚ˆã†æŒ‡ç¤ºã—ã¾ã™ã€‚</p><figure class="highlight js"><figcaption><span>jest.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;transform&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;^.+\\.(ts|tsx)$&quot;</span>: <span class="string">&quot;ts-jest&quot;</span>,</span><br><span class="line">  <span class="string">&quot;^.+\\.vue$&quot;</span>: <span class="string">&quot;vue-jest&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="jestã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ°—ã‚’ä»˜ã‘ã‚ˆã†"><a href="#jestã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ°—ã‚’ä»˜ã‘ã‚ˆã†" class="headerlink" title="jestã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ°—ã‚’ä»˜ã‘ã‚ˆã†"></a>jestã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ°—ã‚’ä»˜ã‘ã‚ˆã†</h4><p>ã“ã“ã¾ã§ã®è¨­å®šã‚’è¿½ãˆã¦<code>npm run test</code>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FAIL  src&#x2F;tests&#x2F;counter.test.ts</span><br><span class="line"> â— Test suite failed to run</span><br><span class="line"></span><br><span class="line">   TypeError: Cannot destructure property &#39;config&#39; of &#39;undefined&#39; as it is undefined.</span><br><span class="line"></span><br><span class="line">     at Object.getCacheKey (node_modules&#x2F;vue-jest&#x2F;lib&#x2F;index.js:10:7)</span><br><span class="line">     at ScriptTransformer._getCacheKey (node_modules&#x2F;@jest&#x2F;transform&#x2F;build&#x2F;ScriptTransformer.js:280:41)</span><br><span class="line">     at ScriptTransformer._getFileCachePath (node_modules&#x2F;@jest&#x2F;transform&#x2F;build&#x2F;ScriptTransformer.js:351:27)</span><br><span class="line">     at ScriptTransformer.transformSource (node_modules&#x2F;@jest&#x2F;transform&#x2F;build&#x2F;ScriptTransformer.js:588:32)</span><br><span class="line">     at ScriptTransformer._transformAndBuildScript (node_modules&#x2F;@jest&#x2F;transform&#x2F;build&#x2F;ScriptTransformer.js:758:40)</span><br><span class="line">     at ScriptTransformer.transform (node_modules&#x2F;@jest&#x2F;transform&#x2F;build&#x2F;ScriptTransformer.js:815:19)</span><br></pre></td></tr></table></figure><p><a href="https://github.com/kulshekhar/ts-jest/issues/2612">https://github.com/kulshekhar/ts-jest/issues/2612</a> ã®ã‚ˆã†ã«ã€<br>jest, ts-jestã®27ç³»ã§ãƒã‚°ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚jestã¨ts-jestã¯26ç³»ã«ã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev jest@26 ts-jest@26</span><br></pre></td></tr></table></figure><h4 id="babalã®è¨­å®šã‚’ã™ã‚‹"><a href="#babalã®è¨­å®šã‚’ã™ã‚‹" class="headerlink" title="babalã®è¨­å®šã‚’ã™ã‚‹"></a>babalã®è¨­å®šã‚’ã™ã‚‹</h4><p>ã“ã‚Œã§ã‚‚ã¾ã <code>npm run test</code>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">â— Test suite failed to run</span><br><span class="line"></span><br><span class="line">   Jest encountered an unexpected token</span><br><span class="line"></span><br><span class="line">   This usually means that you are trying to import a file which Jest cannot parse, e.g. it&#39;s not plain JavaScript.</span><br><span class="line"></span><br><span class="line">   By default, if Jest sees a Babel config, it will use that to transform your files, ignoring &quot;node_modules&quot;.</span><br><span class="line"></span><br><span class="line">   Here&#39;s what you can do:</span><br><span class="line">    â€¢ If you are trying to use ECMAScript Modules, see https:&#x2F;&#x2F;jestjs.io&#x2F;docs&#x2F;en&#x2F;ecmascript-modules for how to enable it.</span><br><span class="line">    â€¢ To have some of your &quot;node_modules&quot; files transformed, you can specify a custom &quot;transformIgnorePatterns&quot; in your config.</span><br><span class="line">    â€¢ If you need a custom transformation specify a &quot;transform&quot; option in your config.</span><br><span class="line">    â€¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the &quot;moduleNameMapper&quot; config option.</span><br><span class="line"></span><br><span class="line">   You&#39;ll find more details and examples of these config options in the docs:</span><br><span class="line">   https:&#x2F;&#x2F;jestjs.io&#x2F;docs&#x2F;en&#x2F;configuration.html</span><br><span class="line"></span><br><span class="line">   Details:</span><br><span class="line"></span><br><span class="line">   C:\Users\&#123;UserName&#125;\sample\src\components\Counter.vue:1</span><br><span class="line">   (&#123;&quot;Object.&lt;anonymous&gt;&quot;:function(module,exports,require,__dirname,__filename,global,jest)&#123;import &#123; defineComponent &#125; from &quot;vue&quot;;</span><br><span class="line">                                                                                            ^^^^^^</span><br><span class="line"></span><br><span class="line">   SyntaxError: Cannot use import statement outside a module</span><br><span class="line"></span><br><span class="line">     1 | import &#123; render, fireEvent &#125; from &quot;@testing-library&#x2F;vue&quot;;</span><br><span class="line">   &gt; 2 | import Counter from &quot;..&#x2F;components&#x2F;Counter.vue&quot;;</span><br><span class="line">       | ^</span><br><span class="line">     3 |</span><br><span class="line">     4 | test(&quot;increments value on click&quot;, async () &#x3D;&gt; &#123;</span><br><span class="line">     5 |   &#x2F;&#x2F; The render method returns a collection of utilities to query your component.</span><br><span class="line"></span><br><span class="line">     at Runtime.createScriptFromCode (node_modules&#x2F;jest-runtime&#x2F;build&#x2F;index.js:1350:14)</span><br><span class="line">     at Object.&lt;anonymous&gt; (src&#x2F;tests&#x2F;counter.test.ts:2:1)</span><br></pre></td></tr></table></figure><p>babelã®è¨­å®šãŒè¶³ã‚Šãªã„ã‚ˆã†ã§ã™ã€‚<br>ä»Šå›ã¯ç’°å¢ƒã«åˆã‚ã›ãŸè¨­å®šã‚’ã—ã¦ãã‚Œã‚‹<a href="https://babeljs.io/docs/en/babel-preset-env">@babel/preset-env</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/preset-env</span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>babel.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        targets: &#123;</span><br><span class="line">          node: <span class="string">&quot;current&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"><a href="#ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ" class="headerlink" title="ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"></a>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h3><p><code>npm run test</code>ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p><img src="/images/20210614b/image_3.png" alt="Vue Testing Libraryã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œçµæœã§æˆåŠŸã—ãŸæ§˜å­" width="699" height="285" loading="lazy"><p>ã‚„ã£ã¨å‹•ãã¾ã—ãŸï¼</p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>æ”¹ã‚ã¦æ›¸ãã¨å½“ç„¶ã®ã“ã¨ã°ã‹ã‚Šã§ã™ãŒã€ã“ã®è¨˜äº‹ã®è¦ç‚¹ã¯ä»¥ä¸‹ã®3ç‚¹ã§ã™ã€‚</p><ul><li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã¨ãã¯ã€Vue 3ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹</li><li>ts.config.js, jest.config.js ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è¨­å®šã‚’ã¡ã‚ƒã‚“ã¨æ›¸ã</li><li>é€šå¸¸ã®æ‰‹é †ã«æ²¿ã£ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦èª¿ã¹ã‚‹</li></ul><h2 id="ã•ã„ã”ã«"><a href="#ã•ã„ã”ã«" class="headerlink" title="ã•ã„ã”ã«"></a>ã•ã„ã”ã«</h2><p>ã“ã®è¨˜äº‹ã®å­˜åœ¨ã§ç’°å¢ƒæ§‹ç¯‰ã§ãƒãƒã‚‹äººãŒä¸€äººã§ã‚‚æ¸›ã‚Œã°å¹¸ã„ã§ã™ã€‚<br>ä»Šå›ã¯ç’°å¢ƒæ§‹ç¯‰ã ã‘ã®å†…å®¹ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€å†’é ­ã«ã‚‚æ›¸ã„ãŸé€šã‚ŠVue Testing Libraryã®è©³ç´°ãªè¨˜äº‹ã‚’ä»Šå¾Œæ›¸ãã¾ã™ã€‚ãŠæ¥½ã—ã¿ã«ã€‚</p><p>ã“ã‚Œã¾ã§Webè¨˜äº‹ã‚’æ›¸ã„ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€è‡ªåˆ†ã«ã¨ã£ã¦ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æŠ€è¡“ãƒ–ãƒ­ã‚°ã®ã¿ãªã‚‰ãšäººç”Ÿåˆã¨ãªã‚‹è¨˜äº‹ã§ã—ãŸã€‚<br>è¨˜äº‹ã‚’æ›¸ãã“ã¨ã§è‡ªåˆ†ãŒç†è§£ã—ã¦ã„ã‚‹é ˜åŸŸã¨ç†è§£ã—ã¦ã„ãªã„é ˜åŸŸã®å¢ƒç•ŒãŒæ˜ç¢ºã«ãªã‚‹ã“ã¨ã¨ã€è¨˜äº‹ã‚’æ›¸ããŸã‚ã«èª¿ã¹ã‚‹ã“ã¨ã§ç†è§£ã—ã¦ã„ã‚‹é ˜åŸŸãŒå°‘ã—ã ã‘åºƒãŒã‚‹ã“ã¨ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚</p><p>æ–°å’ç ”ä¿®å¾Œã™ãã®2021å¹´1æœˆã‹ã‚‰æŠ€è¡“ãƒ–ãƒ­ã‚°é‹å–¶ã‚’ã—ã¦ã„ã‚‹çœŸé‡ã•ã‚“(<a href="/authors/%E7%9C%9F%E9%87%8E%E9%9A%BC%E8%A8%98/">è¨˜äº‹</a>)ã®ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚µã‚¤ãƒ³ã•ã‚Œã€ã•ã‚‰ã«ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æŠ€è¡“ãƒ–ãƒ­ã‚°ã®ã‚¨ãƒ¼ã‚¹ã§ã‚ã‚‹æ¾å·ã•ã‚“(<a href="/authors/%E6%BE%81%E5%B7%9D%E5%96%9C%E8%A6%8F">è¨˜äº‹</a>)ã«OJTã‚’è¦‹ã¦é ‚ãã¨ã„ã†æµã¾ã‚ŒãŸç’°å¢ƒã«ç½®ã‹ã‚ŒãŸã“ã¨ã¸ã®æ„Ÿè¬ã‚’ä»Šå¾Œã®è‡ªèº«ã®æˆé•·ã¨è¨˜äº‹ã®åŸ·ç­†ã«ã¤ãªã’ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;/articles/20210614a/&quot;&gt;ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£è¼‰&lt;/a&gt;ã®1è¨˜äº‹ç›®ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;TIG DXãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸­å·æ—­ã§ã™ã€‚æ–°å’ã§2020å¹´10æœˆã«å…¥ç¤¾ã—ã¾ã—ãŸã€‚åˆè¨˜äº‹ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;ä½œæ¥­ãŒè©°ã¾ã£ãŸã¨ãã‚„å®Ÿéš›ã«ä½œæ¥­ã™ã‚‹ã®ãŒé¢å€’ãªã¨ãã®ãŸã‚</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰" scheme="https://future-architect.github.io/tags/%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89/"/>
    
    <category term="ãƒ†ã‚¹ãƒˆ" scheme="https://future-architect.github.io/tags/%E3%83%86%E3%82%B9%E3%83%88/"/>
    
    <category term="Vue.js" scheme="https://future-architect.github.io/tags/Vue-js/"/>
    
  </entry>
  
  <entry>
    <title>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£è¼‰2021</title>
    <link href="https://future-architect.github.io/articles/20210614a/"/>
    <id>https://future-architect.github.io/articles/20210614a/</id>
    <published>2021-06-13T15:00:00.000Z</published>
    <updated>2021-06-14T02:23:31.081Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20210614a/digital-1985681_640.jpg" alt="" title="Diego VelÃ¡zquezã«ã‚ˆã‚‹Pixabayã‹ã‚‰ã®ç”»åƒ" width="640" height="457"><h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>TIG DXãƒ¦ãƒ‹ãƒƒãƒˆã®çœŸé‡ã§ã™ã€‚2021ã®06.14ï½6.24ã«ã‹ã‘ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸãƒ–ãƒ­ã‚°é€£è¼‰ã‚’å§‹ã‚ã¾ã™ã€‚</p><p>ES2021/TS/Node/Vue/Reactãªã©ãªã©ã€ã–ã£ãã‚Šã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç•Œéšˆã§è©±ã•ã‚Œã‚‹ã‚ˆã†ãªæŠ€è¡“ã‚’ãƒ†ãƒ¼ãƒã«ã—ã¾ã™ã€‚</p><h2 id="ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"><a href="#ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«" class="headerlink" title="ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"></a>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2><table><thead><tr><th>æ—¥ä»˜</th><th>åå‰</th><th>ã‚¿ã‚¤ãƒˆãƒ«</th></tr></thead><tbody><tr><td>6/14</td><td>ä¸­å·æ—­</td><td><a href="/articles/20210614b/">Jest + TypeScript + Vue 3ç’°å¢ƒã§ Vue Testing Library(@testing-library/vue) ã‚’å‹•ã‹ã™</a></td></tr><tr><td>6/15</td><td>æ¾å·å–œè¦</td><td>ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã€å°å…¥ãŒã‚‚ãŸã‚‰ã™ã‹ã‚‚ã—ã‚Œãªã„ã‚¦ã‚§ãƒ–ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆã®å¤‰åŒ–</td></tr><tr><td>6/16</td><td>ä¼Šè—¤çœŸå½¦</td><td>Vue CLIã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‹ã‚‰ESLintã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¤œè¨ã™ã‚‹</td></tr><tr><td>6/17</td><td>æŸæœ¨ç¥¥å­</td><td></td></tr><tr><td>6/18</td><td>æ£šäº•é¾ä¹‹ä»‹</td><td></td></tr><tr><td>6/21</td><td>æ‡æ¦”æ™ƒè£•</td><td>HTML/CSS</td></tr><tr><td>6/22</td><td>å¤ªç”°æ´‹ä»‹</td><td>Svelteå…¥é–€</td></tr><tr><td>6/23</td><td>çœŸé‡éš¼è¨˜</td><td>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œ</td></tr><tr><td>6/24</td><td>ä¹…ä¿å‹‡æš‰</td><td></td></tr></tbody></table><h2 id="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã®é–¢ã‚ã‚Š"><a href="#ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã®é–¢ã‚ã‚Š" class="headerlink" title="ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã®é–¢ã‚ã‚Š"></a>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã®é–¢ã‚ã‚Š</h2><p><a href="/articles/20190612/">TypeScriptæ•™è‚²ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å…¬é–‹ã®ãŠçŸ¥ã‚‰ã›</a> ã‹ã‚‰å¼•ç”¨ã—ã¾ã™ã€‚</p><blockquote><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ã‚ˆã†ãªB2Bãªä¼šç¤¾ã§ã‚ã£ã¦ã‚‚ã€æœ€è¿‘ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æ¯”é‡ãŒé«˜ã¾ã£ã¦ã„ã‚‹ã¨ã“ã‚ã‹ã‚‰å‡ºç™ºã—ã¦ã„ã¾ã™ã€‚åƒ•ã‚‚ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã«è»¢è·å¾Œã‹ã‚‰Reactã§ãŒã£ã¤ã‚Š1å¹´ä»¥ä¸Šã®æ¡ˆä»¶ã‚’ã‚„ã£ãŸã‚Šã€åŠå¹´ãã‚‰ã„ã®Angularæ¡ˆä»¶ã‚’ã‚„ã£ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚ä¼šç¤¾ã¨ã—ã¦ã¯Vue.jsã‚’æ¨ã—ã¦ã„ã¾ã™ã€‚ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾ã®æ±äº¬ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯Reactã‚’ä½¿ã£ã¦ã„ãŸã‚Šã‚‚ã—ã¾ã™ã€‚è¦ä»¶ã«åˆã‚ã›ã¦ã„ã‚ã„ã‚ã§ã™ã­ã€‚B2B2Cãªæ¡ˆä»¶ã‚‚å¤šã„ã§ã™ã—ã€ãŠå®¢æ§˜ã®æ±‚ã‚ã‚‹UXä½“é¨“ã®è‰¯ã•ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã§ã®é ‘å¼µã‚ŠãŒå¿…è¦ã§ã™ã€‚</p></blockquote><p>ã“ã®è¨˜äº‹ã¯2019å¹´ã®è¨˜äº‹ã§ã™ãŒã€2021å¹´ã®ç¾åœ¨ã‚‚å¤§ä½“åŒã˜ã‚ˆã†ãªçŠ¶æ…‹ã§ã™ã€‚ä»Šã‚‚æ¡ç”¨æŠ€è¡“ã¯æ¡ˆä»¶ã‚„ãƒãƒ¼ãƒ ã§åˆ‡ã‚Šæ›¿ãˆã¦ãŠã‚Šã€å„æŠ€è¡“è¦ç´ ã”ã¨ã«ç¤¾å†…ã§æ§˜ã€…ãªçŸ¥è¦‹ãŒæºœã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã™ã€‚</p><p>ã“ã“æœ€è¿‘ã¯Flutteræ¡ˆä»¶ã‚‚å‡ºã¦ãã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ãã®ã†ã¡Flutter Webãªæ¡ˆä»¶ãŒå‡ºã¦ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚</p><h2 id="ä»Šã¾ã§å…¬é–‹ã•ã‚ŒãŸä¸»ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨˜äº‹"><a href="#ä»Šã¾ã§å…¬é–‹ã•ã‚ŒãŸä¸»ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨˜äº‹" class="headerlink" title="ä»Šã¾ã§å…¬é–‹ã•ã‚ŒãŸä¸»ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨˜äº‹"></a>ä»Šã¾ã§å…¬é–‹ã•ã‚ŒãŸä¸»ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨˜äº‹</h2><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã¨ã„ãˆã°ã€ç¤¾å†…å‘ã‘ã®TypeScriptæ•™è‚²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸€èˆ¬å…¬é–‹ã‚„â€¦</p><ul><li><a href="TypeScript%E6%95%99%E8%82%B2%E7%94%A8%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E5%85%AC%E9%96%8B%E3%81%AE%E3%81%8A%E7%9F%A5%E3%82%89%E3%81%9B">/articles/20190612/</a></li></ul><p>ãƒãƒ¼ãƒˆç´šã«æ—©ã„ã¨å™‚ã®OSSãƒ†ãƒ¼ãƒ–ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€CheetahGridãªã©ãŒæœ‰åã‹ã¨æ€ã„ã¾ã™ã€‚</p><ul><li><a href="/articles/20200901/">Vue.jsã§æœ€é€Ÿã«å§‹ã‚ã‚‹Cheetah Grid</a></li><li><a href="/articles/20200924/">CheetahGrid+Vue.jsã‚’ã‚¨ãƒ³ãƒ—ãƒ©ã§ä½¿ã£ã¦ã¿ãŸ</a></li></ul><p>è¨˜äº‹ã¨ã—ã¦ã¯ã€Vue.jsã€Reactãªã©æ§˜ã€…ãªäººæ°—è¨˜äº‹ãŒã«å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li><a href="o/articles/20201013/">2020å¹´ç§‹ã«Vue.jsã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ãªã‚‰ã€æŠ¼ã•ãˆã¦ãŠããŸã„5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ</a></li><li><a href="/articles/20200401/">Vue.jsæœ€åˆã®é›£é–¢ã€ã€Œprops down, event upã€ã‚’åˆå¿ƒè€…ã«ã‚ã‹ã‚‹ã‚ˆã†ã«è§£èª¬ã—ã¦ã¿ãŸ</a></li><li><a href="/articles/20200501/">TypeScriptã§Reactã‚’ã‚„ã‚‹ã¨ãã¯ã€å°ã•ã„ã‚¢ãƒ—ãƒªã§ã‚‚Reduxã‚’æœ€åˆã‹ã‚‰ä½¿ã£ã¦ã‚‚ã„ã„ã‹ã‚‚ã­ã¨ã„ã†ãŠè©±</a></li><li><a href="/articles/20200429/">Reduxã‚’åˆ†ã‹ã‚Šã‚„ã™ãè§£èª¬ã—ã¦ã¿ãŸ</a></li></ul><p>E2Eãƒ†ã‚¹ãƒˆï¼ˆæ‰“éµãƒ†ã‚¹ãƒˆï¼‰ã«è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã€Cypressã«ã¤ã„ã¦ã¯è¨˜äº‹ã«åŠ ãˆã¦<a href="https://future.connpass.com/">Future Tech Night</a>ã§å‹‰å¼·ä¼šã‚‚é–‹å‚¬ã—ã¾ã—ãŸã€‚</p><ul><li><a href="/articles/20210428a/">Cypresså…¥é–€ï½åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«E2Eãƒ†ã‚¹ãƒˆãŒä½œã‚Œã‚‹ï½</a></li><li><a href="/articles/20210428d/">Cypress - æ›¸ãã‚„ã™ã„ãƒ†ã‚¹ãƒˆã®ç§˜å¯†ã¨ç‹¬è‡ªã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè£…</a></li></ul><p>ã“ã‚Œã‚‰ã®æ´»å‹•ã‚’ã€ä»Šå›ã®ãƒ–ãƒ­ã‚°é€£è¼‰ã«ã‚ˆã‚Šå¼·åŒ–ãƒ»åŠ é€Ÿã§ãã‚Œã°è‰¯ã„ãªã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><h2 id="æœ€å¾Œã«"><a href="#æœ€å¾Œã«" class="headerlink" title="æœ€å¾Œã«"></a>æœ€å¾Œã«</h2><p><a href="/articles/20210112/">2021å¹´åˆã«ç«‹ã¦ãŸè¨ˆç”»</a>ã«æ²¿ã£ã¦æ§˜ã€…ãªé€£è¼‰ã‚’é–‹å‚¬ã—ã¦ã„ã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£è¼‰ã‚’ã¯ã˜ã‚æ§˜ã€…ãªå–ã‚Šçµ„ã¿ã§ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®çŸ¥è¦‹ã‚’å…¬é–‹ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚</p><p>é€£è¼‰ã«ã¤ã„ã¦ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«Twitterã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¾ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¦ã„ãŸã ã‘ã‚Œã°ã§ã™ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/20210614a/digital-1985681_640.jpg&quot; alt=&quot;&quot; title=&quot;Diego VelÃ¡zquezã«ã‚ˆã‚‹Pixabayã‹ã‚‰ã®ç”»åƒ&quot; width=&quot;640&quot; height=&quot;457&quot;&gt;

&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰" scheme="https://future-architect.github.io/tags/%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89/"/>
    
    <category term="ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹" scheme="https://future-architect.github.io/tags/%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>ã‚µãƒ¼ãƒãƒ¼ã‚¢ãƒ—ãƒªé–‹ç™ºç’°å¢ƒ(Pythonï¼FastAPI)</title>
    <link href="https://future-architect.github.io/articles/20210611a/"/>
    <id>https://future-architect.github.io/articles/20210611a/</id>
    <published>2021-06-10T15:00:00.000Z</published>
    <updated>2021-06-11T05:43:37.422Z</updated>
    
    <content type="html"><![CDATA[<p>Pythonã§ãŠä»•äº‹ã™ã‚‹å‰æã§ã€ç¾åœ¨ã®ã¨ã“ã‚ã§è‡ªåˆ†ãŒæœ€é©ã¨è€ƒãˆã‚‹ãƒãƒ¼ãƒ é–‹ç™ºã®ãŸã‚ã®ç’°å¢ƒæ•´å‚™ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚ä»Šã¾ã§ã‚‚ã‚‚ã‚ã‚‚ã‚æ•£ç™ºçš„ã«è¨˜äº‹ã«æ›¸ã„ãŸã‚Šã—ã¦ã„ãŸã®ã§ã™ãŒã€Poetryã§ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸã®ã¨ã€éå»ã®ã‚‚ã‚ã‚‚ã‚ã®æƒ…å ±ãŒã¾ã¨ã¾ã£ãŸã‚‚ã®ãŒå€‹äººçš„ã«ã‚‚æ¬²ã—ã‹ã£ãŸã®ã§ã¾ã¨ã‚ã¾ã—ãŸã€‚å‰æã¨ã—ã¦ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚</p><ul><li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚„é–‹ç™ºç’°å¢ƒæ•´å‚™ã§Poetryã‚’ä½¿ã†</li><li>ä»Šæ™‚ã¯ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã€é™çš„ãƒã‚§ãƒƒã‚¯ã¯å½“ãŸã‚Šå‰ã§ã™ã‚ˆã­ï¼Ÿ</li><li>ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ã¨ã‹å®Ÿè¡Œã¨ã‹ãŒã§ãã‚‹ï¼ˆCI/CDç­‰ã‚’è€ƒãˆã¦ï¼‰</li><li>VSCodeã§ã‚‚ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã¨åŒã˜ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ãŒå¯èƒ½(ã“ã“ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã™ã‚‹ã¨å›°ã‚‹ï¼‰</li><li>ãƒ‡ãƒ—ãƒ­ã‚¤ã¯Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</li><li>ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ‡ãƒ—ãƒ­ã‚¤ç’°å¢ƒã§ã‚³ãƒ³ãƒ†ãƒŠã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸCPUèƒ½åŠ›ã‚’æ¯”è¼ƒçš„å¼•ãå‡ºã›ã¦ã€ã‚¹ã‚±ãƒ¼ãƒ«ã•ã›ãŸã‚‰ç·šå½¢ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¢ãƒƒãƒ—ã§ãã‚‹ã‚ˆã†ãªasyncioã‚’å‰æã¨ã—ãŸç’°å¢ƒæ§‹ç¯‰</li></ul><p>Pythonã®asyncioå‘¨ã‚Šã§<a href="https://twitter.com/aodag">@aodag</a>ã¨<a href="https://twitter.com/moriyoshit">@moriyoshit</a>ã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã„ãŸã ãã¾ã—ãŸã€‚</p><h1 id="Poetryã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ1å›ã§è‰¯ã„ï¼‰"><a href="#Poetryã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ1å›ã§è‰¯ã„ï¼‰" class="headerlink" title="Poetryã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ1å›ã§è‰¯ã„ï¼‰"></a>Poetryã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ1å›ã§è‰¯ã„ï¼‰</h1><p><a href="https://python-poetry.org/docs/">https://python-poetry.org/docs/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="built_in">Invoke-WebRequest</span> <span class="literal">-Uri</span> https://raw.githubusercontent.com/python<span class="literal">-poetry</span>/poetry/master/<span class="built_in">get-poetry</span>.py <span class="literal">-UseBasicParsing</span>).Content | python -</span><br></pre></td></tr></table></figure><p>ãƒ›ãƒ¼ãƒ ã®.poetry/binä»¥ä¸‹ã«ã‚³ãƒãƒ³ãƒ‰ãŒä½œæˆã•ã‚Œã‚‹ã€‚ã“ã“ã«ãƒ‘ã‚¹ã‚’é€šã™ã‹ã€ã©ã†ã›poetryã‚³ãƒãƒ³ãƒ‰ã ã‘ãªã®ã§ã“ã‚Œã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ãƒ‘ã‚¹ã®é€šã£ã¦ã„ã‚‹ã¨ã“ã‚ã«ä½œã‚‹ã€‚</p><h1 id="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"><a href="#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ" class="headerlink" title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h1><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã¯ã‚³ãƒãƒ³ãƒ‰ã§ä¸€ç·’ã«ä½œã‚‰ã‚Œã‚‹ã®ã§ã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’ãŠããŸã„è¦ªãƒ•ã‚©ãƒ«ãƒ€ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ poetry new sample-server</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§sample-serverãƒ•ã‚©ãƒ«ãƒ€ãŒä½œã‚‰ã‚Œã¦ã€ãã®ä¸­ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸€å¼ãŒã¤ãã‚‰ã‚Œã‚‹ã€‚</p><p>ã“ã“ã§å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‹ã—ã¦ã‚‚ã„ã„ãŒãã®å‰ã«ã‚„ã£ã¦ãŠãã¨è‰¯ã„ã“ã¨ãŒã‚ã‚‹ã€‚venvç’°å¢ƒã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«ä½œã‚‹ã¨ã€VSCodeã¨ã‹ã§ä»®æƒ³ç’°å¢ƒã‚’ä¸Šæ‰‹ãæ‰±ã£ã¦ãã‚Œã‚‹ã®ã§ã“ã®è¨­å®šã‚’ã‚„ã£ã¦ãŠãã¨è‰¯ã„ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å†…ã«poetry.tomlã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚Œã‚‹ã€‚ã“ã‚Œã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠã‘ã°ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨å“¡ãŒåŒã˜ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã«ãªã‚‹ãŸã‚ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¹³æº–åŒ–ãŒã—ã‚„ã™ã„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> sample-server</span><br><span class="line">$ poetry config virtualenvs.path <span class="string">&quot;.venv&quot;</span> --<span class="built_in">local</span></span><br><span class="line">$ poetry config virtualenvs.in-project <span class="literal">true</span> --<span class="built_in">local</span></span><br></pre></td></tr></table></figure><p>ã“ã“ã§ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹ã«ã—ã¦ã€å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ poetry install</span><br></pre></td></tr></table></figure><p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§pytestãŒå…¥ã£ã¦ãŠã‚Šã€ã“ã‚Œã§ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ poetry run pytest</span><br></pre></td></tr></table></figure><h1 id="ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"><a href="#ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" class="headerlink" title="ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"></a>ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h1><p>Poetryã®æ¨™æº–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§pytestå…¥ã‚Šã¾ã™ãŒã€linter (flake8, mypy)ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ (black)ã‚’å…¥ã‚Œã¦ã„ãã¾ã™ã€‚</p><p>ã“ã‚Œã‹ã‚‰ã¼ã¡ã¼ã¡è¨­å®šã‚’ã„ã˜ã£ãŸã‚Šã‚‚ã™ã‚‹ã®ã§ã€æœ€åˆã«VSCodeã®è¨­å®šã‚’ã—ã¾ã™ã€‚poetry installã§ä½œã‚‰ã‚ŒãŸ.venvç’°å¢ƒã‚’å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p><figure class="highlight json"><figcaption><span>.vscode/settings.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;python.pythonPath&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;/.venv/bin/python&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ã‚¨ãƒ‡ã‚£ã‚¿ã‚’é–‹ã„ã¦ã€Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«(â€˜.venvâ€™ :venv)ã¨ã‹ã‹ã‚Œã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚</p><p>ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã¯blackã€linterã¯flake8ã¨mypyã‚’å…¥ã‚Œã¾ã™ã€‚ã¾ãŸVSCodeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã™ã‚‹ã¨è‡ªå‹•ã§.venvç’°å¢ƒã«å…¥ã£ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ poetry add --dev mypy black flake8</span><br></pre></td></tr></table></figure><p>ãƒ„ãƒ¼ãƒ«ã®å®Ÿè¡Œã¯ã¾ã¨ã‚ã¦è¡Œã„ãŸã„ã€ã¿ãŸã„ãªã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€poetryã«ã¯ãƒ„ãƒ¼ãƒ«ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã®æ©Ÿèƒ½ã¯ãªã„ã®ã§ã€taskipyã‚’å…¥ã‚Œã¾ã™ã€‚</p><p><a href="https://tech.515hikaru.net/post/2020-02-25-poetry-scripts/">https://tech.515hikaru.net/post/2020-02-25-poetry-scripts/</a></p><p>æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒãƒ³ãƒ‰åã¨ã‹ã‚’è¦šãˆãªãã¦ã‚‚è‰¯ã„ã‚ˆã†ã«ã—ã¾ã™ã€‚</p><figure class="highlight toml"><figcaption><span>pyproject.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[tool.taskipy.tasks]</span></span><br><span class="line"><span class="attr">test</span> = &#123; cmd = <span class="string">&quot;pytest tests&quot;</span>, help = <span class="string">&quot;runs all unit tests&quot;</span> &#125;</span><br><span class="line"><span class="attr">pr_test</span> = <span class="string">&quot;task lint&quot;</span></span><br><span class="line"><span class="attr">fmt</span> = &#123; cmd = <span class="string">&quot;black tests example_server&quot;</span>, help = <span class="string">&quot;format code&quot;</span> &#125;</span><br><span class="line"><span class="attr">lint</span> = &#123; cmd = <span class="string">&quot;task lint_black &amp;&amp; task lint_flake8 &amp;&amp; task lint_mypy&quot;</span>, help = <span class="string">&quot;exec lint&quot;</span> &#125;</span><br><span class="line"><span class="attr">lint_flake8</span> = <span class="string">&quot;flake8 --max-line-length=88 tests example_server&quot;</span></span><br><span class="line"><span class="attr">lint_mypy</span> = <span class="string">&quot;mypy tests example_server&quot;</span></span><br><span class="line"><span class="attr">lint_black</span> = <span class="string">&quot;black --check tests example_server&quot;</span></span><br></pre></td></tr></table></figure><p>æ¬¡ã®åå‰ã§é–‹ç™ºã‚¿ã‚¹ã‚¯ãŒè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><ul><li><code>poetry run task test</code>: ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ(lintã‚‚è¡Œã†)</li><li><code>poetry run task fmt</code>: ã‚¹ã‚¿ã‚¤ãƒ«ã®ä¿®æ­£</li><li><code>poetry run task lint</code>: lintã®å®Ÿè¡Œ(flake8, mypy, blackã®å·®åˆ†ãƒã‚§ãƒƒã‚¯)</li><li><code>poetry run task --list</code>: ã‚¿ã‚¹ã‚¯ä¸€è¦§è¡¨ç¤º</li></ul><p>VSCodeã®æ–¹ã‚‚ã€ã“ã‚Œã‚‰ã®è¨­å®šã«åˆã‚ã›ã¾ã™ã€‚</p><p>linterã¯ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã®ä¸­ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§é©ç”¨ã—ã¦ãƒã‚§ãƒƒã‚¯ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã—ã€ä¿å­˜æ™‚ã«blackã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã¯ãƒ†ã‚¹ãƒˆé–¢æ•°ã®é–¢æ•°å®šç¾©ã®è¡Œã®å‰ã«å‡ºã¦ãã‚‹Run Testãƒœã‚¿ãƒ³ã§ã‚‚ã§ãã¾ã™ã—ã€ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã§Run All Testã§ã‚‚å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight json"><figcaption><span>.vscode/settings.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;python.pythonPath&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;/.venv/bin/python&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;python.formatting.provider&quot;</span>: <span class="string">&quot;black&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;python.linting.flake8Enabled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;python.linting.flake8Args&quot;</span>: [<span class="string">&quot;--max-line-length&quot;</span>, <span class="string">&quot;88&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;python.linting.mypyEnabled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;python.testing.pytestEnabled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;python.testing.pytestArgs&quot;</span>: [<span class="string">&quot;tests&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;python.testing.unittestEnabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;python.testing.nosetestsEnabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¡è¦–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç™»éŒ²ã—ã¦ãŠãã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__pycache__</span><br><span class="line">.venv</span><br><span class="line">.pytest_cache</span><br><span class="line">.mypy_cache</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ä¸€é€šã‚Šè¨­å®šå®Œäº†ã§ã™ã€‚.vscode/settings.jsonã‚’å«ã‚ã¦å„ç¨®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¨éƒ¨ãƒªãƒã‚¸ãƒˆãƒªã«å…¥ã‚Œã¦ãŠã‘ã°ã€ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯<code>poetry install</code>ã‚’å®Ÿè¡Œã™ã‚Œã°ç’°å¢ƒãŒæ•´ã„ã¾ã™ã€‚</p><h1 id="ã‚µãƒ¼ãƒãƒ¼ã®é–‹ç™º"><a href="#ã‚µãƒ¼ãƒãƒ¼ã®é–‹ç™º" class="headerlink" title="ã‚µãƒ¼ãƒãƒ¼ã®é–‹ç™º"></a>ã‚µãƒ¼ãƒãƒ¼ã®é–‹ç™º</h1><p>å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ä»Šå›ã¯asyncioå¯¾å¿œã¨ã„ã†ã“ã¨ã§<a href="https://fastapi.tiangolo.com/">FastAPI</a>ã‚’é¸ã³ã¾ã—ãŸã€‚<a href="https://www.starlette.io/">Starlette</a>ã§ã‚‚ã„ã„ã¨æ€ã„ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ poetry add fastapi uvicorn gunicorn</span><br></pre></td></tr></table></figure><p>PoetryãŒä½œã£ãŸã‚³ãƒ¼ãƒ‰ç”¨ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«main.pyãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã€FastAPIã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚</p><figure class="highlight py"><figcaption><span>example_server/main.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Optional</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_root</span>():</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_item</span>(<span class="params">item_id: <span class="built_in">int</span>, q: Optional[<span class="built_in">str</span>] = <span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;q&quot;</span>: q&#125;</span><br></pre></td></tr></table></figure><p>ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚’poetryã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰è¡Œãˆã‚‹ã‚ˆã†ã«ã€ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’è¿½åŠ ã—ã¦ãŠãã¾ã™ã€‚</p><figure class="highlight toml"><figcaption><span>pyproject.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[tool.taskipy.tasks]</span></span><br><span class="line"><span class="attr">start</span> = &#123; cmd = <span class="string">&quot;uvicorn example_server.main:app --reload&quot;</span>, help = <span class="string">&quot;launch test server&quot;</span> &#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§8000ãƒãƒ¼ãƒˆã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã¨è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ poetry run task start</span><br><span class="line">INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)</span><br><span class="line">INFO:     Started reloader process [49000] using statreload</span><br><span class="line">INFO:     Started server process [49003]</span><br><span class="line">INFO:     Waiting <span class="keyword">for</span> application startup.</span><br><span class="line">INFO:     Application startup complete.```</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ã©ã‚“ã©ã‚“ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ã‹ã—ã¦ãƒ»ãƒ»ãƒ»ã¨ã„ã†ã®ã¯ã§ãã‚‹ã®ã§ã™ãŒã€ãƒ‡ãƒãƒƒã‚°ã‚‚ã—ãŸã„ã§ã™ã‚ˆã­ï¼ŸVSCodeã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ãŠã„ã¦ãŠãã¾ã™ã€‚</p><figure class="highlight json"><figcaption><span>.vscode/launch.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Python: FastAPI&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;python&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;uvicorn&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;args&quot;</span>: [<span class="string">&quot;example_server.main:app&quot;</span>],</span><br><span class="line">      <span class="attr">&quot;jinja&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã‚’ä½œã£ã¦ãŠãã¨ã€Run and Debugã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«RUNã®ã¨ã“ã‚ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã®ã§ã€â–·ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã§ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚ã‚ã¨ã¯ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ç½®ã„ãŸã‚Šã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã—ãŸã‚Šã€å¤‰æ•°ã‚’ã¿ãŸã‚Šã€è‡ªç”±è‡ªåœ¨ã§ã™ã€‚</p><p><img src="/images/20210611a/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88_2021-06-11_12.35.24.png"></p><h1 id="ã‚µãƒ¼ãƒãƒ¼ã®DockeråŒ–"><a href="#ã‚µãƒ¼ãƒãƒ¼ã®DockeråŒ–" class="headerlink" title="ã‚µãƒ¼ãƒãƒ¼ã®DockeråŒ–"></a>ã‚µãƒ¼ãƒãƒ¼ã®DockeråŒ–</h1><p>Dockerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã™ã‚‹ã¨ã“ã‚ã¾ã§ä½œã£ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã¾ãšã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­å®šã™ã‚‹.dockerignoreãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__pycache__</span><br><span class="line">.venv</span><br><span class="line">.pytest_cache</span><br><span class="line">.mypy_cache</span><br><span class="line">.vscode</span><br></pre></td></tr></table></figure><p>æ¬¡ã«Dockerfileã§ã™ã€‚ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…è¦ã«ãªã£ãŸã‚Šã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¦Debianãƒ™ãƒ¼ã‚¹ã§ä½œã£ã¦ã„ã¾ã™ã€‚Distrolessã ã¨ãƒã‚¤ãƒŠãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ ãŒã¡ã‚‡ã£ã¨å³ã—ã„ã‹ã‚‚ã¨ã„ã†ã®ã¨ã€Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ3.7ã¨ã¡ã‚‡ã£ã¨å¤ã„ã®ã§ãƒ»ãƒ»ãƒ»ãƒã‚¤ãƒŠãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å•é¡Œã‚„å‹ãƒã‚§ãƒƒã‚¯ã§æ–°ã—ã„æ›¸ãæ–¹ã‚’ä½¿ã‚ãªãã¦ã‚‚æ§‹ã‚ãªã„å ´åˆã¯DistrolessãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚</p><p>Gunicornã®èµ·å‹•ã§ã¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æµã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãƒ­ã‚°ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒå–å¾—ã—ã¦åé›†ã—ã‚„ã™ããªã‚‹ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®ãã®ã§ã¯ãªãã¦ã€å‡ºåŠ›ã™ã‚‹ã®ãŒã‚³ãƒ³ãƒ†ãƒŠæ™‚ä»£ã‚„ã‚Šæ–¹ã§ã™ã­ã€‚</p><figure class="highlight dockerfile"><figcaption><span>Dockerfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ã“ã“ã¯ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚³ãƒ³ãƒ†ãƒŠ</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span>-slim-buster as builder</span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /opt/app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip3 install poetry</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> poetry.lock pyproject.toml poetry.toml ./</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> poetry install --no-dev</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ã“ã“ã‹ã‚‰ã¯å®Ÿè¡Œç”¨ã‚³ãƒ³ãƒ†ãƒŠã®æº–å‚™</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span>-slim-buster as runner</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> useradd -r -s /bin/<span class="literal">false</span> uvicornuser</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /opt/app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=builder /opt/app/.venv /opt/app/.venv</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> example_server ./example_server</span></span><br><span class="line"><span class="keyword">USER</span> uvicornuser</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;/opt/app/.venv/bin/gunicorn&quot;</span>, <span class="string">&quot;-w&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;-k&quot;</span>, <span class="string">&quot;uvicorn.workers.UvicornWorker&quot;</span>, <span class="string">&quot;--capture-output&quot;</span>, <span class="string">&quot;--log-level&quot;</span>, <span class="string">&quot;warning&quot;</span>, <span class="string">&quot;--access-logfile&quot;</span>, <span class="string">&quot;-&quot;</span>, <span class="string">&quot;--bind&quot;</span>, <span class="string">&quot;:8000&quot;</span>, <span class="string">&quot;example_server.main:app&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>å„DBæ¥ç¶šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®asyncioã‚µãƒãƒ¼ãƒˆã¨å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®çµ„ã¿åˆã‚ã›ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚</p><ul><li><a href="https://docs.sqlalchemy.org/en/14/orm/extensions/asyncio.html">SQLAlchemy</a><ul><li>PostgreSQL: <a href="https://pypi.org/project/asyncpg/">asyncpg</a></li></ul></li><li><a href="https://pypi.org/project/databases/">databases</a><ul><li>PostgreSQL: <a href="https://pypi.org/project/asyncpg/">asyncpg</a></li><li>MySQL: <a href="https://pypi.org/project/aiomysql/">aiomysql</a></li><li>SQLite: <a href="https://pypi.org/project/aiosqlite/">https://pypi.org/project/aiosqlite/</a></li></ul></li></ul><p>ä¸Šè¨˜ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã‚’ä½¿ã†é™ã‚Šã€ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯slimã§å¤§ä¸ˆå¤«ã§ã™ã—ã€è¿½åŠ ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ä¸è¦ã§ã™ã€‚asyncpgã¯Cythonã§ä½œã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€manylinux1ãªãƒã‚¤ãƒŠãƒªãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã®ã§Debianç³»ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†é™ã‚Šã¯Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ä¸è¦ï¼ˆslimãªã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã¾ã¾ã§å¤§ä¸ˆå¤«ï¼‰ã§ã™ã€‚ã¾ãŸã€åŒæœŸæ¥ç¶šãª<a href="https://pypi.org/project/PyMySQL/">PyMySQL</a>ã‚‚pure pythonãªã®ã§ãã®ã¾ã¾ã§å¤§ä¸ˆå¤«ã§ã™ã€‚å‹ãƒã‚§ãƒƒã‚¯ã®æ›¸ãæ–¹ã•ãˆPython3.7ã§ã‚ˆã‘ã‚Œã°DistrolessåŒ–ã‚‚ç°¡å˜ã§ã™ã€‚</p><p>PostgreSQLã§ã€åŒæœŸæ¥ç¶šã®<a href="https://pypi.org/project/psycopg2/">psycopg2</a>ã‚’ä½¿ã†å ´åˆã«libpq5ï¼ˆã¨libxml2)ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã—ã€Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚‚å¿…è¦ã«ãªã‚‹ã®ã§ã€ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’slimã˜ã‚ƒãªã„ã‚‚ã®ã«ã—ã¦ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã‚¤ãƒ¡ãƒ¼ã‚¸ã®FROMã®ã¨ã“ã‚ã«å…¥ã‚Œã¦ãŠãã¾ã™ã€‚ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã®slimã˜ã‚ƒãªã„busterã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã¯æœ€åˆã‹ã‚‰libpq5-devã¨ã‹ã‚‚å…¥ã£ã¦ã„ã‚‹ã®ã§è¿½åŠ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å®Ÿè¡Œã‚¤ãƒ¡ãƒ¼ã‚¸å´ã ã‘ã§å¤§ä¸ˆå¤«ã§ã™ã€‚</p><figure class="highlight docker"><figcaption><span>Dockerfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ã“ã“ã¯ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚³ãƒ³ãƒ†ãƒŠ</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span>-buster as builder</span><br><span class="line">:</span><br><span class="line"></span><br><span class="line"><span class="comment"># ã“ã“ã‹ã‚‰ã¯å®Ÿè¡Œç”¨ã‚³ãƒ³ãƒ†ãƒŠã®æº–å‚™</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span>-slim-buster as runner</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> apt-get update \</span></span><br><span class="line"><span class="bash">  &amp;&amp; apt-get install -y libpq5 libxml2 \</span></span><br><span class="line"><span class="bash">  &amp;&amp; apt-get clean \</span></span><br><span class="line"><span class="bash">  &amp;&amp; rm -rf /var/lib/apt/lists/*</span></span><br><span class="line">:</span><br></pre></td></tr></table></figure><p>å®Ÿè¡Œã¯ã„ã¤ã‚‚ã®é€šã‚Šã§ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t sample-server .</span><br><span class="line">$ docker run --rm -it -p 8000:8000 sample-server .</span><br></pre></td></tr></table></figure><h1 id="Pythonãƒã‚¿ã§éå»ã«æ›¸ã„ãŸè¨˜äº‹ã§ã™"><a href="#Pythonãƒã‚¿ã§éå»ã«æ›¸ã„ãŸè¨˜äº‹ã§ã™" class="headerlink" title="Pythonãƒã‚¿ã§éå»ã«æ›¸ã„ãŸè¨˜äº‹ã§ã™"></a>Pythonãƒã‚¿ã§éå»ã«æ›¸ã„ãŸè¨˜äº‹ã§ã™</h1><ul><li><a href="/articles/20201223/">2021å¹´ç‰ˆPythonã®å‹ãƒ’ãƒ³ãƒˆã®æ›¸ãæ–¹ (for Python 3.9)</a></li><li><a href="/articles/20200513/">ä»•äº‹ã§Pythonã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹äººå‘ã‘ã®Dockerfile (1): ã‚ªãƒ¼ãƒ«ãƒã‚¤ãƒ†ã‚£ç·¨</a></li><li><a href="/articles/20200514/">ä»•äº‹ã§Pythonã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹äººå‘ã‘ã®Dockerfile (2): distrolessç·¨</a></li><li><a href="/articles/20200910/">ã€Œ2020å¹´ä»£ã®ã‚³ãƒ³ãƒ†ãƒŠæ™‚ä»£ã®Pythonã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£&amp;ãƒ‡ãƒ—ãƒ­ã‚¤ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã§PyCon.jp 2020ã§ç™ºè¡¨ã—ã¦ãã¾ã—ãŸ</a></li><li><a href="https://qiita.com/shibukawa/items/1650724daf117fad6ccd">Python 3.7ã¨Visual Studio Codeã§å‹ãƒã‚§ãƒƒã‚¯ãŒæ—ã‚‹å†…ä½œPythonã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Pythonã§ãŠä»•äº‹ã™ã‚‹å‰æã§ã€ç¾åœ¨ã®ã¨ã“ã‚ã§è‡ªåˆ†ãŒæœ€é©ã¨è€ƒãˆã‚‹ãƒãƒ¼ãƒ é–‹ç™ºã®ãŸã‚ã®ç’°å¢ƒæ•´å‚™ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚ä»Šã¾ã§ã‚‚ã‚‚ã‚ã‚‚ã‚æ•£ç™ºçš„ã«è¨˜äº‹ã«æ›¸ã„ãŸã‚Šã—ã¦ã„ãŸã®ã§ã™ãŒã€Poetryã§ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸã®ã¨ã€éå»ã®ã‚‚ã‚ã‚‚ã‚ã®æƒ…å ±ãŒã¾ã¨ã¾ã£ãŸã‚‚ã®ãŒå€‹äººçš„ã«ã‚‚æ¬²ã—ã‹ã£ãŸã®ã§ã¾ã¨</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Docker" scheme="https://future-architect.github.io/tags/Docker/"/>
    
    <category term="Python" scheme="https://future-architect.github.io/tags/Python/"/>
    
    <category term="VSCode" scheme="https://future-architect.github.io/tags/VSCode/"/>
    
  </entry>
  
  <entry>
    <title>AWS APIGateway Custom Authorizerå…¥é–€</title>
    <link href="https://future-architect.github.io/articles/20210610a/"/>
    <id>https://future-architect.github.io/articles/20210610a/</id>
    <published>2021-06-09T15:00:00.000Z</published>
    <updated>2021-06-10T03:03:58.522Z</updated>
    
    <content type="html"><![CDATA[<p>ã“ã‚“ã«ã¡ã¯ã€‚TIG/DXãƒ¦ãƒ‹ãƒƒãƒˆã®LEEã§ã™ã€‚ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã§ã¯ã“ã“æ•°å¹´ã€ä¸»ã«èªè¨¼èªå¯é–¢ä¿‚ã®è¨­è¨ˆã‚„é–‹ç™ºãªã©ã‚’æ‹…å½“ã—ã¦ãŠã‚Šã¾ã™ã€‚</p><p>ä»Šå›ã¯æµè¡Œã‚Šã®èªè¨¼ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã‚ã‚‹OpenID Connectã¨OAuth2.0ã«ãŠã‘ã‚‹Authorizerã«ã¤ã„ã¦è©±ãã†ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="Authorizerã¨ã¯"><a href="#Authorizerã¨ã¯" class="headerlink" title="Authorizerã¨ã¯"></a>Authorizerã¨ã¯</h1><p><img src="/images/20210610a/custom-auth-workflow.png" alt="&quot;ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ¼ã‚½ãƒ©ã‚¤ã‚¶ã®å‹•ä½œãƒ•ãƒ­ãƒ¼&quot;"></p><p><a href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html">Authorizer</a>ã¨ã¯AWS APIGatewayã«ã‚ã‚‹æ©Ÿèƒ½ã®ä¸€ã¤ã§ã€å¤–ã‹ã‚‰APIã‚µãƒ¼ãƒã«é€ã‚‰ã‚Œã¦ãã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚OAuth2.0ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ãŠã„ã¦ã¯ã€Authorizerã¯JWTãªã©Tokenã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã§ã€APIã‚µãƒ¼ãƒã€ã¤ã¾ã‚Š <code>ResourceServer</code> ã‚’ä¿è­·ã™ã‚‹å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</p><p>OSSã®APIGatewayã§ã‚ã‚‹Kongã‚’è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹æ–¹ãªã‚‰ã°ã€<a href="https://docs.konghq.com/hub/kong-inc/jwt/">JWT Plugin</a>ã¨ã»ã¼åŒã˜ç«‹ã¡ä½ç½®ã®ã‚‚ã®ã¨æ€ã£ã¦æ§‹ã„ã¾ã›ã‚“ã€‚</p><h1 id="ãªãœä½¿ã†ã®ã‹"><a href="#ãªãœä½¿ã†ã®ã‹" class="headerlink" title="ãªãœä½¿ã†ã®ã‹"></a>ãªãœä½¿ã†ã®ã‹</h1><p>SinglePageApplicationã‚„ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªãªã©ã€Clientã«ãªã‚‹Front-endãŒã‚µãƒ¼ãƒã¨åˆ†é›¢ã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ æ§‹æˆã®å ´åˆã€<code>Client (RelyingParty)</code> ã¨ <code>APIã‚µãƒ¼ãƒ (ResourceServer)</code> ã‚’ä¸¡æ–¹ã‚»ã‚­ãƒ¥ã‚¢ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><p><code>RelyingParty</code> ã®å ´åˆã€Keycloakã‚„Auth0ãªã©èªè¨¼åŸºç›¤ãŒæä¾›ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ã€OIDCã«æº–æ‹ ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ãˆã°å‰²ã¨ç°¡å˜ã«ã‚»ã‚­ãƒ¥ã‚¢ã«ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><p>ä¸€æ–¹ã€<code>ResourceServer</code> ã«ã¯Authorizerã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Authorizerã¯ã‚µãƒ¼ãƒã®å†…éƒ¨ã®Middlewareå±¤ãªã©ã«å®Ÿè£…ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ãŒã€è¤‡æ•°ã®APIã‚µãƒ¼ãƒãŒå­˜åœ¨ã—ã¦ã¦ã€ä¸€ã¤ã®APIGatewayã§Endpointã‚’é›†ä¸­ç®¡ç†ã™ã‚‹å ´åˆã«Authorizerã‚’Lambdaã¨ã—ã¦ä¸€æœ¬å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€é–‹ç™ºã‚„ãƒ‡ãƒ—ãƒ­ã‚¤ãªã©ã«ãƒ¡ãƒªãƒƒãƒˆã‚’ã‚‚ãŸã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>ã“ã®åº¦ã¯ãã®Authorizerã‚’å®Ÿè£…ã™ã‚‹ã«ã‚ãŸã£ã¦ã€ã„ãã¤ã‹è€ƒæ…®ã™ã¹ããƒã‚¤ãƒ³ãƒˆã«ã¤ã„ã¦è§¦ã‚Œã¦è¡Œã“ã†ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="Authorizerè¨­å®š"><a href="#Authorizerè¨­å®š" class="headerlink" title="Authorizerè¨­å®š"></a>Authorizerè¨­å®š</h1><h2 id="ã‚¿ã‚¤ãƒ—"><a href="#ã‚¿ã‚¤ãƒ—" class="headerlink" title="ã‚¿ã‚¤ãƒ—"></a>ã‚¿ã‚¤ãƒ—</h2><p>ä»Šå›ã¯Cognitoã§ã¯ãªãã€Keycloakã‚„Auth0ãªã©å¤–éƒ¨ã®èªè¨¼åŸºç›¤ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚<br>Authorizerã‚’Lambdaé–¢æ•°ã§å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€èªè¨¼èªå¯åˆ¶å¾¡ã‚’ã‚‚ã£ã¨è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><h2 id="Lambdaã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰"><a href="#Lambdaã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰" class="headerlink" title="Lambdaã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰"></a>Lambdaã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰</h2><p>Lambdaé–¢æ•°ã®å¼•æ•°ã¨ãªã‚‹Eventã®å…¥åŠ›å€¤ã«ã¯2ãƒ‘ã‚¿ãƒ¼ãƒ³å­˜åœ¨ã—ã¾ã™ã€‚</p><ul><li><strong>Tokenã‚¿ã‚¤ãƒ—</strong>ã¯ç°¡å˜ã«Tokenã¨methodArnã®ã¿ãŒå–å¾—å¯èƒ½ã§ã€Tokenã‚’æ¤œè¨¼ã—ãã®(JWTãªã‚‰ã°)Payloadã¨methodArnã®ãƒ‘ã‚¹ã‚’å¯¾ç…§ã™ã‚‹ãªã©ã§èªå¯ã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</li><li><strong>Requestã‚¿ã‚¤ãƒ—</strong>ã¯APIGatewayã®ãƒ—ãƒ­ã‚­ã‚·çµ±åˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘ã‚‰ã‚Œã¾ã™ã€‚Tokenã¨methodArnã¯ã‚‚ã¡ã‚ã‚“ã€ä»–ã®Headerã‚„QueryStringã€Bodyãªã©ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä¸­èº«ãŒå–å¾—ã§ãã‚‹ãŸã‚ã€ã‚‚ã†å°‘ã—è‡ªç”±ãªèªå¯è¦ä»¶ãŒå¿…è¦ãªã¨ãã«ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</li></ul><h2 id="ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼"><a href="#ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼" class="headerlink" title="ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼"></a>ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼</h2><p>Tokenã®ä¸­èº«ã‚’æ¤œè¨¼ã™ã‚‹å‰ã«æ­£è¦è¡¨ç¾ã«ã‚ˆã‚Šç°¡å˜ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¸€èˆ¬çš„ã«Tokenã¨ã—ã¦JWTã‚’ä½¿ã†å ´åˆã¯<code>^Bearer [-_0-9a-zA-Z.]+$</code>ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚<br>ã“ã®æ­£è¦è¡¨ç¾ã«ãƒãƒƒãƒã—ãªã„å ´åˆã€Authorizerã¯Lambdaã¾ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‰ãš401ã‚’è¿”ã—ã¾ã™ã€‚</p><h2 id="èªå¯ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥"><a href="#èªå¯ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥" class="headerlink" title="èªå¯ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥"></a>èªå¯ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥</h2><p>Authorizerã¯APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ã‚‰ã‚Œã‚‹ã¨ãæ¯å›å¿…ãšTokenã‚’æ¤œè¨¼ã™ã‚‹ã®ã§ã€ãã®è² è·ã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã‚‚å¯èƒ½ã§ã™ã€‚<br>ã—ã‹ã—ã€ã“ã®æ©Ÿèƒ½ã«ã¯å¤§ããªå•é¡ŒãŒã‚ã‚Šã€ã‚­ãƒ£ã‚·ãƒ³ã‚°ã®å˜ä½ãŒTokenãã®ã‚‚ã®ã§ã¯ãªãã€Tokenã®ã‚½ãƒ¼ã‚¹ã§ã‚ã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼å(<code>Authorization</code>ãªã©)ã«ãªã£ã¦ã„ã¾ã™ã€‚ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãŒä¸€åº¦èªå¯ã—ãŸã‚ã¨ãªã‚‰ã°ã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãŒãã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã„å›ã™ã“ã¨ãŒã§ãã¦ã—ã¾ã†ãŸã‚ã€åŸºæœ¬ç„¡åŠ¹ã«ã™ã‚‹ã—ã‹ãªã„ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="Lambdaã®å®Ÿè£…"><a href="#Lambdaã®å®Ÿè£…" class="headerlink" title="Lambdaã®å®Ÿè£…"></a>Lambdaã®å®Ÿè£…</h1><p>Lambdaå®Ÿè£…ã®æµã‚Œã¯å¤§ããåˆ†ã‘ã¦</p><ol><li>ã¾ãšã€Tokenã‚’æ¤œè¨¼ã—<strong>èªè¨¼</strong>ã™ã‚‹</li><li>æ¤œè¨¼ã—ãŸTokenã®Payloadã¨ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®æƒ…å ±(methodArnãªã©)ã‚’å¯¾ç…§ã—<strong>èªå¯</strong>ã™ã‚‹</li></ol><p>ã®2ã¤ã®æ®µéšã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚</p><h2 id="å…¥å‡ºåŠ›"><a href="#å…¥å‡ºåŠ›" class="headerlink" title="å…¥å‡ºåŠ›"></a>å…¥å‡ºåŠ›</h2><p>Goã§å®Ÿè£…ã™ã‚‹å ´åˆãƒ¡ã‚¤ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é–¢æ•°ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handle</span><span class="params">(e events.APIGatewayCustomAuthorizerRequest)</span> <span class="params">(*events.APIGatewayCustomAuthorizerResponse, error)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Tokenã‚¿ã‚¤ãƒ—ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handle</span><span class="params">(e events.APIGatewayCustomAuthorizerRequestTypeRequest)</span> <span class="params">(*events.APIGatewayCustomAuthorizerResponse, error)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Requestã‚¿ã‚¤ãƒ—ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/aws/aws-lambda-go">aws-lambda-go</a>ã«ã¯ã€ã™ã§ã«CustomAuthorizerã®ãŸã‚ã®å…¥å‡ºåŠ›æ§‹é€ ä½“ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚å¤§å¤‰ä¾¿åˆ©ã§ã™ã€‚<br>å‡ºåŠ›ã®æˆ»ã‚Šå€¤ã¨ã—ã¦ã¯AWS IAMã®ã‚ˆã†ãªAWSPolicyDocumentã‚’ä½¿ã„è¿”ã—ã¾ã™(è©³ç´°å¾Œè¿°)ã€‚</p><h3 id="å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³"><a href="#å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³" class="headerlink" title="å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³"></a>å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³</h3><p>Lambdaé–¢æ•°ã®å‡ºåŠ›(æˆ»ã‚Šå€¤)ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«APIã«é€ã‚‰ã‚Œã¦ããŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><table><thead><tr><th>å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³</th><th>å‹•ä½œ</th><th>HTTP Status</th><th>Response Body</th></tr></thead><tbody><tr><td>Policyï¼šAllow</td><td>ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯</td><td>å¾Œç¶šã®APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚ˆã‚‹</td><td>å¾Œç¶šã®APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚ˆã‚‹</td></tr><tr><td>Policyï¼šDeny</td><td>èªå¯å¤±æ•—</td><td>403 Forbidden</td><td><code>&#123;&quot;message&quot;: &quot;User is not authorized to access this resource with an explicit deny&quot;&#125;</code></td></tr><tr><td>Errorï¼šUnauthorized</td><td>èªè¨¼å¤±æ•—</td><td>401 Unauthorized</td><td><code>&#123;&quot;message&quot;: &quot;Unauthorized&quot;&#125;</code></td></tr><tr><td>ãã®ä»–ã®Error</td><td>ã‚¨ãƒ©ãƒ¼</td><td>500 Internal Server Error</td><td><code>&#123;&quot;message&quot;: &quot;Internal Server Error&quot;&#125;</code></td></tr></tbody></table><p><em>ç‰¹è¨˜äº‹é …ã¨ã—ã¦ã€ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã«ã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’<code>Unauthorized</code> (å¤§æ–‡å­—<code>U</code>ã«æ³¨æ„)ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Š401ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</em></p><h2 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h2><p>èªå¯åˆ¶å¾¡ã®ãŸã‚ã«å‰æã¨ã—ã¦ã€ã¾ãšã¯èªè¨¼ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ä¸€èˆ¬çš„ã«ã¯JWTã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã«ãªã‚Šã€JWTã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ãˆã°ç°¡å˜ã§ã™ãŒã€æ¤œè¨¼ã®ãŸã‚ã®<strong>å…¬é–‹éµå–å¾—æ–¹æ³•</strong>ã«ã¯2ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚</p><h3 id="é™çš„ã«å…¬é–‹éµã‚’ä¿æŒã™ã‚‹"><a href="#é™çš„ã«å…¬é–‹éµã‚’ä¿æŒã™ã‚‹" class="headerlink" title="é™çš„ã«å…¬é–‹éµã‚’ä¿æŒã™ã‚‹"></a>é™çš„ã«å…¬é–‹éµã‚’ä¿æŒã™ã‚‹</h3><p>å…¬é–‹éµã‚’Lambdaã®ç’°å¢ƒå¤‰æ•°ã‚„DynamoDBã€S3ãªã©ã‚’ä½¿ã„é™çš„ã«ä¿æŒã™ã‚‹æ–¹æ³•ã§ã™ã€‚<br>å®Ÿè£…ã¯ç°¡å˜ã§æ§‹é€ ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ãŒã€éµã®ãƒ­ãƒ¼ãƒ†ã‚·ãƒ§ãƒ³ã‚’ã©ã†ã™ã‚‹ã‹è€ƒãˆã‚‹å¿…è¦ãŒå°†æ¥çš„ã«å‡ºã¦ãã¾ã™ã€‚</p><h3 id="å…¬é–‹éµã‚’å‹•çš„ã«å–å¾—ã™ã‚‹"><a href="#å…¬é–‹éµã‚’å‹•çš„ã«å–å¾—ã™ã‚‹" class="headerlink" title="å…¬é–‹éµã‚’å‹•çš„ã«å–å¾—ã™ã‚‹"></a>å…¬é–‹éµã‚’å‹•çš„ã«å–å¾—ã™ã‚‹</h3><p>èªè¨¼åŸºç›¤ãŒå…¬é–‹ã—ã¦ã„ã‚‹å…¬é–‹éµã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰éµã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã§ã™ã€‚<br>å…¬é–‹éµã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ä¸€èˆ¬çš„ã«èªè¨¼åŸºç›¤å´ãŒ<a href="https://openid-foundation-japan.github.io/rfc7517.ja.html">JSON Web Key(JWK)</a>ã«ã‚ˆã‚Šå®šç¾©ã—ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚</p><ul><li><a href="https://keycloak-documentation.openstandia.jp/master/ja_JP/securing_apps/index.html#_certificate_endpoint">Keycloakè¨¼æ˜æ›¸ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</a></li><li><a href="https://auth0.com/docs/tokens/json-web-tokens/json-web-key-sets">Auth0 JSON Web Key Sets</a></li></ul><p>ã“ã®æ–¹æ³•ã¯éµã®ãƒ­ãƒ¼ãƒ†ã‚·ãƒ§ãƒ³ã‚’æ°—ã«ã›ãšã«æ¸ˆã¿ã¾ã™ãŒã€APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãŸã³ã«èªè¨¼åŸºç›¤ã¸ã®å¤–éƒ¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã®ã§ã€é…å»¶ãƒ»è² è·ã‚’è»½æ¸›ã™ã‚‹ãŸã‚ã®åŠ¹ç‡çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ã‚’ç«‹ã¦ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><h2 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h2><p>APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®Tokenæ¤œè¨¼ãŒå®Œäº†ã—èªè¨¼ãŒã§ããŸã‚‰ã€æ¬¡ã¯ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹èªå¯å‡¦ç†ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</p><p>èªå¯ã€ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã¯JWTã®Claimsã®å€¤ã«å…¥ã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ã®å±æ€§ã‚„ãƒ­ãƒ¼ãƒ«ã¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ‘ã‚¹ãªã©ã‚’å¯¾ç…§ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šåˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><p>ãƒ­ã‚¸ãƒƒã‚¯ã«ã¤ã„ã¦ã¯èªè¨¼åŸºç›¤ã®è¨­å®šã‚„ãã®ã‚·ã‚¹ãƒ†ãƒ ã®å›ºæœ‰ã®è€ƒãˆæ–¹ãªã©ã«ã‚ˆã‚ŠRole-BasedAccessControlã€Attribute-BasedAccessControlãªã©ã€æ§˜ã€…ãªã‚„ã‚Šæ–¹ãŒã‚ã‚Šã¾ã™ã€‚ã“ã†ã„ã£ãŸãƒ­ã‚¸ãƒƒã‚¯ã¯è‡ªç”±åº¦ã®é«˜ã„é ˜åŸŸãªã®ã§ã“ã“ã§ã¯å‚è€ƒç¨‹åº¦ã«Keycloakã‚„Auth0ãªã©ã§æƒ³å®šã—ã¦ã„ã‚‹ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã«ã¤ã„ã¦ã®ãƒªãƒ³ã‚¯ã ã‘ã‚’è²¼ã£ã¦ãŠãã¾ã™ã€‚</p><ul><li><a href="https://keycloak-documentation.openstandia.jp/master/ja_JP/authorization_services/">Keycloak Authorization Services Guide</a></li><li><a href="https://auth0.com/docs/authorization">Auth0 Authorization</a></li></ul><h3 id="èªå¯ã®å‡ºåŠ›"><a href="#èªå¯ã®å‡ºåŠ›" class="headerlink" title="èªå¯ã®å‡ºåŠ›"></a>èªå¯ã®å‡ºåŠ›</h3><p>èªå¯ãƒ­ã‚¸ãƒƒã‚¯ã«ã‚ˆã‚Šãƒ¦ãƒ¼ã‚¶ã®ã‚¢ã‚¯ã‚»ã‚¹å¯å¦ãŒæ±ºã¾ã£ãŸã‚‰ã€Authorizerã¯ä»¥ä¸‹ã®ã‚ˆã†ãªJSONã§èªå¯å‡¦ç†ãŒå®Œäº†ã—ãŸã“ã¨ã‚’APIGatewayã«è¿”ã—ã¾ã™ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;principalId&quot;</span>: <span class="string">&quot;yyyyyyyy&quot;</span>, <span class="comment">// The principal user identification associated with the token sent by the client.</span></span><br><span class="line">  <span class="attr">&quot;policyDocument&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;Version&quot;</span>: <span class="string">&quot;2012-10-17&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;Statement&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;Action&quot;</span>: <span class="string">&quot;execute-api:Invoke&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;Effect&quot;</span>: <span class="string">&quot;Allow|Deny&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;Resource&quot;</span>: <span class="string">&quot;arn:aws:execute-api:&#123;regionId&#125;:&#123;accountId&#125;:&#123;apiId&#125;/&#123;stage&#125;/&#123;httpVerb&#125;/[&#123;resource&#125;/[&#123;child-resources&#125;]]&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;context&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;stringKey&quot;</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;numberKey&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;booleanKey&quot;</span>: <span class="string">&quot;true&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;usageIdentifierKey&quot;</span>: <span class="string">&quot;&#123;api-key&#125;&quot;</span> <span class="comment">// Optional</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Policy-Document"><a href="#Policy-Document" class="headerlink" title="Policy Document"></a>Policy Document</h4><p>IAMã®ã‚‚ã®ã¨åŒã˜å½¢å¼ã§ã€ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã‹æ‹’å¦ã™ã‚‹ã‹ã‚’æ˜ç¤ºçš„ã«è¡¨ç¾ã—ã¾ã™ã€‚</p><p>Authorizerã¯APIGatewayä¸Šã§å‹•ãã‚‚ã®ãªã®ã§<code>&quot;Action&quot;: &quot;execute-api:Invoke&quot;</code>ã¯å›ºå®šã«ãªã‚Šã¾ã™ã€‚<br><code>Resource</code>ã¯Lambdaé–¢æ•°ã®å¼•æ•°ã§å—ã‘ãŸ<code>methodArn</code>ã‚’ãã®ã¾ã¾è¿”ã™ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚</p><h4 id="Principal-ID"><a href="#Principal-ID" class="headerlink" title="Principal ID"></a>Principal ID</h4><p>APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸãƒ¦ãƒ¼ã‚¶ãŒèª°ãªã®ã‹ã‚’è¡¨ç¾ã—ã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸãƒ¦ãƒ¼ã‚¶ã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹ãŸã‚ã®å€¤ã§ã‚ã‚Šã€å®Ÿéš›ã®APIãƒ­ã‚¸ãƒƒã‚¯ã‚’æ±ºã‚ã‚‹å¾Œç¶šã®Lambdaé–¢æ•°ãªã©ã«æ¸¡ã™ã“ã¨ãŒã§ãã€ãƒ¦ãƒ¼ã‚¶ã«ã‚ˆã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‡ºã—åˆ†ã‘ãªã©ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p><p>ä¸€èˆ¬çš„ã«ã¯JWTã®<a href="https://datatracker.ietf.org/doc/html/rfc7519#section-4.1.2"><code>sub</code> (Subject) Claim</a>ã‚’ãã®ã¾ã¾ä½¿ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p><h4 id="Authorizer-Context"><a href="#Authorizer-Context" class="headerlink" title="Authorizer Context"></a>Authorizer Context</h4><p>Principal IDã¨åŒã˜ã‚ˆã†ã«å¾Œç¶šã®Lambdaé–¢æ•°ãªã©ã«æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ä»»æ„ã®å€¤ã§ã™(Principal IDã‚‚Contextã®ä¸€éƒ¨)ã€‚APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡ºã—åˆ†ã‘ã™ã‚‹ãŸã‚ã«å¿…è¦ãªä»»æ„ã®æƒ…å ±ã‚’Key-Valueå½¢å¼ã§ã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ä¸€è¦‹Mapã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚‚è¦‹ãˆã¾ã™ãŒã€Valueã¨ã—ã¦ã¯Numberãƒ»Stringãƒ»Booleanã®ã¿ã§Objectã‚„Arrayãªã©ã®å…¥ã‚Œå­æ§‹é€ ã¯ä½¿ãˆã¾ã›ã‚“ã€‚</p><h1 id="æœ€å¾Œã«"><a href="#æœ€å¾Œã«" class="headerlink" title="æœ€å¾Œã«"></a>æœ€å¾Œã«</h1><p>Authorizerã®å®Ÿè£…ã€æœ€åˆã¯ã‚ã‹ã‚‰ãªã„ã“ã¨ã ã‚‰ã‘ã§é›£ã—ãæ„Ÿã˜ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å˜æ©Ÿèƒ½ã®é–¢æ•°ã§ã‚ã‚‹ãŸã‚ã€ä¸€åº¦å®Ÿè£…ã—ã¦ã—ã¾ã£ãŸã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚ˆã†ã«æ§˜ã€…ãªAPIã«ä½¿ã„å›ã™ã“ã¨ã‚‚å¯èƒ½ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ä»¥ä¸‹ã¯è‡ªåˆ†ãŒå®Ÿè£…ã®éš›ã«ä¸€ç•ªå‚è€ƒã«ãªã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ³ã‚¯ã‚’ç½®ã„ã¦ç· ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p><ul><li><a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints">Amazon API Gateway - Custom Authorizer Blueprints for AWS Lambda</a></li><li><a href="https://github.com/aws/aws-lambda-go/blob/master/events/README_ApiGatewayCustomAuthorizer.md">AWS Lambda for Go - Authorizer Sample Function</a></li><li><a href="https://auth0.com/docs/quickstart/backend/golang/01-authorization">Auth0 Backend/API Go: Authorization</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ã“ã‚“ã«ã¡ã¯ã€‚TIG/DXãƒ¦ãƒ‹ãƒƒãƒˆã®LEEã§ã™ã€‚ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã§ã¯ã“ã“æ•°å¹´ã€ä¸»ã«èªè¨¼èªå¯é–¢ä¿‚ã®è¨­è¨ˆã‚„é–‹ç™ºãªã©ã‚’æ‹…å½“ã—ã¦ãŠã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå›ã¯æµè¡Œã‚Šã®èªè¨¼ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã‚ã‚‹OpenID Connectã¨OAuth2.0ã«ãŠã‘ã‚‹Authorizerã«ã¤ã„ã¦è©±ãã†ã¨æ€ã„ã¾ã™ã€‚</summary>
      
    
    
    
    <category term="èªè¨¼èªå¯" scheme="https://future-architect.github.io/categories/%E8%AA%8D%E8%A8%BC%E8%AA%8D%E5%8F%AF/"/>
    
    
    <category term="AWS" scheme="https://future-architect.github.io/tags/AWS/"/>
    
    <category term="Lambda" scheme="https://future-architect.github.io/tags/Lambda/"/>
    
  </entry>
  
  <entry>
    <title>Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ</title>
    <link href="https://future-architect.github.io/articles/20210609a/"/>
    <id>https://future-architect.github.io/articles/20210609a/</id>
    <published>2021-06-08T15:00:00.000Z</published>
    <updated>2021-06-09T03:29:47.472Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ"><a href="#Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ" class="headerlink" title="Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ"></a>Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ</h1><p>ã¯ã˜ã‚ã¾ã—ã¦ã€ä¸­å²¡(<a href="https://twitter.com/MaineK00n">@MaineK00n</a>)ã¨ç”³ã—ã¾ã™ã€‚</p><p>2021å¹´6æœˆã®ç¾åœ¨ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ç™ºOSSã®<a href="https://github.com/future-architect/vuls">Vuls</a>é–‹ç™ºã‚’ãƒ¡ã‚¤ãƒ³ã«ã€CSIG<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>ã§ã‚¢ãƒ«ãƒã‚¤ãƒˆã‚’ã—ã¦ã„ã¾ã™ã€‚</p><h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><ul><li>ORM(Object-relational mapping)ã‚’è§¦ã‚‹ã¨ãã¯ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªãŒæ„å›³ã—ãŸã‚‚ã®ã‹ç¢ºèªã™ã‚‹</li><li>æ¨æ¸¬ã™ã‚‹ãªã€è¨ˆæ¸¬ã›ã‚ˆ</li></ul><h1 id="GORMã‚’è§¦ã‚‹ã€Vuls-1202"><a href="#GORMã‚’è§¦ã‚‹ã€Vuls-1202" class="headerlink" title="GORMã‚’è§¦ã‚‹ã€Vuls#1202"></a>GORMã‚’è§¦ã‚‹ã€Vuls#1202</h1><p>æœ¬é¡Œã«å…¥ã‚‹å‰ã«ã€Vulsã®ã‚¹ã‚­ãƒ£ãƒ³ã«ã¤ã„ã¦ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚</p><p>Vulsã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«sqlite3ãªã©ã®å½¢å¼ã§ä¿å­˜ã•ã‚ŒãŸVulnerability DBã‹ã‚‰CVEæƒ…å ±ã‚’é›†ã‚ã¦ã€ã‚¹ã‚­ãƒ£ãƒ³å…ˆã®è„†å¼±æ€§ã‚’è§£æã—ã¦ã„ã¾ã™ã€‚</p><p>FYI: Vulsã®ã‚¹ã‚­ãƒ£ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯<a href="https://vuls.io/docs/en/architecture-fast-deep.html">ã“ã¡ã‚‰</a>ã«è©³ã—ãæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚</p><p><img src="/images/20210609a/vuls-arch.png"></p><p>Reference: <a href="https://github.com/future-architect/vuls">future-architect/vuls</a></p><p>ã•ã¦ï¼ŒGORMã‚’è§¦ã‚‹ãã£ã‹ã‘ã¯ã€ã“ã®PR(<a href="https://github.com/future-architect/Vuls/pull/1202">Vuls#1202</a>)ã§ã™ã€‚ã“ã®PRã¯ã€Vulsã§Debianã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸã¨ãã€CVEæƒ…å ±ã®ãƒ™ãƒ¼ã‚¹ã‚’OVALã‹ã‚‰Debian Security Trackerã¸å¤‰æ›´ã—ã‚ˆã†ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚å®Ÿè£…ã—ã¦ã¿ã‚‹ã¨ã€å¤‰æ›´å‰ã¯ã‚¹ã‚­ãƒ£ãƒ³æ™‚é–“ã®90%ileãŒ3.37sã ã£ãŸã®ã§ã™ãŒã€å¤‰æ›´å¾Œã¯11.15sã¾ã§å¢—åŠ ã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚</p><p>åŸå› ã‚’èª¿æŸ»ã™ã‚‹ã¨ã€Vulsã¨é€£æºã—ã¦Debian Security Trackerã®æƒ…å ±ã‚’å–ã‚Šæ‰±ã†gost(<a href="https://github.com/knqyf263/gost">knqyf263/gost</a>)ã«ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚è©³ã—ãã¯ã€è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½(<a href="https://github.com/knqyf263/gost/pull/47">gost#47</a>)ã«ã‚ˆã£ã¦DBã«ä¿å­˜ã—ãŸDebianã«é–¢ã™ã‚‹CVEæƒ…å ±ã‚’å–å¾—ã™ã‚‹éƒ¨åˆ†ãŒå¢—åŠ ã—ãŸã“ã¨ã§ã—ãŸã€‚</p><p>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã—ãªã‘ã‚Œã°ã€ã“ã®æ©Ÿèƒ½ã¯å°å…¥ã§ããªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚ãã®ãŸã‚ã€EXPLAINã—ã¦INDEXã‚’ç¢ºèªã—ãŸã‚Šãªã©ã‚’ã—ã¦ã€è§£æ±ºç­–ã‚’è‰²ã€…æ¢ã—ã¦ã„ã¾ã—ãŸ</p><p>ãã®ä¸­ã§ã€2020å¹´8æœˆã«GORM 2.0ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æ€ã„å‡ºã—ã¾ã—ãŸã€‚Release Noteã«ã‚ˆã‚‹ã¨ã€GORM v2ã¯ãƒ•ãƒ«ã‚¹ã‚¯ãƒ©ãƒƒãƒã•ã‚Œã¦ãŠã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ”¹å–„ã•ã‚Œã¦ã„ã‚‹ãã†ãªã®ã§ã™ã€‚</p><p>ã¾ãšã€ç§ã¯GORM v2ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã€ã©ã‚Œãã‚‰ã„æ”¹å–„ã™ã‚‹ã‹ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ(<a href="https://github.com/knqyf263/gost/pull/60">gost#60</a>)ã€‚</p><h2 id="æœŸå¾…ã®GORM-v2ã€ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹"><a href="#æœŸå¾…ã®GORM-v2ã€ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹" class="headerlink" title="æœŸå¾…ã®GORM v2ã€ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹"></a>æœŸå¾…ã®GORM v2ã€ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h2><p>GORMã‚’v1ã‹ã‚‰v2ã«ã—ãŸã¨ã“ã‚ã€ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã¯å¤§ããå¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚<br>ãã‚Œã§ã¯ã€ç°¡æ˜“ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šã‚’ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚</p><h3 id="æ¤œè¨¼-Package-expat"><a href="#æ¤œè¨¼-Package-expat" class="headerlink" title="æ¤œè¨¼(Package: expat)"></a>æ¤œè¨¼(Package: expat)</h3><p>Debian busterã®Package: expatã«é–¢ã™ã‚‹unfixed/fixedãªCVEæƒ…å ±ã‚’æ¤œç´¢ã™ã‚‹ã“ã¨ã‚’100å›ç¹°ã‚Šè¿”ã—ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‹ã‹ã‚‹æ™‚é–“ã®90%ileã‚’å–ã£ã¦ã¿ã¾ã—ãŸã€‚</p><ul><li>unfixed cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">4</td><td align="center">0.006682</td></tr><tr><td align="center">GORM v2</td><td align="center">4</td><td align="center">0.010948</td></tr></tbody></table><ul><li>fixed cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">46</td><td align="center">0.023047</td></tr><tr><td align="center">GORM v2</td><td align="center">46</td><td align="center">0.015868</td></tr></tbody></table><h3 id="æ¤œè¨¼-Package-linux"><a href="#æ¤œè¨¼-Package-linux" class="headerlink" title="æ¤œè¨¼(Package: linux)"></a>æ¤œè¨¼(Package: linux)</h3><p>ã‚‚ã—ã‹ã—ã¦ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªæ•°ãŒå°‘ãªã™ãã‚‹ã‹ãªã¨æ€ã£ã¦ã€Package: linuxã«é–¢ã™ã‚‹unfixed/fixedãªCVEæƒ…å ±ã§ã‚‚æ¤œè¨¼ã—ã¦ã¿ã¾ã—ãŸã€‚</p><p>ã™ã‚‹ã¨ã€ã“ã®å ´åˆã¯GORM v2ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹ã¯ã£ãã‚Šã¨ã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸ŠãŒç¢ºèªã§ãã¾ã—ãŸã€‚</p><ul><li>unfixed cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">298</td><td align="center">0.035935</td></tr><tr><td align="center">GORM v2</td><td align="center">307</td><td align="center">0.027996</td></tr></tbody></table><ul><li>fixed cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">4930</td><td align="center">0.43754</td></tr><tr><td align="center">GORM v2</td><td align="center">4945</td><td align="center">0.298629</td></tr></tbody></table><p>ã¡ãªã¿ã«ã€GORM v2ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸçŠ¶æ…‹ã§ã®Vulsã«ã‚ˆã‚‹ã‚¹ã‚­ãƒ£ãƒ³æ™‚é–“ã¯11.5sã‹ã‚‰9.17sã«ãªã‚Šã¾ã—ãŸã€‚<br>ã¾ã ã¾ã é«˜é€ŸåŒ–ãŒå¿…è¦ã§ã™ğŸ˜¢</p><h2 id="ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–ã«å‘ã‘ã¦"><a href="#ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–ã«å‘ã‘ã¦" class="headerlink" title="ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–ã«å‘ã‘ã¦"></a>ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–ã«å‘ã‘ã¦</h2><p>ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã®ã†ã¡ã€ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ãªã£ã¦ã„ãŸã®ã¯JOINå¥ãŒå…¥ã£ãŸã“ã®ã‚¯ã‚¨ãƒªã§ã™ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    debian_cve_id</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="string">`debian_releases`</span></span><br><span class="line">    <span class="keyword">join</span></span><br><span class="line">        debian_packages</span><br><span class="line">    <span class="keyword">on</span>  debian_releases.debian_package_id = debian_packages.id</span><br><span class="line">    <span class="keyword">AND</span> debian_packages.package_name = <span class="string">&quot;expat&quot;</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    <span class="string">`debian_releases`</span>.<span class="string">`product_name`</span> = <span class="string">&quot;buster&quot;</span></span><br><span class="line"><span class="keyword">AND</span> <span class="string">`debian_releases`</span>.<span class="string">`status`</span> = <span class="string">&quot;open&quot;</span>;</span><br></pre></td></tr></table></figure><p>JOINå¥ã‚’ä½¿ã‚ãšã«åŒæ§˜ã®æ¤œç´¢ãŒå‡ºæ¥ãªã„ã‹ã‚’è€ƒãˆã€ã‚¯ã‚¨ãƒªã‚’ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ã¾ã—ãŸ(<a href="https://github.com/knqyf263/gost/pull/61">gost#61</a>)ã€‚<br>ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ç‰ˆã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã€JOINå¥ã‚’ã‚„ã‚ã€ã‚·ãƒ³ãƒ—ãƒ«ã«<code>debian_packages</code>ã‹ã‚‰<code>debian_cve_id</code> ã‚’æ±‚ã‚ã€è»½ã„ã‚¯ã‚¨ãƒªã‚’å¤šãå®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">    debian_cve_id</span><br><span class="line"><span class="deletion">- FROM</span></span><br><span class="line"><span class="deletion">-     `debian_releases`</span></span><br><span class="line"><span class="deletion">-     join</span></span><br><span class="line"><span class="deletion">-         debian_packages</span></span><br><span class="line"><span class="deletion">-     on  debian_releases.debian_package_id = debian_packages.id</span></span><br><span class="line"><span class="deletion">-     AND debian_packages.package_name = &quot;expat&quot;</span></span><br><span class="line"><span class="deletion">- WHERE</span></span><br><span class="line"><span class="deletion">-     `debian_releases`.`product_name` = &quot;buster&quot;</span></span><br><span class="line"><span class="deletion">- AND `debian_releases`.`status` = &quot;open&quot;;</span></span><br><span class="line"><span class="addition">+ FROM</span></span><br><span class="line"><span class="addition">+     `debian_packages`</span></span><br><span class="line"><span class="addition">+ WHERE</span></span><br><span class="line"><span class="addition">+     package_name = &quot;expat&quot;;</span></span><br></pre></td></tr></table></figure><h3 id="æ¤œè¨¼-ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°"><a href="#æ¤œè¨¼-ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°" class="headerlink" title="æ¤œè¨¼(ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°)"></a>æ¤œè¨¼(ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°)</h3><p>å…ˆç¨‹ã¨åŒæ§˜ã«ã€Debian busterã«ã‚ã‚‹Package: expatã€linuxã«é–¢ã™ã‚‹unfixed/fixedãªCVEæƒ…å ±ã‚’æ¤œç´¢ã™ã‚‹ã“ã¨ã‚’100å›ç¹°ã‚Šè¿”ã—ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‹ã‹ã‚‹æ™‚é–“ã®90%ileã§ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®åŠ¹æœã‚’è©•ä¾¡ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p><ul><li>expat unfixes cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">4</td><td align="center">0.006682</td></tr><tr><td align="center">GORM v2</td><td align="center">4</td><td align="center">0.010948</td></tr><tr><td align="center">GORM v2 + query tuning</td><td align="center">49</td><td align="center">0.003467</td></tr></tbody></table><ul><li>expat fixes cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">46</td><td align="center">0.023047</td></tr><tr><td align="center">GORM v2</td><td align="center">46</td><td align="center">0.015868</td></tr><tr><td align="center">GORM v2 + query tuning</td><td align="center">49</td><td align="center">0.003759</td></tr></tbody></table><ul><li>linux unfixes cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">298</td><td align="center">0.035935</td></tr><tr><td align="center">GORM v2</td><td align="center">307</td><td align="center">0.027996</td></tr><tr><td align="center">GORM v2 + query tuning</td><td align="center">5287</td><td align="center">0.267383</td></tr></tbody></table><ul><li>linux fixes cves</li></ul><table><thead><tr><th align="center"></th><th align="center">ç™ºè¡Œã‚¯ã‚¨ãƒªæ•°</th><th align="center">90%ile</th></tr></thead><tbody><tr><td align="center">GORM v1</td><td align="center">4930</td><td align="center">0.43754</td></tr><tr><td align="center">GORM v2</td><td align="center">4945</td><td align="center">0.298629</td></tr><tr><td align="center">GORM v2 + query tuning</td><td align="center">5287</td><td align="center">0.280019</td></tr></tbody></table><p>çµæœã¨ã—ã¦ã¯ã€ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ã“ã¨ã§ã€ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªæ•°ã¯å¢—ãˆã¦ã„ã¾ã™ãŒã€linux unfixed cvesã®å ´åˆä»¥å¤–ã€é«˜é€ŸåŒ–ã§ãã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚</p><p>åŸ·ç­†æ™‚(2021/05/27)ã§ã¯ã€gostã«ãŠã„ã¦ã€CVEæƒ…å ±ã‚’æ¤œç´¢å¯èƒ½ãªDebianã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯3059ä»¶ã‚ã‚Šã€ãã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å¯¾ã—ã¦fixed/unfixesãªCVEæƒ…å ±ã‚’æ¤œç´¢ã—ãŸã¨ãã€ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªæ•°ã¯ã©ã®ã‚ˆã†ã«åˆ†å¸ƒã™ã‚‹ã®ã‹ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚<br>ã™ã‚‹ã¨ã€ã»ã¨ã‚“ã©ã®æ¤œç´¢ã®å ´åˆã€0-499å€‹ã®ã‚¯ã‚¨ãƒªã—ã‹ç™ºè¡Œã—ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚<br>ã¤ã¾ã‚Šã€linux unfixes cvesã®å ´åˆã®ã‚ˆã†ã«ã€<code>GORM v2 + query tuning</code>ã®ã‚¯ã‚¨ãƒªæ•°ã ã‘ãŒã¨ã¦ã‚‚å¢—åŠ ã—ã¦ã€æ¤œç´¢ã«ã‹ã‹ã‚‹æ™‚é–“ãŒå¤§ãããªã‚‹äº‹è±¡ã«ã‚ˆã‚‹ãƒ­ã‚¹ã‚ˆã‚Šã€ãã‚Œä»¥å¤–ã®å ´åˆã«ã‚ˆã‚‹é«˜é€ŸåŒ–ãŒå¤§ããç¾ã‚Œã‚„ã™ã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p><p><img src="/images/20210609a/query_count.png"></p><p>ã“ã‚ŒãŒã€Vulsã®ã‚¹ã‚­ãƒ£ãƒ³æ™‚é–“ã«ã©ã‚Œãã‚‰ã„ã®å½±éŸ¿ã‚’ä¸ãˆã‚‹ã‹ã‚’ã€ã‚¹ã‚­ãƒ£ãƒ³æ™‚é–“ã®90%ileã§è¦‹ã¦ã¿ã¾ã™ã€‚<br>ã‚¹ã‚­ãƒ£ãƒ³å…ˆã®Debianã«ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ218å€‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>å‚è€ƒã«ã€è¿½åŠ æ©Ÿèƒ½ãŒå°å…¥ã•ã‚Œã¦ãªã„Vuls v0.15.10ã‚‚è¿½åŠ ã—ã¾ã—ãŸã€‚<br>çµæœã‚ˆã‚Šã€GORM v1, GORM v2ã®æ™‚ç‚¹ã§ã¯ã€æ©Ÿèƒ½ã‚’å°å…¥ã«å¯¾ã™ã‚‹ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã¨ã—ã¦ã¯è¦‹åˆã‚ãªã‹ã£ãŸã®ã§ã™ãŒã€ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€è¿½åŠ æ©Ÿèƒ½ãŒãªã„ã‚‚ã®ã‚ˆã‚Šé«˜é€Ÿã«ã‚¹ã‚­ãƒ£ãƒ³ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ‰</p><table><thead><tr><th align="center">baseline(Vuls v0.15.10)</th><th align="center">GORM v1</th><th align="center">GORM v2</th><th align="center">GORM v2 + query tuning</th></tr></thead><tbody><tr><td align="center">3.37</td><td align="center">11.5</td><td align="center">9.17</td><td align="center">2.49</td></tr></tbody></table><h1 id="Gostã€Ubuntuã‚µãƒãƒ¼ãƒˆã‚’ã™ã‚‹"><a href="#Gostã€Ubuntuã‚µãƒãƒ¼ãƒˆã‚’ã™ã‚‹" class="headerlink" title="Gostã€Ubuntuã‚µãƒãƒ¼ãƒˆã‚’ã™ã‚‹"></a>Gostã€Ubuntuã‚µãƒãƒ¼ãƒˆã‚’ã™ã‚‹</h1><p>gostã¯Ubuntuã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã‹ã£ãŸã®ã§(TODOã«ã¯ã‚ã£ãŸ)ã€ã¤ã„ã§ã¨æ€ã£ã¦Ubuntuã®ã‚µãƒãƒ¼ãƒˆã‚’ã—ã¾ã—ãŸ(<a href="https://github.com/knqyf263/gost/pull/62">gost#62</a>)ã€‚</p><p>ã“ã‚Œã‚’ã‚‚ã¨ã«ã—ã¦ã€Vulsã§Ubuntuã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã¨ãã«gostã‹ã‚‰ã®CVEæƒ…å ±ãŒè¿½åŠ ã•ã‚Œã‚‹äºˆå®šã§ã™(<a href="https://github.com/future-architect/Vuls/pull/1243">Vuls#1243</a>)ã€‚</p><p>åŸ·ç­†æ™‚ç‚¹ï¼ˆ2021/05/27ï¼‰ã§ã¯ã€gostã§GORM v2ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹PRã¯ã¾ã Mergeã•ã‚Œã¦ã¾ã›ã‚“ã®ã§ã€æœ€åˆã¯Debianã§ã®ã‚¯ã‚¨ãƒªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’åŸºã«ã—ã¦ã€GORM v1ã§å¯¾å¿œã—ã¾ã—ãŸã€‚gostã®å¯¾å¿œã¯ã‚µã‚¯ãƒƒã¨çµ‚ã‚ã£ãŸã®ã§ã€ç¶šã„ã¦Vulsã¨ã®é€£æºã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚</p><p>ã•ã¦ã€Vulsã¨ã®é€£æºã‚‚å®Ÿè£…ã§ããŸã®ã§ã€Vulsã®ã‚¹ã‚­ãƒ£ãƒ³å…ˆã‚’ç”¨æ„ã—ã¾ã™ã€‚ã‚¹ã‚­ãƒ£ãƒ³å…ˆã¨ã—ã¦ç”¨æ„ã—ãŸUbuntuç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯2662å€‹ã§ã™ã€‚</p><p>ã“ã®ç’°å¢ƒã«å¯¾ã—ã¦Vulsã§ã‚¹ã‚­ãƒ£ãƒ³ã‚’ã™ã‚‹ã¨ã€ã‚¹ã‚­ãƒ£ãƒ³æ™‚é–“ãŒ5m38sã¨é…ã„â€¦â€¦(æ©Ÿèƒ½å°å…¥å‰ã§ã‚ã‚Œã°2sãã‚‰ã„)</p><p>ãã“ã§ã€ä»–ã®PRã§GORM v2ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã®ã§ã€Ubuntuã‚µãƒãƒ¼ãƒˆç‰ˆã‚‚GORM v2ã«å¯¾å¿œã—ã¾ã—ãŸã€‚</p><p>ã•ã¦ã€GORM v2ã«ã—ãŸã¨ãã®Vulsã®ã‚¹ã‚­ãƒ£ãƒ³é€Ÿåº¦ã¯â€¦â€¦ï¼Ÿ</p><p><strong>7s</strong></p><p>ç´„48å€ã‚‚é€Ÿããªã‚Šã¾ã—ãŸï¼ï¼ï¼ä¸€å¿œã€å®Ÿéš›ã«ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã‚’è¦‹ã¦ã¿ã¾ã—ãŸãŒã€ç™ºè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã«å·®åˆ†ã¯ã€ã»ã¼ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p><p>ç´„48å€ã‚‚é€Ÿããªã£ãŸè¦å› ã¯ã€ã‚¹ã‚­ãƒ£ãƒ³å…ˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ•°ãŒDebianã®å ´åˆã‚ˆã‚Šã‚‚å¤šãã€GORM v2ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸ŠãŒé¡•è‘—ã«ç¾ã‚ŒãŸã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><h2 id="GORM-v1ã¨GORM-v2ã«ãŠã‘ã‚‹Preloadã®æŒ™å‹•"><a href="#GORM-v1ã¨GORM-v2ã«ãŠã‘ã‚‹Preloadã®æŒ™å‹•" class="headerlink" title="GORM v1ã¨GORM v2ã«ãŠã‘ã‚‹Preloadã®æŒ™å‹•"></a>GORM v1ã¨GORM v2ã«ãŠã‘ã‚‹Preloadã®æŒ™å‹•</h2><p>ã•ã¦ã€GORM v1ã§å®Ÿè£…ã—ã¦ã„ã¦ã€ãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã„ã‚‹ã¨ã€Debianã®å ´åˆã¯RDBã¨Redisã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ¯”è¼ƒã—ã¦ã€å·®åˆ†ã¯å‡ºãªã„ã®ã§ã™ãŒã€Ubuntuã§ã¯ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ãŸã¨ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒRDBã¨Redisã§ç•°ãªã‚‹ã“ã¨ã«æ°—ãŒä»˜ãã¾ã—ãŸã€‚</p><p>ã¨ã‚Šã‚ãˆãšã€Preloadã®é †ç•ªã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæ­£ã—ãè¿”ã£ã¦ãã¾ã—ãŸã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    err := r.conn.</span><br><span class="line"><span class="deletion">-           Preload(&quot;Patches.ReleasePatches&quot;, &quot;release_name = ? AND status IN (?)&quot;, codeName, fixStatus).</span></span><br><span class="line">        Preload(&quot;Patches&quot;, &quot;package_name = ?&quot;, pkgName).</span><br><span class="line"><span class="addition">+        Preload(&quot;Patches.ReleasePatches&quot;, &quot;release_name = ? AND status IN (?)&quot;, codeName, fixStatus).</span></span><br><span class="line">        Where(&amp;models.UbuntuCVE&#123;ID: res.UbuntuCveID&#125;).</span><br><span class="line">        First(&amp;cve).Error</span><br></pre></td></tr></table></figure><p>ãã—ã¦ã€GORM v2ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸå¾Œã€GORM v1ã®ã¨ãã«å¤‰æ›´ã—ãŸPreloadã®é †ç•ªã£ã¦GORM v2ã§ã‚‚åŒæ§˜ã®æŒ™å‹•ã‚’ã™ã‚‹ã®ã‹ãŒæ°—ã«ãªã‚Šã¾ã—ãŸğŸ¤”</p><p>Preloadã‚’èª¿æ•´ã—ãŸcommitã‚’revertã—ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚¢ãƒ¬ãƒ¬ï¼Ÿã¡ã‚ƒã‚“ã¨æ­£ã—ã„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¦ã„ã¾ã—ãŸâ€¦â€¦</p><p>ã—ã‹ã—ã€ã©ã†ã—ã¦æ­£ã—ã„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã—ã‚‡ã†ã‹ã€‚</p><p>ç§ã€æ°—ã«ãªã‚Šã¾ã™ï¼</p><p>ãã“ã§ã€Preloadèª¿æ•´å‰ã®GORM v1ã¨Preloadèª¿æ•´å¾Œã®GORM v1ã€Preloadèª¿æ•´å¾Œã®GORM v2ã€Preloadèª¿æ•´ã‚’revertã—ãŸGORM v2ã®4ã¤ãŒç™ºè¡Œã™ã‚‹ã‚¯ã‚¨ãƒªã®ä¸€éƒ¨ã‚’æ¯”è¼ƒã—ã¾ã—ãŸã€‚</p><p>çµæœã¨ã—ã¦ã¯ã€ä»Šå›ã®å ´åˆã€GORM v1ã«ãŠã„ã¦ã¯ã€Preloadã®é †ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€<code>WHERE IN</code>ã«å½±éŸ¿ã‚’åŠã¼ã™ã‚ˆã†ã§ã™ã€‚GORM v2ã«ãªã‚‹ã¨ã€Preloadã®é †ç•ªã«å·¦å³ã•ã‚Œãªã„æŒ™å‹•ã‚’ã—ã¦ã„ã¾ã—ãŸã€‚</p><ul><li>GORM v1, Preloadèª¿æ•´å‰</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="string">&quot;ubuntu_release_patches&quot;</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    (<span class="string">&quot;ubuntu_patch_id&quot;</span> <span class="keyword">IN</span>(<span class="number">133652</span>, <span class="number">133653</span>)) <span class="comment">-- Preloadã®é †ç•ªãŒã“ã“ã«å½±éŸ¿ã™ã‚‹</span></span><br><span class="line"><span class="keyword">AND</span> (</span><br><span class="line">        release_name = <span class="string">&#x27;focal&#x27;</span></span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">status</span> <span class="keyword">IN</span>(<span class="string">&#x27;needed&#x27;</span>, <span class="string">&#x27;pending&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    <span class="string">&quot;ubuntu_release_patches&quot;</span>.<span class="string">&quot;id&quot;</span> <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><ul><li>GORM v1, Preloadèª¿æ•´å¾Œ</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="string">&quot;ubuntu_release_patches&quot;</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    (<span class="string">&quot;ubuntu_patch_id&quot;</span> <span class="keyword">IN</span>(<span class="number">133653</span>))</span><br><span class="line"><span class="keyword">AND</span> (</span><br><span class="line">        release_name = <span class="string">&#x27;focal&#x27;</span></span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">status</span> <span class="keyword">IN</span>(<span class="string">&#x27;needed&#x27;</span>, <span class="string">&#x27;pending&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    <span class="string">&quot;ubuntu_release_patches&quot;</span>.<span class="string">&quot;id&quot;</span> <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><ul><li>GORM v2, Preloadèª¿æ•´å¾Œ</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="string">`ubuntu_release_patches`</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    <span class="string">`ubuntu_release_patches`</span>.<span class="string">`ubuntu_patch_id`</span> = <span class="number">133653</span></span><br><span class="line"><span class="keyword">AND</span> (</span><br><span class="line">        release_name = <span class="string">&quot;focal&quot;</span></span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">status</span> <span class="keyword">IN</span>(<span class="string">&quot;needed&quot;</span>, <span class="string">&quot;pending&quot;</span>)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><ul><li>GORM v2, revert Preloadèª¿æ•´</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="string">`ubuntu_release_patches`</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    <span class="string">`ubuntu_release_patches`</span>.<span class="string">`ubuntu_patch_id`</span> = <span class="number">133653</span></span><br><span class="line"><span class="keyword">AND</span> (</span><br><span class="line">        release_name = <span class="string">&quot;focal&quot;</span></span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">status</span> <span class="keyword">IN</span>(<span class="string">&quot;needed&quot;</span>, <span class="string">&quot;pending&quot;</span>)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>è‡ªæˆ’ã®å¿µã‚’è¾¼ã‚ã¦ã€‚</p><p>ORMã‚’ä½¿ã†ã®ã¯ã„ã„ã§ã™ãŒã€ã¡ã‚ƒã‚“ã¨æ„å›³ã—ãŸã‚¯ã‚¨ãƒªã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ãªã£ã¦ã„ã‚‹ã‹ã¯ã¡ã‚ƒã‚“ã¨ç¢ºèªã—ãŸã»ã†ãŒè‰¯ã„ã§ã™ã€‚</p><p>ãã—ã¦ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„ã‚’ã™ã‚‹ã¨ãã¯ã€ã¡ã‚ƒã‚“ã¨ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’è‰²ã€…ãªè§’åº¦ã‹ã‚‰æ¸¬å®šã—ã¦ã€ãƒˆãƒ¼ã‚¿ãƒ«ã§æ”¹å–„ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">CSIG(CyberSecurityInnovationGroup)ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã‚„å®Ÿè£…ãªã©ã‚’è¡Œã£ã¦ã„ã¾ã™</span><a href="#fnref:1" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ&quot;&gt;&lt;a href=&quot;#Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ&quot; class=&quot;headerlink&quot; title=&quot;Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ&quot;&gt;&lt;/a&gt;Vulsé–‹ç™ºä¸­ã«å‡ºä¼šã£ãŸGORMã‚ã‚Œã“ã‚Œ&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Vuls" scheme="https://future-architect.github.io/tags/Vuls/"/>
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="ORM" scheme="https://future-architect.github.io/tags/ORM/"/>
    
  </entry>
  
  <entry>
    <title>Future Tech Night #9ã€Œã‚ªãƒ³ã‚³ãƒ¼ãƒ«é€šçŸ¥ã‚‚å…¨è‡ªå‹•ã§! AWS + Datadog + PagerDuty ã§ä½œã‚‹é‹ç”¨ç›£è¦–åŸºç›¤ã€</title>
    <link href="https://future-architect.github.io/articles/20210608a/"/>
    <id>https://future-architect.github.io/articles/20210608a/</id>
    <published>2021-06-07T15:00:00.000Z</published>
    <updated>2021-06-08T01:16:35.051Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã“ã‚“ã«ã¡ã¯ã€TIGã®æœ¨æ‘ã§ã™ã€‚å…ˆæ—¥2021/4/21(æ°´)ã« <a href="https://future.connpass.com/event/209778/">Future Tech Night #9 ï½é‹ç”¨ã§å¾Œæ‚”ã—ãªã„ãŸã‚ã®AWSè¨­è¨ˆè¡“ï½</a> ã‚’é–‹å‚¬ã—ã¾ã—ãŸã€‚</p><p>ç§ã¯ <strong>ã€Œã‚ªãƒ³ã‚³ãƒ¼ãƒ«é€šçŸ¥ã‚‚å…¨è‡ªå‹•ã§! AWS + Datadog + PagerDuty ã§ä½œã‚‹é‹ç”¨ç›£è¦–åŸºç›¤ã€</strong> ã¨ã„ã†ãƒ†ãƒ¼ãƒã§ãŠè©±ã—ã¾ã—ãŸã€‚</p><p>åŒã‚¤ãƒ™ãƒ³ãƒˆã«ã¦ç™ºè¡¨ã•ã‚ŒãŸæ‘ç€¬ã•ã‚“ã® <a href="/articles/20210527a/">ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰</a> ã«ãªã‚Šã¾ã™ã€‚</p><h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p>ç›£è¦– ã«é–¢é€£ã™ã‚‹OSSã‚„SaaSãŒä¹±ç«‹ã™ã‚‹æ˜¨ä»Šã€Futureã§ã¯ã¨ã‚ã‚‹æ¡ˆä»¶ã§ Datadogã¨PagerDutyã‚’ãƒ•ãƒ«æ´»ç”¨ã—ãŸé‹ç”¨ç›£è¦–åŸºç›¤ã‚’ä¸€ã‹ã‚‰æ§‹ç¯‰ã—ã¾ã—ãŸã€‚é‹ç”¨ç›£è¦–åŸºç›¤ã«æ±‚ã‚ã‚‰ã‚ŒãŸè¦ä»¶ã¨ãã®è¨­è¨ˆã€ã‚·ã‚¹ãƒ†ãƒ (AWS)ã‹ã‚‰Datadog/PagerDutyã¸ã®å…·ä½“çš„ãªé€£æºã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€é‹ç”¨ã—ã¦ã¿ã¦ã®å¬‰ã—ã¿/è¾›ã¿ç­‰ã‚’æƒœã—ã¿ãªããŠè©±ã—ã¾ã—ãŸã€‚</p><p>ãã®ä¸­ã‹ã‚‰ç™ºè¡¨å†…å®¹ã‚’ä¸€éƒ¨æŠœç²‹ã—ã¦ç´¹ä»‹ã„ãŸã—ã¾ã™ã€‚</p><h2 id="ç›£è¦–åŸºç›¤è¦ä»¶ã¨è¨­è¨ˆ"><a href="#ç›£è¦–åŸºç›¤è¦ä»¶ã¨è¨­è¨ˆ" class="headerlink" title="ç›£è¦–åŸºç›¤è¦ä»¶ã¨è¨­è¨ˆ"></a>ç›£è¦–åŸºç›¤è¦ä»¶ã¨è¨­è¨ˆ</h2><img src="/images/20210608a/image.png" alt="é‹ç”¨ç›£è¦–åŸºç›¤è¦ä»¶" width="1200" height="402" loading="lazy"><img src="/images/20210608a/image_2.png" alt="Why Datadog" width="1200" height="565" loading="lazy"><img src="/images/20210608a/image_3.png" alt="Why PagerDurty" width="1200" height="586" loading="lazy"><h2 id="ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ"><a href="#ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ" class="headerlink" title="ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ"></a>ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ</h2><img src="/images/20210608a/image_4.png" alt="Metrics -> Datadog" width="1200" height="639" loading="lazy"><img src="/images/20210608a/image_5.png" alt="Log -> Datadog" width="1200" height="477" loading="lazy"><img src="/images/20210608a/image_6.png" alt="Datadog -> é€šçŸ¥å…ˆã‚µãƒ¼ãƒ“ã‚¹" width="1200" height="491" loading="lazy"><h2 id="ã“ã“ãŒç´ æ•µ-è¾›ã„-Datadog-PagerDuty"><a href="#ã“ã“ãŒç´ æ•µ-è¾›ã„-Datadog-PagerDuty" class="headerlink" title="ã“ã“ãŒç´ æ•µ/è¾›ã„ Datadog/PagerDuty"></a>ã“ã“ãŒç´ æ•µ/è¾›ã„ Datadog/PagerDuty</h2><img src="/images/20210608a/image_7.png" alt="Datadog" width="1200" height="492" loading="lazy"><img src="/images/20210608a/image_8.png" alt="PagerDuty" width="120" height="285" loading="lazy"><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ã”å‚åŠ ã„ãŸã ã„ãŸæ–¹ã€…ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</p><p>æœ¬ç·¨ã§ã¯ã‚‚ã†å°‘ã—Datadog, PagerDutyã§ã§ãã‚‹ã“ã¨/ã§ããªã„ã“ã¨ã‚’åšã‚ã«ç´¹ä»‹ã§ãã‚Œã°ã‚ˆã‹ã£ãŸã‹ãªã€ã¨åçœã¯ã‚ã‚Šã¾ã™ãŒã€å°‘ã—ã§ã‚‚ãŠå½¹ã«ç«‹ã¦ãŸãªã‚‰å¹¸ã„ã§ã™ã€‚</p><p>Futureã§ã¯Future Tech Nightã®ä»–ã«ã‚‚æ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’é–‹å‚¬ã—ã¦ãŠã‚Šã¾ã™ã€‚ä»Šå¾Œã‚‚çš†æ§˜ã®ã”å‚åŠ ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;ã“ã‚“ã«ã¡ã¯ã€TIGã®æœ¨æ‘ã§ã™ã€‚å…ˆæ—¥2021/4/21(æ°´)ã« &lt;a href=&quot;https://future.connpas</summary>
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="AWS" scheme="https://future-architect.github.io/tags/AWS/"/>
    
    <category term="ä¿å®ˆé‹ç”¨" scheme="https://future-architect.github.io/tags/%E4%BF%9D%E5%AE%88%E9%81%8B%E7%94%A8/"/>
    
    <category term="TechNight" scheme="https://future-architect.github.io/tags/TechNight/"/>
    
  </entry>
  
  <entry>
    <title>AWS Certified Solutions Architect - Professionalåˆæ ¼ä½“é¨“è¨˜</title>
    <link href="https://future-architect.github.io/articles/20210607a/"/>
    <id>https://future-architect.github.io/articles/20210607a/</id>
    <published>2021-06-06T15:00:00.000Z</published>
    <updated>2021-06-07T01:33:48.633Z</updated>
    
    <content type="html"><![CDATA[<p>TIGã®ä¼Šè—¤çœŸå½¦ã§ã™ã€‚</p><p>å…ˆæ—¥AWS Certified Solutions Architect - Professionalã‚’å—é¨“ã—åˆæ ¼ã§ãã¾ã—ãŸã€‚</p><p>åˆæ ¼ã¾ã§ã®å­¦ç¿’æ–¹æ³•ã‚’å…±æœ‰ã—ã¾ã™ã€‚</p><img src="/images/20210607a/image.png" alt="aws certified solutions architect icon" width="600" height="600"><h1 id="AWS-Certified-Solutions-Architect-Professionalã¨ã¯"><a href="#AWS-Certified-Solutions-Architect-Professionalã¨ã¯" class="headerlink" title="AWS Certified Solutions Architect - Professionalã¨ã¯"></a>AWS Certified Solutions Architect - Professionalã¨ã¯</h1><p>AWSã«ã¯è³‡æ ¼è©¦é¨“ãŒ11ç¨®é¡å­˜åœ¨ã—ã¾ã™(AWS èªå®š Alexa ã‚¹ã‚­ãƒ«ãƒ“ãƒ«ãƒ€ãƒ¼ â€“ å°‚é–€çŸ¥è­˜ãŒ2021å¹´3æœˆã‚’ã‚‚ã£ã¦çµ‚äº†ã—ãŸãŸã‚11ç¨®é¡ã«ãªã‚Šã¾ã—ãŸ)</p><p>ãã®ä¸­ã§ã‚‚ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸å®šã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®è¨­è¨ˆã«é–¢ã‚ã‚‹è©¦é¨“ãŒã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã§ã™ã€‚</p><p>ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã«ã¯ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆè³‡æ ¼ã¨ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«è³‡æ ¼ãŒã‚ã‚Šã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã¯ä¸Šä½ã®è³‡æ ¼ã«ã‚ãŸã‚Šã¾ã™ã€‚</p><p>å…¬å¼ãƒšãƒ¼ã‚¸ã¯<a href="https://aws.amazon.com/jp/certification/certified-solutions-architect-professional/">ã“ã¡ã‚‰</a>ã§ã™ã€‚</p><p>ä¸Šä½è³‡æ ¼ã ã‘ã‚ã£ã¦ã€å•é¡Œæ–‡ã®æ„å‘³ã‚’ç†è§£ã™ã‚‹äº‹ã™ã‚‰è‹¦åŠ´ã™ã‚‹ã‚ˆã†ãªãƒ¬ãƒ™ãƒ«ã®å•é¡ŒãŒå¤šãé›†ã¾ã£ã¦ã„ã¾ã™ã€‚</p><h1 id="åˆæ ¼ã¾ã§ã®é“ç­‹"><a href="#åˆæ ¼ã¾ã§ã®é“ç­‹" class="headerlink" title="åˆæ ¼ã¾ã§ã®é“ç­‹"></a>åˆæ ¼ã¾ã§ã®é“ç­‹</h1><p><a href="https://d1.awsstatic.com/ja_JP/training-and-certification/docs-sa-pro/AWS-Certified-Solutions-Architect-Professional_Exam-Guide.pdf">è©¦é¨“ã‚¬ã‚¤ãƒ‰</a>ã«å¾“ã„ãƒ›ãƒ¯ã‚¤ãƒˆãƒšãƒ¼ãƒ‘ãƒ¼ã‚’èª­ã¿é€²ã‚ã¦ã„ãã®ãŒæ­£æ”»æ³•ã§ã™ãŒã€ç§ã¯æœ‰æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã²ãŸã™ã‚‰è³¼å…¥ã—ã¦æ¶ˆåŒ–ã—ã¦ã„ãæ–¹é‡ã§å‹‰å¼·ã—ã¾ã—ãŸã€‚</p><p>æ®‹å¿µãªãŒã‚‰è©¦é¨“ã«ã¯ä¸€åº¦è½ã¡ã¦ã—ã¾ã„ã¾ã—ãŸã€å¿ƒãŒæŠ˜ã‚Œã‹ã‘ã¾ã—ãŸãŒã€ã©ã†ã«ã‹ä¿¡ç”¨ã§ãã‚‹æ•™æã‚’æœç´¢ã—ã€å†ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã™ã‚‹è‡ªä¿¡ã‚’å–ã‚Šæˆ»ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><p>ä»¥é™ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ãªã‚Šã¾ã™ã€‚</p><h1 id="æ›¸ç±AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆâ€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«"><a href="#æ›¸ç±AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆâ€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«" class="headerlink" title="æ›¸ç±AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆâ€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«"></a>æ›¸ç±AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆâ€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«</h1><p>ãƒªãƒƒã‚¯ãƒ†ãƒ¬ã‚³ãƒ ã‹ã‚‰<a href="https://books.google.co.jp/books/about/AWS%E8%AA%8D%E5%AE%9A%E3%82%BD%E3%83%AA%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%A2%E3%83%BC%E3%82%AD.html?id=gqOWzQEACAAJ&source=kp_book_description&redir_esc=y">æ›¸ç±</a>ãŒå‡ºã¦ã„ã¾ã™ã€‚</p><p>ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«è³‡æ ¼ã§ã¯åŸ·ç­†æ™‚ç‚¹ã§ã®å”¯ä¸€ã®æ›¸ç±ã§ã®æ•™æã§ã™ã€‚</p><p>æ•™æã®å†…å®¹ã¯ã€2020å¹´ç™ºå£²ã§æœ€æ–°ã®æƒ…å ±ã‚‚ã—ã£ã‹ã‚Šã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã¾ã™ã€‚æœ¬ã®å†…å®¹ã¯ç´ æ™´ã‚‰ã—ã„ã‚‚ã®ã§ã—ãŸã€‚</p><p>ã—ã‹ã—ã€è©¦é¨“ã®é›£æ˜“åº¦ãŒåœ§å€’çš„ã«é«˜ãã€ã¾ãŸå‡ºé¡Œç¯„å›²ãŒåºƒã„ãŸã‚ã€å¾Œè¿°ã®Udemyã®æ•™æã¨å·»æœ«ã®å•é¡Œé›†ã ã‘ã‚’ä¸¸æš—è¨˜ã—ã¦è‡¨ã‚“ã çµæœè½ã¡ã¦ã—ã¾ã„ã¾ã—ãŸã€‚</p><p>ä»Šæ€ãˆã°å„ç« ã®å†…å®¹ã‚’éš…ã€…ã¾ã§ä¸¸æš—è¨˜ã™ã‚Œã°ã“ã‚Œä¸€å†Šã§åˆæ ¼ã§ããŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><h1 id="Udemyæ•™æ"><a href="#Udemyæ•™æ" class="headerlink" title="Udemyæ•™æ"></a>Udemyæ•™æ</h1><p>è³‡æ ¼è©¦é¨“ã®å•é¡Œé›†ã‚’å­¦ç¿’ã‚µã‚¤ãƒˆã®Udemyã§è³¼å…¥ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><p><a href="https://www.udemy.com/course/aws-solutions-architect-professional-practice-exams-amazon/">ã“ã¡ã‚‰ã®å•é¡Œé›†</a>ãŒæœ€ã‚‚é«˜è©•ä¾¡ã§ã™ã€‚</p><p>è‹±èªç‰ˆã§ã™ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§ç¿»è¨³ã—ãªãŒã‚‰åˆ©ç”¨ã™ã‚Œã°è‹±èªãŒèª­ã‚ãªã„æ–¹ã§ã‚‚æ¦‚ã­å·®ã—æ”¯ãˆãªãåˆ©ç”¨ã§ãã¾ã™ã€‚</p><p>ã“ã¡ã‚‰ã‚‚å•é¡Œã®è³ªã¯æ±ºã—ã¦æ‚ªããªã„ã®ã§ã™ãŒã€å…¨ã¦ã‚’90%ä»¥ä¸Šè§£ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã¾ã§è¦šãˆã¦ã‚‚è½ã¡ã¾ã—ãŸã€‚</p><p>å•é¡Œã®é›£æ˜“åº¦ãŒé«˜ã„ãŸã‚ã€å¤§ã¾ã‹ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã ã‘ä¸¸æš—è¨˜ã™ã‚‹ã‚ˆã†ãªãƒ¬ãƒ™ãƒ«æ„Ÿã§ã¯åˆæ ¼ã§ãã¾ã›ã‚“ã€‚</p><p>ç´°ã‹ã„è¨€ã„å›ã—ãŒå¤‰ã‚ã£ã¦ã‚‚æ ¹æ‹ ã‚’ã‚‚ã£ã¦æ­£è§£ã‚’é¸ã¹ã‚‹ã‚ˆã†ã—ã£ã‹ã‚Šã‚¤ãƒ³ãƒ—ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p><h1 id="å­¦ç¿’ã‚µã‚¤ãƒˆ-aws-koiwaclub-com"><a href="#å­¦ç¿’ã‚µã‚¤ãƒˆ-aws-koiwaclub-com" class="headerlink" title="å­¦ç¿’ã‚µã‚¤ãƒˆ aws.koiwaclub.com"></a>å­¦ç¿’ã‚µã‚¤ãƒˆ aws.koiwaclub.com</h1><p><a href="https://aws.koiwaclub.com/">AWS WEBå•é¡Œé›†ã§å­¦ç¿’ã—ã‚ˆã†</a>ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p><p>å‰è¿°ã®é€šã‚Šè©¦é¨“ã«è½ã¡ãŸç§ã¯è—ã«ã‚‚ç¸‹ã‚‹æ€ã„ã§ã“ã®ã‚µã‚¤ãƒˆã®æœ‰æ–™ä¼šå“¡ã«ãªã‚Šã¾ã—ãŸã€‚</p><p>å•é¡Œã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã¨ã¦ã‚‚è³ªã®é«˜ã„ã‚‚ã®ã§ã—ãŸã€7å•ãšã¤ç¹°ã‚Šè¿”ã—ã¦è¦šãˆã¦ã„ãã‚¹ã‚¿ã‚¤ãƒ«ã®å‹‰å¼·æ³•ã§è¦šãˆã¦ã„ãå½¢ã«ãªã‚Šã¾ã™ã€‚</p><p>æœ€çµ‚çš„ã«æ­£ç­”ç‡ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°30ä½ãã‚‰ã„ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã—ãŸã€‚</p><p>å…ƒã€…750ç‚¹ã®ãƒœãƒ¼ãƒ€ãƒ¼ãƒ©ã‚¤ãƒ³ã«å¯¾ã—680ç‚¹ã¾ã§ã¯å–ã‚Œã¦ã„ãŸã®ã§ã™ãŒã€è©°ã‚ã®ç”˜ã„éƒ¨åˆ†ã‚’ã“ã®ã‚µã‚¤ãƒˆã§è£œã†äº‹ã§åˆæ ¼ã§ãã¾ã—ãŸã€‚æœ€çµ‚çš„ãªã‚¹ã‚³ã‚¢ã¯840ç‚¹ã§ã—ãŸã€‚</p><h1 id="3ã¤ã®æ•™ææ¯”è¼ƒ"><a href="#3ã¤ã®æ•™ææ¯”è¼ƒ" class="headerlink" title="3ã¤ã®æ•™ææ¯”è¼ƒ"></a>3ã¤ã®æ•™ææ¯”è¼ƒ</h1><p>ã„ãšã‚Œã®æ•™æã‚‚è³ªãŒé«˜ãã€ã¨ã«ã‹ãåœ§å€’çš„ãªè©¦é¨“ã®é›£æ˜“åº¦ã«æ•—åŒ—ã™ã‚‹å°è±¡ã§ã—ãŸã€‚</p><p>3ã¤ã®æ•™æã«ãã‚Œãã‚Œã»ã¼å®Œå…¨ã«ä¸€è‡´ã—ã¦ã„ã‚‹å•é¡ŒãŒã„ãã¤ã‹è¼‰ã£ã¦ã„ã¦ã€ãã®ã¾ã¾æœ¬ç•ªã«å‡ºã‚‹ç¨‹åº¦ã«ã¯ä¿¡é ¼ã§ãã‚‹å“è³ªã§ã™ã€‚</p><p>æœ¬å½“ã«100%é ­ã«è©°ã‚ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã„ãšã‚Œã‹ä¸€ã¤ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§åˆæ ¼ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚</p><p>åˆæ ¼ã—ãŸä»ŠæŒ¯ã‚Šè¿”ã‚‹ã¨æ›¸ç±ã¨aws.koiwaclub.comã ã‘ã§è‰¯ã‹ã£ãŸã‹ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚</p><h1 id="ä»Šãªã‚‰è½ã¡ã¦ã‚‚å®‰å¿ƒ"><a href="#ä»Šãªã‚‰è½ã¡ã¦ã‚‚å®‰å¿ƒ" class="headerlink" title="ä»Šãªã‚‰è½ã¡ã¦ã‚‚å®‰å¿ƒ"></a>ä»Šãªã‚‰è½ã¡ã¦ã‚‚å®‰å¿ƒ</h1><p>2021å¹´5æœˆ1æ—¥ã‹ã‚‰2021å¹´7æœˆ31æ—¥ã¾ã§ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®å—é¨“ã§ã€ä¸€å›è½ã¡ã¦ã‚‚ç„¡æ–™ã§å†å—é¨“ã§ãã‚‹ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãŒå®Ÿæ–½ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p>è©³ã—ãã¯<a href="https://pages.awscloud.com/Global_TrainCert_Japan_Online_Proctoringja.html">å…¬å¼ãƒšãƒ¼ã‚¸</a>ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p><p>ã¾ãšæœ¬ã‚’è²·ã£ã¦å—é¨“ã—ã¦ã¿ã¦ã€è½ã¡ãŸã‚‰aws.koiwaclub.comã«ç™»éŒ²ã—ã¦ãƒªãƒ™ãƒ³ã‚¸ã™ã‚‹ã¨ã„ã£ãŸæµã‚Œã§å®‰å¿ƒã—ã¦å—é¨“ã§ãã¾ã™ã€‚ã“ã®æ©Ÿä¼šã«ãœã²ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚</p><p>ãªãŠã‚ªãƒ³ãƒ©ã‚¤ãƒ³å—é¨“ã§ã¯ä¸æ­£å¯¾ç­–ã®ãŸã‚ã€ã‚«ãƒ¡ãƒ©ã§éƒ¨å±‹ã®æ§˜å­ã‚’ä¸€é€šã‚Šè©¦é¨“ç›£ç£ã®æ–¹ã«ç¢ºèªã—ã¦ã„ãŸã ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€å‹•ã‹ã—ã‚„ã™ã„å¤–ä»˜ã‘ã®Webã‚«ãƒ¡ãƒ©ãŒã‚ã‚‹çŠ¶æ…‹ã§ã®å—é¨“ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</p><p>ã‚ã¨éƒ¨å±‹ã‚’ç¶ºéº—ã«ã—ã¦ã‹ã‚‰å—é¨“ã—ã¾ã—ã‚‡ã†(è‡ªæˆ’)ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;TIGã®ä¼Šè—¤çœŸå½¦ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ—¥AWS Certified Solutions Architect - Professionalã‚’å—é¨“ã—åˆæ ¼ã§ãã¾ã—ãŸã€‚&lt;/p&gt;
&lt;p&gt;åˆæ ¼ã¾ã§ã®å­¦ç¿’æ–¹æ³•ã‚’å…±æœ‰ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/20210607a</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="AWS" scheme="https://future-architect.github.io/tags/AWS/"/>
    
    <category term="åˆæ ¼è¨˜" scheme="https://future-architect.github.io/tags/%E5%90%88%E6%A0%BC%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title>ç¶šãƒ»ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼šå·¨å¤§ãªé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦è€ƒãˆã‚‹</title>
    <link href="https://future-architect.github.io/articles/20210604a/"/>
    <id>https://future-architect.github.io/articles/20210604a/</id>
    <published>2021-06-03T15:00:00.000Z</published>
    <updated>2021-06-04T05:08:13.450Z</updated>
    
    <content type="html"><![CDATA[<p>TIGã®DXãƒ¦ãƒ‹ãƒƒãƒˆã®æ¸‹å·ã§ã™ã€‚<a href="https://future-architect.github.io/articles/20210531a/">Serverlessé€£è¼‰2021</a>ã®æœ€å¾Œã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚samå‘¨ã‚Šã¨ã‹Lambdaã®æŒ™å‹•ã«ã¤ã„ã¦ã¯<a href="https://twitter.com/r_rudi">@r_rudi</a>ã•ã‚“ã«è‰²ã€…æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p><p>å·¨å¤§ãªå­¦ç¿’æ¸ˆã¿ã®æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã¨ã‹ã€æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å ´åˆã«ã€ã©ã†ã‚„ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‹ã€ã¨ã„ã†ã®ã¯è‰²ã€…é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚ä»¥å‰ã€ã¡ã‚‡ã³ã£ã¨ã ã‘ã€Œã©ã†ã‚„ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã—ã‚‡ã†ã‹ã­ã€ã¨ã„ã†ã®ã‚’æ‚©ã‚“ã æ™‚æœŸãŒã‚ã£ãŸã®ã§ã™ãŒã€ä»Šå›ã€ã“ã‚“ãªæ–¹å¼ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ã€ã¨ã„ã†ã®ã‚’æ”¹ã‚ã¦èª¿ã¹ã¦ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã¿ã¾ã—ãŸã€‚</p><p>ãã‚Œãã‚Œã®å®¹é‡ã¯2021å¹´6æœˆç¾åœ¨ã®æ•°å€¤ã§ã™ã®ã§ã€æœ€æ–°æƒ…å ±ã¯å„ã€…ãƒªãƒ³ã‚¯å…ˆã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚Azureã¨ã‹Alibaba Cloudã¨ã‹ã¯ä»•äº‹æŸ„æ‰±ã†ãƒãƒ£ãƒ³ã‚¹ãŒä»Šã®ã¨ã“ã‚ãªã„ã®ã§èª¿ã¹ã¦ãªã„ã§ã™ãŒã€ã‚‚ã—èª¿ã¹ãŸæ–¹ã¯ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚</p><table><thead><tr><th align="center">ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ³ãƒ€ãƒ¼</th><th align="center">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ–¹å¼</th><th align="center">ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</th><th align="center">å®¹é‡</th><th align="center">ãƒãƒ³ãƒ‰ãƒ«</th><th align="center">ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹</th><th align="center">ãã®ä»–</th></tr></thead><tbody><tr><td align="center">GCP</td><td align="center">Cloud Run</td><td align="center">ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«ãƒãƒ³ãƒ‰ãƒ«</td><td align="center">5TB(<a href="https://cloud.google.com/storage/quotas">Cloud Storage</a>ã«æº–ãšã‚‹)</td><td align="center">YES</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">GCP</td><td align="center">GKE Knative</td><td align="center">Cloud Storage</td><td align="center">5TB(<a href="https://cloud.google.com/storage/quotas">Cloud Storage</a>å‚ç…§)</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">GCP</td><td align="center">GKE Knative</td><td align="center">Persistent Volume</td><td align="center">16TB-60TB(<a href="https://cloud.google.com/filestore/docs/limits">File Store</a>), 16TB(<a href="https://cloud.google.com/architecture/partners/netapp-cloud-volumes/resource-limits-quotas">Cloud Volumes</a>)</td><td align="center"></td><td align="center">YES</td><td align="center">Auto Pilotã§ã¯ä½¿ãˆãš</td></tr><tr><td align="center">AWS</td><td align="center">Lambda</td><td align="center">æ¨™æº–ãƒ©ãƒ³ã‚¿ã‚¤ãƒ (ãƒ¬ã‚¤ãƒ¤ãƒ¼)</td><td align="center">å±•é–‹å¾Œ250MB</td><td align="center">YES(ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯å¾Œä»˜ã‘å¯)</td><td align="center"></td><td align="center">å°‚ç”¨å®Ÿè£…ãŒå¿…è¦</td></tr><tr><td align="center">AWS</td><td align="center">Lambda</td><td align="center">ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«ãƒãƒ³ãƒ‰ãƒ«</td><td align="center">10GB</td><td align="center">YES</td><td align="center"></td><td align="center">å°‚ç”¨å®Ÿè£…ãŒå¿…è¦</td></tr><tr><td align="center">AWS</td><td align="center">Lambda</td><td align="center">EFS</td><td align="center">48TB(<a href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/limits.html">EFS</a>)</td><td align="center"></td><td align="center">YES</td><td align="center"></td></tr><tr><td align="center">AWS</td><td align="center">App Runner</td><td align="center">ã‚³ãƒ³ãƒ†ãƒŠ</td><td align="center"><a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/service-quotas.html">ECR</a>æ¬¡ç¬¬ï¼Ÿ</td><td align="center"></td><td align="center"></td><td align="center">å®Ÿè¡Œæ™‚é–“åˆ¶é™ãªã©æƒ…å ±ãªã—</td></tr><tr><td align="center">AWS</td><td align="center">Lambda/App Runner</td><td align="center">S3</td><td align="center"><a href="https://docs.aws.amazon.com/general/latest/gr/s3.html#limits_s3">5TB</a></td><td align="center"></td><td align="center"></td><td align="center">5GBä»¥ä¸Šã¯åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ã‚ã‚“ã©ã„</td></tr></tbody></table><p>å¤§ããã¯å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒãƒ³ãƒ‰ãƒ«ã—ã¦ã—ã¾ã†æ–¹å¼ã¨2ã¤ã«ã‚ã‹ã‚Œã¾ã™ã€‚ãƒãƒ³ãƒ‰ãƒ«ã¯ãƒ‡ãƒ¼ã‚¿ã ã‘æ›´æ–°ãŒã§ããªã„ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚Šã¾ã™ãŒã€ãŠæ‰‹è»½ã§ã™ã€‚Lambdaã¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ãˆã°å®Ÿè¡Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å¯¾ã—ã¦å¾Œã‹ã‚‰è¿½åŠ ã¨ã‹ã§ãã¾ã™ãŒã€å®¹é‡åˆ¶é™ãŒå³ã—ã‚ã§ã™ã€‚</p><p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¯æ¯”è¼ƒçš„ãŠæ‰‹è»½ã§ã™ãŒã€èª­ã¿è¾¼ã¿ã—ãŸã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ å‰æã®å ´åˆã¯ä½¿ãˆã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®æ–¹å¼ã«ã‚ˆã£ã¦ã¯ã€ä¸€åº¦ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«æ›¸ãå‡ºã—ã¦ã‹ã‚‰åˆ©ç”¨ã¨ã‹ã‚‚å¯èƒ½ã§ã¯ã‚ã‚Šã¾ã™ãŒã€Cloud Runã§ã¯8GBï¼ˆãŸã ã—ã€ãŠãã‚‰ãtmpfsã§æ›¸ã‘ã°æ›¸ãã»ã©ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»)ã€Lambdaã§ã¯500MBã¨å®¹é‡ã«åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚</p><p>ã‚ˆã‚Šå·¨å¤§ãªå­¦ç¿’æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†å ´åˆã¯ãƒãƒãƒ¼ã‚¸ãƒ‰NFSã‚µãƒ¼ãƒ“ã‚¹ç³»ã®ã‚‚ã®ã‚’ä½¿ã†ã®ãŒæœ€çµ‚å½¢ã§ã—ã‚‡ã†ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚ºåˆ¶é™ã‚‚ã»ã¼é™ç•Œå€¤ã§ã™ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚‹ã®ã§ã©ã‚“ãªãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚Cloud Runå¤§å¥½ããªã®ã§GKEã®Knative + Persistent Volumeã‚’è©¦ãã†ã‹ã¨æ€ã£ãŸã®ã§ã™ãŒã€æœŸå¾…ã®ç°¡æ˜“èµ·å‹•ã®Autopilotã§ã¯Cloud Runç›¸å½“ï¼ˆKnative)ãŒä½¿ãˆãšã€ã„ã‚ã„ã‚é¢å€’ãã†ã€‚ãŒã‚“ã°ã£ã¦è©¦ã—ã¦ã‚‚è‰¯ã‹ã£ãŸã®ã§ã™ãŒã€ã“ã‚“ãªé¢å€’ãªã®ã¯ãã®ã†ã¡ç°¡ç•¥åŒ–ã•ã‚Œã‚‹ã¨æœŸå¾…ã—ã¦ã€å¼·ã„æ„å¿—ã‚’æŒã£ã¦ã‚¹ãƒ«ãƒ¼ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚Dockerã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ãªã¿ã«ç°¡å˜ã«ãªã£ã¦æ¬²ã—ã„ã€‚</p><p>ã¨ã‚Šã‚ãˆãšæ‰‹å…ƒã®ã‚±ãƒ¼ã‚¹ã§ã¯10GBã‚’è¶…ãˆã‚‹ã‚ˆã†ãªã‚‚ã®ã¯ã„ã¾ã®ã¨ã“ã‚ãªã‹ã£ãŸã®ã§ã€ã€€Lambdaã‚³ãƒ³ãƒ†ãƒŠã®10GBåˆ¶é™ã§ååˆ†ãã†ã§ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€æœ¬ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§ã¯ãŠæ‰‹è»½ãªLambdaã®ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="Lambda-ã‚³ãƒ³ãƒ†ãƒŠ"><a href="#Lambda-ã‚³ãƒ³ãƒ†ãƒŠ" class="headerlink" title="Lambda + ã‚³ãƒ³ãƒ†ãƒŠ"></a>Lambda + ã‚³ãƒ³ãƒ†ãƒŠ</h1><p>2020/12/1ã«LambdaãŒã‚³ãƒ³ãƒ†ãƒŠã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã—ãŸã€‚ä»Šã¾ã§ã¯ç‰¹å®šã®è¨€èªãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®ã¿ãŒä¾¿åˆ©ã«åˆ©ç”¨å¯èƒ½ï¼ˆã„ã¡ãŠã†ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚‚ã§ãã‚‹)ã§ã—ãŸã€‚Lambdaã®ã‚³ãƒ³ãƒ†ãƒŠã‚‚ç‰¹å®šã®ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚‚ã—ãã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦åˆ©ç”¨ãªã®ã§ã€è‡ªç”±åº¦ã¨ã„ã†ç‚¹ã§ã¯ä»Šã¾ã§ã¨ãã“ã¾ã§å¤‰ã‚ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€10GBã¾ã§å¯èƒ½ã«ãªã‚Œã°ã§ãã‚‹ã“ã¨ã¯å¤§ããå¢—ãˆã¾ã™ã€‚æ¥½ã—ã¿ã§ã™ã­ã€‚</p><table><thead><tr><th align="center">è¨€èª</th><th align="center">ã‚¤ãƒ¡ãƒ¼ã‚¸</th></tr></thead><tbody><tr><td align="center">Node.js</td><td align="center"><a href="https://gallery.ecr.aws/lambda/nodejs">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-nodejs">DockerHub</a></td></tr><tr><td align="center">Python</td><td align="center"><a href="https://gallery.ecr.aws/lambda/python">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-python">DockerHub</a></td></tr><tr><td align="center">Java</td><td align="center"><a href="https://gallery.ecr.aws/lambda/java">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-java">DockerHub</a></td></tr><tr><td align="center">Go</td><td align="center"><a href="https://gallery.ecr.aws/lambda/go">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-go">DockerHub</a></td></tr><tr><td align="center">.Net</td><td align="center"><a href="https://gallery.ecr.aws/lambda/dotnet">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-dotnet">DockerHub</a></td></tr><tr><td align="center">Ruby</td><td align="center"><a href="https://gallery.ecr.aws/lambda/ruby">ECR</a>, <a href="https://hub.docker.com/r/amazon/aws-lambda-ruby">DockerHub</a></td></tr></tbody></table><p>ã‚³ãƒ³ãƒ†ãƒŠã«ãªã£ãŸã¨ã¯ã„ãˆã€ã‚³ãƒ¼ãƒ‰ã¯Lambdaã®æµå„€ã§ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚GCP Cloud Runã‚„AWS AppRunnerã®ã‚ˆã†ã«ãƒãƒ¼ã‚¿ãƒ–ãƒ«ãªã©ã“ã§ã‚‚å‹•ã‹ã›ã‚‹ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ã®ã‚’æœŸå¾…ã™ã‚‹äººãŒã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒï¼ˆåƒ•ã§ã™ï¼ï¼‰ã€æ®‹å¿µãªãŒã‚‰ãã†ã§ã¯ãªãã€Lambdaç”¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚’å®šç¾©ã—ã¦ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚“ãªå½¢ã§ã™ã€‚è©³ã—ãã¯å½“ãƒ–ãƒ­ã‚°ã®<a href="https://future-architect.github.io/articles/20200326/#Lambda%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%BF%E3%82%A4%E3%83%97">Serverlessé€£è¼‰2: AWS LambdaÃ—Goã®é–‹ç™ºTipsã®Lambdaã®é–¢æ•°ã‚¿ã‚¤ãƒ—</a>ã‚’å‚ç…§ãã ã•ã„ã€‚</p><p>ãƒŸãƒ‹ãƒãƒ ãªã®ã¯ã“ã‚“ãªå½¢ã§ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/events&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handler</span><span class="params">(request events.APIGatewayProxyRequest)</span> <span class="params">(events.APIGatewayProxyResponse, error)</span></span> &#123;</span><br><span class="line">log.Println(request.Path, request.PathParameters, request.Headers, request.HTTPMethod)</span><br><span class="line"><span class="keyword">return</span> events.APIGatewayProxyResponse&#123;Body: <span class="string">`&#123;&quot;hello&quot;: &quot;world&quot;&#125;`</span>, StatusCode: <span class="number">200</span>&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(Handler)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã‚’Dockerfileã§ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã¾ã™ã€‚ã‚ã‚“ã¾ã‚Šæ˜ç¤ºçš„ã«æ›¸ãã“ã¨ã¯ãªã„ã‹ã‚‚ã§ã™ãŒã€M1 Macã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¦GOARCH=amd64ã‚’æ˜ç¤ºã—ã¦ã„ã¾ã™ã€‚æœ€çµ‚çš„ãªpublic.ecr.aws/lambda/goã¯linux/amd64ã—ã‹ãªã„ã®ã§ã™ãŒã€ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã®Goã‚¤ãƒ¡ãƒ¼ã‚¸ã¯è¤‡æ•°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¯¾å¿œãªã®ã§amd64ãƒã‚¤ãƒŠãƒªãŒã§ãã‚‹ã‚ˆã†ã«ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚æ–°ã—ãå…¥ã£ãŸBuildKitã®æ©Ÿèƒ½ã§ã‚ã‚‹<a href="https://docs.docker.com/buildx/working-with-buildx/">buildx</a>ã‚’åˆ©ç”¨ã—ã¦ã€docker buildx â€“platform=linux/amd64ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ã‚‚ã„ã„ã®ã§ã™ãŒã€buildxã§amd64ã«ã™ã‚‹ã‚ˆã‚Šã‚‚ã€â†“ã‚’ä½¿ã£ãŸæ–¹ãŒã¡ã‚‡ã£ã¨å¤§ãã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§10å€ãã‚‰ã„é«˜é€Ÿï¼ˆ200ç§’è¶…ã¨20ç§’)ã ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã®æ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><p>ã‚ã¨ã¯ã€æœ€çµ‚çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’<code>LAMBDA_TASK_ROOT</code>ã¨ã„ã†ç’°å¢ƒå¤‰æ•°ã®å ´æ‰€ã«ç½®ãã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã­ã€‚</p><figure class="highlight dockerfile"><figcaption><span>Dockerfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.16</span>-buster as builder</span><br><span class="line"><span class="keyword">ENV</span> GOPATH=</span><br><span class="line"><span class="keyword">ENV</span> CGO_ENABLED=<span class="number">0</span></span><br><span class="line"><span class="keyword">ENV</span> GOOS=linux</span><br><span class="line"><span class="keyword">ENV</span> GOARCH=amd64</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /work</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> go.mod go.sum ./</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> go mod download</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> . .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> go build -trimpath -o main</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> public.ecr.aws/lambda/go</span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=builder /work/main <span class="variable">$&#123;LAMBDA_TASK_ROOT&#125;</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;main&quot;</span>]</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XGET http://localhost:9000</span><br></pre></td></tr></table></figure><p>ã“ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯Lambdaå°‚ç”¨ãªã®ã§ã€ã„ãã¤ã‹æ±ºã¾ã‚Šäº‹ãŒã‚ã‚Šã¾ã™ã€‚</p><p>Lambdaç”¨ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã«ã„ã¦ã€ãã„ã¤ãŒ8080ãƒãƒ¼ãƒˆã§å‹•ä½œã—ã¦ã„ã¾ã™ã®ã§ã€æ¬¡ã®ã‚ˆã†ã«ãƒãƒ¼ãƒˆã‚’ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t lambda-test .</span><br><span class="line">$ docker run -p 9000:8080 --rm -it lambda-test</span><br></pre></td></tr></table></figure><p>èµ·å‹•ã™ã‚‹ã¨ã€<code>/2015-03-31/functions/function/invocations</code>ã¨ã„ã†ãƒ‘ã‚¹ã«ãƒˆãƒªã‚¬ãƒ¼ã¨ãªã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒç”¨æ„ã•ã‚Œã¾ã™ã€‚2015å¹´3æœˆ31æ—¥ã£ã¦ãªã‚“ã‚„ã­ã‚“ã€ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®ãƒ‘ã‚¹æ±ºã‚ã†ã¡ãªã®ã§ä»•æ–¹ãŒãªã„ã®ã§ã™ã€‚è¿½åŠ ã®ãƒ‘ã‚¹ã‚’æŠ•ã’ã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã€‚è«¦ã‚ã¦ãã ã•ã„ã€‚æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚<code>-d &#39;&#123;&#125;&#39;</code>ã¯å¿…é ˆã§ã™ã€‚å¤–ã™ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XGET http://localhost:9000/2015-03-31/<span class="built_in">functions</span>/<span class="keyword">function</span>/invocations -d <span class="string">&#x27;&#123;&#125;&#x27;</span></span><br><span class="line">&#123;<span class="string">&quot;statusCode&quot;</span>:200,<span class="string">&quot;headers&quot;</span>:null,<span class="string">&quot;multiValueHeaders&quot;</span>:null,<span class="string">&quot;body&quot;</span>:<span class="string">&quot;&#123;\&quot;hello\&quot;: \&quot;world\&quot;&#125;&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>ã“ã‚Œã§ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã‚ˆãƒ¼ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã‚ã‚Šã¾ã™ãŒã€åŠåˆ†æœ¬å½“ã§åŠåˆ†å˜˜ã§ã™ã€‚ã¨ã„ã†ã®ã‚‚ã€å®Ÿéš›ã«ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦èµ·å‹•ã™ã‚‹ã«ã¯ã€€API Gatewayã‚’ãƒˆãƒªã‚¬ãƒ¼ã«è¨­å®šã—ã¦èµ·å‹•ã—ã¾ã™ã€‚ã“ã‚ŒãŒHTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’JSONã«å¤‰æ›ã—ã¦ã‹ã‚‰lambdaã«æ¸¡ã—ã¾ã™ã€‚ã“ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯å¤‰æ›å¾Œã®JSONã‚’æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚æœ¬ç•ªã§æ¬¡ã®ã‚ˆã†ã«ãƒœãƒ‡ã‚£ã¨ã—ã¦JSONã‚’æ¸¡ã—ãŸã„ã¨ã—ã¾ã™ã€‚</p><p>ãƒ‘ã‚¹ãŒå›ºå®šã¨ã„ã†èª¬æ˜ã‚’ã—ã¾ã—ãŸãŒã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ã‚¯ã‚¨ãƒªãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ã‚‚ãƒ€ãƒ¡ã§ã—ãŸã€‚AWSä¸Šã®Lambdaã¯å¤§ä¸ˆå¤«ã§ã™ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://example.com -d &#x27;&#123;&quot;hello&quot;: &quot;world&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure><p>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã¨ãã¯ã€ãƒœãƒ‡ã‚£ã‚’æ–‡å­—åˆ—åŒ–ã—ã€ãã‚Œã‚’bodyã‚­ãƒ¼ã«å…¥ã‚ŒãŸJSONã‚’ä½œã£ã¦æŠ•ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã‚’è‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ã¨è‰¯ã•ãã†ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://example.com -XGET http://localhost:9000/2015-03-31/functions/function/invocations &#x27;&#123;body: &quot;&#123;\&quot;hello\&quot;: \&quot;world\&quot;&#125;&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure><p>samã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã°ã€ã“ã®API GatewayãŒç”Ÿæˆã™ã‚‹JSONã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ä½œã£ã¦ãã‚Œã‚‹ã®ã§ãƒ†ã‚¹ãƒˆã«ä½¿ãˆã¾ã™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sam <span class="built_in">local</span> generate-event apigateway aws-proxy --path hoo/ --body hooo</span><br></pre></td></tr></table></figure><h1 id="æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’Lambdaã‚³ãƒ³ãƒ†ãƒŠã«ã™ã‚‹"><a href="#æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’Lambdaã‚³ãƒ³ãƒ†ãƒŠã«ã™ã‚‹" class="headerlink" title="æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’Lambdaã‚³ãƒ³ãƒ†ãƒŠã«ã™ã‚‹"></a>æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’Lambdaã‚³ãƒ³ãƒ†ãƒŠã«ã™ã‚‹</h1><img src="/images/20210604a/watertower.jpg" alt="wartertower" width="640" height="427" loading="lazy"><p>ã¡ã‚‡ã£ã¨å®Ÿè·µçš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚ä»¥å‰ä½œã£ãŸ<a href="https://future-architect.github.io/articles/20200327/">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç”¨ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³watertower</a>ã‚’æ”¹é€ ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã«å¯¾å¿œã—ã¾ã—ãŸã€‚ä»Šå›ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã¯66kBç¨‹åº¦ã®å°ã•ã„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ãŒã€å¿ƒã®ä¸­ã§ã“ã‚ŒãŒ1ä¸‡å€ã®å¤§ãã•ã ã£ãŸã¨æƒ³å®šã—ã¦ãŠèª­ã¿ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚</p><p><a href="https://github.com/future-architect/watertower">https://github.com/future-architect/watertower</a></p><p>ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç”¨ã¨ã„ã†ã“ã¨ã§ã€<a href="https://gocloud.dev/">GoCloud.dev</a>ã®docstoreã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä½¿ã„ã€DynamoDBãªã©ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç”¨é€”ã§ä¾¿åˆ©ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹å®Ÿè£…ã«ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®docstoreã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã†ã¡ã€memdocstoreã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«èª­ã¿æ›¸ãã—ã¾ã™ã€‚ã—ã‹ã—ã€çµ‚äº†æ™‚ã«å¼·åˆ¶æ›¸ãå‡ºã—ã—ã¦ã—ã¾ã†ã®ã§ã€å°†æ¥çš„ã«NFSã§å…±æœ‰ã™ã‚‹ã¨ãã«ä¸ä¾¿ã«ãªã‚‹æ°—ãŒã—ã¦ã€åˆ¥ã«å®Ÿè£…ã—ã¾ã—ãŸã€‚æ€ã£ãŸã‚ˆã‚Šå¤§æ›ã‹ã‚Šã«ãªã£ã¦ã—ã¾ã£ãŸã®ã§ã€ä»Šã«ã—ã¦æ€ãˆã°docstoreã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µã¨ã—ã¦å®Ÿè£…ã—ãŸæ–¹ãŒã‚ˆã‹ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã—ãŸã€‚ã¾ãŸã€æ™‚é–“ãŒã‚ã‚Œã°Flatbuffersã«ã—ãŸã‹ã£ãŸã§ã™ã­ã€‚å·¨å¤§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã‚‚ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ç®‡æ‰€ã‚’æœ€å°ã«ã§ãã‚Œã°èµ·å‹•æ™‚é–“ã¯çŸ­ããªã‚Šã¾ã™ã‹ã‚‰ã­ã€‚ã“ã“ã¯æœ¬é¡Œã§ã¯ãªã„ã®ã§ã¾ã‚è»½ãã€‚</p><p>ã¾ã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ã«æŒã£ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã®æ¤œç´¢ãªã‚‰<a href="https://github.com/tantivy-search/tantivy">tantivy</a>ä½¿ã†ã®ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚Rustè£½ã§é«˜é€Ÿã‚‰ã—ã„ã§ã™ã€‚æ—¥ä¸­éŸ“ã®ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ã‚‚ä»˜å±ã€‚</p><p>ä»Šå›ã¯é™çš„ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œã‚‹CLIãƒ„ãƒ¼ãƒ«ã‚‚ç”¨æ„ã—ã¾ã—ãŸã€‚ã‚½ãƒ¼ã‚¹ã¯ç‰¹å®šã®ã‚¹ã‚­ãƒ¼ãƒã§æ›¸ã‹ã‚ŒãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã§ã™ã€‚ãã‚ŒãŒãƒ•ã‚©ãƒ«ãƒ€ã«ã¾ã¨ã‚ã¦æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†æƒ³å®šã§ãã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚ã¡ã‚‡ã†ã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ä¸­ã«HTTPã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®è§£èª¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã„ãŸã®ã§ã“ã‚Œã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚</p><p><a href="https://github.com/future-architect/watertower/tree/master/samples/httpstatus/documents">https://github.com/future-architect/watertower/tree/master/samples/httpstatus/documents</a></p><p>Dockerfileã®ä¸­ã§ã¯ã€æ¤œç´¢ç”¨ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ“ãƒ«ãƒ‰ã¨ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆç”¨ã®CLIãƒ„ãƒ¼ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰ã—ã€å¾Œè€…ã®æ–¹ã§ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã¾ã§è¡Œã£ã¦ã„ã¾ã™ã€‚æœ€å¾Œã®ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ¤œç´¢ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒä¸€ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ã„ã¦å®Œæˆã§ã™ã€‚</p><figure class="highlight dockerfile"><figcaption><span>Dockerfile.aws-lambda</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.16</span>-buster as builder</span><br><span class="line"><span class="keyword">ENV</span> GOPATH=</span><br><span class="line"><span class="keyword">ENV</span> CGO_ENABLED=<span class="number">0</span></span><br><span class="line"><span class="keyword">ENV</span> GOOS=linux</span><br><span class="line"><span class="keyword">ENV</span> GOARCH=amd64</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /work</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> go.mod go.sum ./</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> go mod download</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> cmd/watertower-aws-lambda ./cmd/watertower-aws-lambda</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> *.go .</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> nlp nlp</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> webapi webapi</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> cmd/watertower-aws-lambda &amp;&amp; go build -trimpath</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.16</span>-buster as indexer</span><br><span class="line"><span class="keyword">ENV</span> GOPATH=</span><br><span class="line"><span class="keyword">ENV</span> CGO_ENABLED=<span class="number">0</span></span><br><span class="line"><span class="keyword">ENV</span> GOOS=linux</span><br><span class="line"><span class="keyword">ENV</span> GOARCH=amd64</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /work</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> go.mod go.sum ./</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> go mod download</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> cmd/watertower-cli ./cmd/watertower-cli</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> *.go .</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> nlp nlp</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> cmd/watertower-cli &amp;&amp; go build -trimpath</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> samples/httpstatus/documents samples/httpstatus/documents</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> cmd/watertower-cli/watertower-cli create-index samples/httpstatus/documents</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> amazon/aws-lambda-go</span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=builder /work/cmd/watertower-aws-lambda/watertower-aws-lambda <span class="variable">$&#123;LAMBDA_TASK_ROOT&#125;</span></span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=indexer /work/watertower.idx <span class="variable">$&#123;LAMBDA_TASK_ROOT&#125;</span></span></span><br><span class="line"><span class="keyword">ENV</span> DEFAULT_LANGUAGE=en</span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [ <span class="string">&quot;watertower-aws-lambda&quot;</span> ]</span></span><br></pre></td></tr></table></figure><p>æ¤œç´¢ç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯å‰è¿°ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è†¨ã‚‰ã¾ã›ãŸãã‚‰ã„ã§ã€å†—é•·ãªã®ã§çœç•¥ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã¨ã“ã‚ã§ã‚³ãƒ¼ãƒ‰ã¯è¦‹ã‚‰ã‚Œã¾ã™ã€‚</p><p><a href="https://github.com/future-architect/watertower/tree/master/cmd/watertower-aws-lambda">https://github.com/future-architect/watertower/tree/master/cmd/watertower-aws-lambda</a></p><p>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ï¼†å®Ÿè¡Œã—ï¼ˆå‰è¿°ã®ã‚³ãƒãƒ³ãƒ‰ã¨ä¸€ç·’ã§ã™ï¼‰ã€è©¦ã—ã¦ã¿ã¾ã™ã€‚bodyã¨ã„ã†ã‚­ãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å…¥ã‚Œãªã„ã¨ã„ã‘ãªã„ã¨ã“ã‚ã¯è¦æ³¨æ„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XGET http://localhost:9000/2015-03-31/<span class="built_in">functions</span>/<span class="keyword">function</span>/invocations -d <span class="string">&#x27;&#123;&quot;body&quot;: &quot;&#123;\&quot;query\&quot;: \&quot;body\&quot;&#125;&quot;&#125;&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;statusCode&quot;</span>:200,</span><br><span class="line">    <span class="string">&quot;headers&quot;</span>:null,</span><br><span class="line">    <span class="string">&quot;multiValueHeaders&quot;</span>:null,</span><br><span class="line">    <span class="string">&quot;body&quot;</span>: <span class="string">&quot;&#123;\&quot;count\&quot;:1,\&quot;result\&quot;:[&#123;\&quot;unique_key\&quot;:\&quot;200\&quot;,\&quot;lang\&quot;:\&quot;en\&quot;,\&quot;title\&quot;:\&quot;200 OK\&quot;,...</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="AWSã§å‹•ä½œã•ã›ã¦ã¿ã‚‹"><a href="#AWSã§å‹•ä½œã•ã›ã¦ã¿ã‚‹" class="headerlink" title="AWSã§å‹•ä½œã•ã›ã¦ã¿ã‚‹"></a>AWSã§å‹•ä½œã•ã›ã¦ã¿ã‚‹</h1><p>ã¾ãšã¯ECRã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚lambda-testã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã—ãŸã€‚å³ä¸Šã«ã€Œãƒ—ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤ºã€ã¨ã„ã†ä¾¿åˆ©æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œã™ã‚Œã°ãŠã—ã¾ã„ã§ã™ã€‚ç°¡å˜ã§ã™ã­ã€‚aws configureã§èªè¨¼ã ã‘ã¯ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><img src="/images/20210604a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-06-03_11.17.jpg" alt="ãƒ—ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰" width="1200" height="1010" loading="lazy"><p>æ¬¡ã«Lambdaã‚’ä½œæˆã—ã¾ã™ã€‚æœ€åˆã®ä½œæˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€Œã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã‚’é¸æŠã—ã€ãã®å¾Œã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸URIã§ã¯å…ˆã»ã©ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’é¸æŠã—ã¾ã™ã€‚ç¾åœ¨ã¯åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®é¸æŠã¯ã§ããªã„ãã†ã§ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã¨æœ¬ç•ªã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆ†ã‘ã¦ã„ã‚‹å ´åˆã«ã¯ä¸¡æ–¹ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚</p><img src="/images/20210604a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-06-04_1.17.jpg" alt="Lambdaä½œæˆ" width="1200" height="830" loading="lazy"><p>æ¬¡ã«ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦API Gatewayã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><img src="/images/20210604a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-06-03_23.27.jpg" alt="API Gatewayè¿½åŠ " width="1200" height="801" loading="lazy"><p>API Gatewayã®ã¨ã“ã‚ã«URLãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚æœ¬ç•ªç’°å¢ƒç”¨ã«ã‚¯ã‚¨ãƒªãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ã¦æ¤œç´¢ã‚­ãƒ¼ã¨ã—ã¦ä½¿ã†æ§˜ã«å®Ÿè£…ã—ãŸã®ã§ã€ã‚¯ã‚¨ãƒªãƒ¼ã‚’ä»˜ä¸ã—ã¾ã™ã€‚ç„¡äº‹ä¸€ä»¶ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒãƒãƒƒãƒã—ã¦å¸°ã£ã¦ãã¾ã—ãŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XGET <span class="string">&quot;https://xxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/default/docker-test?query=body&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;count&quot;</span>:1,</span><br><span class="line">  <span class="string">&quot;result&quot;</span>:[</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;unique_key&quot;</span>:<span class="string">&quot;200&quot;</span>,<span class="string">&quot;lang&quot;</span>:<span class="string">&quot;en&quot;</span>,<span class="string">&quot;title&quot;</span>:<span class="string">&quot;200 OK&quot;</span>,<span class="string">&quot;updated_at&quot;</span>:<span class="string">&quot;0001-01-01T00:00:00Z&quot;</span>,<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;200&quot;</span>],</span><br><span class="line">      <span class="string">&quot;content&quot;</span>:<span class="string">&quot;The request has succeeded. The meaning of the success depends...</span></span><br></pre></td></tr></table></figure><h1 id="App-Runnerã¯ã©ã†ã‹ï¼Ÿ"><a href="#App-Runnerã¯ã©ã†ã‹ï¼Ÿ" class="headerlink" title="App Runnerã¯ã©ã†ã‹ï¼Ÿ"></a>App Runnerã¯ã©ã†ã‹ï¼Ÿ</h1><p>Cloud Runã®AWSç‰ˆã¨ã„ã†æ„Ÿã˜ã‚’ã²ã—ã²ã—ã¨æ„Ÿã˜ã‚‹ã®ãŒApp Runnerã§ã™ã€‚Google I/Oç›´å‰ã¨ã„ã†ç™ºè¡¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚‚å«ã‚ã¦ã€ç‹è€…ã«ã®ã¿è¨±ã•ã‚Œã‚‹ãƒŸãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆãƒ©ãƒ³ãƒã‚§ã‚¹ã‚¿ãƒ¼æˆ¦ç•¥ï¼‰ãã®ã‚‚ã®ã§ã™ã­ã€‚PORTç’°å¢ƒå¤‰æ•°ã‚’æ¸¡ã™ã‹ã‚‰ã“ã®ãƒãƒ¼ãƒˆã‚’é–‹ã„ã¦ã­ã€ã¨ã„ã†ã¨ã“ã‚ã¾ã§ãã£ãã‚Šã§ã™ã€‚ãŸã ã—ã€ã¾ã å…¬é–‹ã•ã‚ŒãŸç›´å¾Œã§ã€å®Ÿè¡Œæ™‚é–“åˆ¶é™ã‚„SLAãªã©ã¯æƒ…å ±ãŒæ²è¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p><p>Lambdaã‚³ãƒ³ãƒ†ãƒŠã‚’ä»Šå›ä½œã£ã¦ã¿ã¦ã€ã‚„ã¯ã‚Šãƒãƒ³ãƒ‰ãƒ©ã‚’å°‚ç”¨ã«ä½œã‚‰ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã‹ã€ãƒ­ãƒ¼ã‚«ãƒ«ã¨æœ¬ç•ªã®AWSã§å‹•ä½œãŒé•ã†ã®ã§ãã®å¸åã¨ã‹ã€ã‚„ãŸã‚‰é¢å€’ã§ã—ãŸã€‚App RunnerãŒãã‚Œã‚’è§£æ±ºã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚‚ã‚¯ãƒ©ã‚¦ãƒ‰ã§ã‚‚åŒã˜ã‚ˆã†ã«å‹•ã„ã¦ãã‚Œã‚‹ã®ãŒå®Ÿç¾ã•ã‚ŒãŸã‚‰è‰¯ã„ãªã€ã¨æ€ã„ã¾ã™ã€‚</p><p>ä»Šå¾Œã©ã†ãªã£ã¦ã„ãã‹ã¯ã¾ã ã‚ã‹ã‚Šã¾ã›ã‚“ãŒãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ãŒã‚ã‚Šã¾ã™ã®ã§ã€æ¬²ã—ã„æ©Ÿèƒ½ã¨ã‹ã¯ã¼ã¡ã¼ã¡æ›¸ã„ã¦ã¿ã‚‹ã¨è‰¯ã„ã‚ˆã†ã§ã™ã€‚ã€ŒLambdaã¨ã‹åä¹—ã£ã¦ã„ã‚‹ã®ã«common-lispã¨ã‹ã®ã‚µãƒãƒ¼ãƒˆè–„ã„ã®ãŒè¨±ã›ãªã„ã€ã¨ã„ã†ã®ã‚‚ã€ä¸­ã®äººçš„ã«ã¯ã€Œè¦æœ›ãŒã‚ã‚Œã°ãƒ»ãƒ»ãƒ»ã€ã¨ã„ã†å™‚ã‚’èãã¾ã—ãŸã€‚ã©ã—ã©ã—è¦æœ›ã‚’ä¸Šã’ã‚‹ã¨è‰¯ã„ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p><a href="https://github.com/aws/apprunner-roadmap/issues">https://github.com/aws/apprunner-roadmap/issues</a></p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§å·¨å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†æ–¹æ³•ã«ã¤ã„ã¦è€ƒå¯Ÿã—ã¾ã—ãŸã€‚å®Ÿéš›ã«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’æ¤œè¨ã™ã‚‹ã¨ãã¯ã€ãƒ‡ãƒ¼ã‚¿ã®å®¹é‡ã ã‘ã§ã¯ãªãã€èª­ã¿è¾¼ã¿ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®é€Ÿåº¦ã€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆå‘ä¸Šã®ãŸã‚ã®è¿½åŠ èª²é‡‘ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å ´æ‰€ï¼ˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ã‚¾ãƒ¼ãƒ³ã”ã¨ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹/ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–“è»¢é€æ–™é‡‘ç™ºç”Ÿã®æœ‰ç„¡ï¼‰ãªã©ã€ã•ã¾ã–ã¾ãªè¦ä»¶ã‚’æ¤œè¨ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã¯ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«é »ç¹ã«è¡Œã‚ã‚Œã‚‹ã‹ã©ã†ã‹ã€ã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><p>ä»Šå›ã®ã‚±ãƒ¼ã‚¹ã¯ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°ã®é »åº¦ãŒå°‘ãªãã€å®¹é‡ãŒæ¯”è¼ƒçš„å°ã•ã„ãƒ†ã‚­ã‚¹ãƒˆã®å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ï¼ˆã¨ã„ã†ã‹æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰ã¨ã„ã†æ¡ä»¶ã«ãŠã„ã¦ã¯æœ€é©ã ã¨ã¯æ€ã„ã¾ã™ãŒã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‹•çš„ã«è¿½åŠ ã—ã¦ã„ãã‚ˆã†ãªå ´åˆã¯å‘ãã¾ã›ã‚“ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç‰¹æ€§ã«ã‚ˆã£ã¦æœ€é©è§£ã¯å¤‰ã‚ã£ã¦ãã¾ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã¨ã—ã¦ã®è…•ã®è¦‹ã›æ‰€ã§ã—ã‚‡ã†ã€‚</p><p>NFSåˆ©ç”¨ã®ã‚±ãƒ¼ã‚¹ã¯ã€ã‚‚ã£ã¨ã‚‚ã£ã¨ç°¡å˜ã«ãªã£ã¦æ¬²ã—ã„ã§ã™ã­ã€‚Dockerã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆãã‚‰ã„ã®æ°—è»½ã•ã§ã€èª­ã¿è¾¼ã¿å°‚ç”¨ã¨èª­ã¿æ›¸ãä¸¡ç”¨ãŒæ°—è»½ã«é¸ã¹ã¦ãƒ»ãƒ»ãƒ»ã¨ãªã£ãŸã‚‰ç´ æ•µã ãªã¨æ€ã„ã¾ã™ã€‚</p><p>ãªãŠã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ†ã‚¹ãƒˆãŒã—ã«ãã„ç‚¹ã¯è¦æ³¨æ„ã§ã™ã€‚æœ€åˆã¯swaggerã‚’ç”¨æ„ã—ã¦ã‚ã£ãŸå®Ÿè£…æ¸ˆã¿ã®ã‚µãƒ¼ãƒãƒ¼ç‰ˆã‚’å‹•ã‹ã›ã°ã„ã„ã‚„ã€ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆã—ãŸã‚‰å‹•ã‹ãšã€æœ€çµ‚çš„ã«Lambdaã‚³ãƒ³ãƒ†ãƒŠç”¨ã«åˆ¥ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã—ãŸã€‚ã‚¯ã‚¨ãƒªãƒ¼ã¨ã‹ãƒœãƒ‡ã‚£ã¯ãªã‚“ã¨ã‹ãªã‚Šãã†ã§ã™ãŒã€ãƒ‘ã‚¹ã‚’å¤‰æ›´ã§ããªã„ã®ã¯ã‹ãªã‚Šå³ã—ã„ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã€ã•ã£ã•ã¨ä»•ä¸Šã’ã‚ˆã†ã¨æ€ã£ãŸã®ã§ã™ãŒã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³è‡ªä½“ã®æ”¹é€ ã«1é€±é–“ã€Lambdaã®ãƒ­ãƒ¼ã‚«ãƒ«ã¨ã®äº’æ›æ€§ã®èª¿æŸ»ã ã‘ã§3æ—¥ãã‚‰ã„æº¶ã‘ãŸæ°—ãŒã—ã¾ã™ã€‚</p><p>ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã«å¯¾å¿œã—ãŸã“ã¨ã§ã€åˆ©ç”¨ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ250MBã‹ã‚‰10GBã¨ã€LambdaãŒã§ãã‚‹ã“ã¨ã¯å¢—ãˆã¾ã—ãŸã€‚ã§ã™ãŒã€ä»Šå¾Œã€App Runnerã®æ”¹å–„ã‚„ã€ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒãƒ¼ãƒˆãŒå……å®Ÿã—ãŸã‚‰ã•ã‚‰ã«ã„ã„ãªã€ã¨ã„ã†ã®ãŒæ„Ÿæƒ³ã§ã™ã­ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><a href="https://future-architect.github.io/articles/20200327/">Goã§ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç”¨ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³watertowerã‚’ä½œã£ã¦ã¿ã¾ã—ãŸ</a></li><li><a href="https://future-architect.github.io/articles/20210318/">GKE Autopilotã‚’è§¦ã£ã¦ã¿ãŸ</a></li><li><a href="https://qiita.com/shibukawa/items/878c5fe8ec09935fccd2">æœ€é€Ÿã¨ã„ã†å™‚ã®Flatbuffersã®é€Ÿåº¦ã®ãƒ’ãƒŸãƒ„ã¨ã€å°å…¥æ–¹æ³•ã®ç´¹ä»‹(Go)</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;TIGã®DXãƒ¦ãƒ‹ãƒƒãƒˆã®æ¸‹å·ã§ã™ã€‚&lt;a href=&quot;https://future-architect.github.io/articles/20210531a/&quot;&gt;Serverlessé€£è¼‰2021&lt;/a&gt;ã®æœ€å¾Œã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚samå‘¨ã‚Šã¨ã‹Lambdaã®æŒ™å‹•ã«ã¤ã„ã¦ã¯&lt;a </summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Docker" scheme="https://future-architect.github.io/tags/Docker/"/>
    
    <category term="Serverless" scheme="https://future-architect.github.io/tags/Serverless/"/>
    
    <category term="MLOps" scheme="https://future-architect.github.io/tags/MLOps/"/>
    
  </entry>
  
  <entry>
    <title>é™çš„è§£æã«ã‚ˆã‚‹InvalidãªAWS Lambdaé–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã®æ¤œçŸ¥</title>
    <link href="https://future-architect.github.io/articles/20210603a/"/>
    <id>https://future-architect.github.io/articles/20210603a/</id>
    <published>2021-06-02T15:00:00.000Z</published>
    <updated>2021-06-03T02:02:47.567Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20210603a/business-4576778_640.jpg" alt="640" width="412" height=""><p>TIGã®è¾» (<a href="https://twitter.com/d_tutuz">@d_tutuz</a>)ã§ã™ã€‚</p><p>æœ¬è¨˜äº‹ã§ã¯<a href="https://aws.amazon.com/jp/lambda/">AWS Lambda</a>ã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå®‰å…¨ã«AWS Lambdaã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p><h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>æ—©é€Ÿã§ã™ãŒAWS Lambdaã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Goã®<a href="https://github.com/aws/aws-lambda-go/tree/v1.23.0">SDK</a>ã‚’ç”¨ã„ã¦é–‹ç™ºã™ã‚‹ã¨ãã«ã€é–¢æ•°ã®ãƒãƒ³ãƒ‰ãƒ©ã¯ä»¥ä¸‹ã®ã‚·ã‚°ãƒãƒãƒ£ã§ãªãã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(TIn)</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span> <span class="params">(TOut, error)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context)</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context, TIn)</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context)</span> <span class="params">(TOut, error)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context, TIn)</span> <span class="params">(TOut, error)</span></span></span><br></pre></td></tr></table></figure><p>é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã¯ <a href="https://pkg.go.dev/github.com/aws/aws-lambda-go@v1.23.0/lambda#Start"><code>lambda.Start</code></a> ã‚„ <a href="https://pkg.go.dev/github.com/aws/aws-lambda-go@v1.23.0/lambda#StartHandlerWithContext"><code>lambda.StartWithContext</code></a> ã®å¼•æ•°ã¨ã—ã¦é–¢æ•°ãƒãƒ³ãƒ‰ãƒ©ã‚’æ¸¡ã™ã“ã¨ã§ã€é–‹ç™ºè€…ãŒå®Ÿè£…ã—ãŸé–¢æ•°ãƒãƒ³ãƒ‰ãƒ©ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p><p>ä»¥ä¸‹ã¯AWS Lambdaã‚’Goã§å®Ÿè£…ã™ã‚‹ã¨ãã® <code>main</code> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å®Ÿè£…ä¾‹ã§ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(Handle)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handle</span><span class="params">(ctx context.Context)</span> <span class="title">error</span></span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ã‚¸ãƒƒã‚¯ãªã©</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="interface-å‹ã§ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©"><a href="#interface-å‹ã§ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©" class="headerlink" title="interface{} å‹ã§ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©"></a><code>interface&#123;&#125;</code> å‹ã§ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©</h3><p>ã¨ã“ã‚ã§ <code>lambda.Start</code> é–¢æ•°ã®å¼•æ•°ã§ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã¯ <code>interface&#123;&#125;</code> å‹ <sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup> ã§ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Start</span><span class="params">(handler <span class="keyword">interface</span>&#123;&#125;)</span></span></span><br></pre></td></tr></table></figure><p><code>interface&#123;&#125;</code> å‹ã¨ã—ã¦æ‰±ã†ãŸã‚ã€ä»¥ä¸‹ã® <code>HandleInvalid</code> ã®ã‚ˆã†ã«ãƒãƒ³ãƒ‰ãƒ©ã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ãŒã€ã†ã£ã‹ã‚Šæœ‰åŠ¹ã§ãªã„ã‚·ã‚°ãƒãƒãƒ£ã«ãªã£ã¦ã„ãŸã¨ã—ã¦ã‚‚ãƒ“ãƒ«ãƒ‰è‡ªä½“ã¯æˆåŠŸã—ã¾ã™ã€‚æœ‰åŠ¹ã§ãªã„é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’å¼•æ•°ã«æ¸¡ã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ã©ã†ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(HandleInvalid)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âš ï¸æˆ»ã‚Šå€¤ãŒ int ã§ã‚ã‚‹ã®ã¯ç„¡åŠ¹ãªã‚·ã‚°ãƒãƒãƒ£âš ï¸</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleInvalid</span><span class="params">(ctx context.Context)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­”ãˆã¯ â€œå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼â€ ã«ãªã‚Šã¾ã™ã€‚AWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p><p><img src="/images/20210603a/image.png"></p><h2 id="é™çš„è§£æã«ã‚ˆã‚‹é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ãƒã‚§ãƒƒã‚¯"><a href="#é™çš„è§£æã«ã‚ˆã‚‹é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ãƒã‚§ãƒƒã‚¯" class="headerlink" title="é™çš„è§£æã«ã‚ˆã‚‹é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ãƒã‚§ãƒƒã‚¯"></a>é™çš„è§£æã«ã‚ˆã‚‹é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ãƒã‚§ãƒƒã‚¯</h2><p>ã§ãã‚‹ã“ã¨ãªã‚‰ã€æœ‰åŠ¹ã§ãªã„é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’æ—©ã„æ®µéšã§æ¤œçŸ¥ã—ã¦ã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢ã—ãŸã„ã§ã™ã‚ˆã­ã€‚</p><p>ã€Œé™çš„è§£æã€ã¨ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã›ãšã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã™ã‚‹ã“ã¨ã§ã™ã€‚Goã¯é™çš„è§£æã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå……å®Ÿã—ã¦ãŠã‚Šã€é™çš„è§£æã§ã‚³ãƒ¼ãƒ‰ã‚’æ¤œæŸ»ã—ã¦ã€ä¸å…·åˆã«ã¤ãªãŒã‚Šãã†ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ¤œçŸ¥ã™ã‚‹ã“ã¨ã¯ä¸€èˆ¬çš„ã§ã™ã€‚Goè¨€èªè‡ªä½“ã«å‚™ã‚ã£ã¦ã„ã‚‹ <code>go vet</code> ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ã— <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã«ã‚ˆã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã¨Goã®å…¸å‹çš„ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ãƒŸã‚¹ã‚’æ¤œçŸ¥ã™ã‚‹ <a href="https://github.com/kisielk/errcheck"><code>errcheck</code></a> ã‚„é™çš„è§£æã®ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã§ã‚ã‚‹ <a href="https://staticcheck.io/"><code>staticcheck</code></a> ãªã©ãŒã‚ã‚Šã¾ã™ã€‚</p><h3 id="unmarshal-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹é™çš„è§£æ"><a href="#unmarshal-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹é™çš„è§£æ" class="headerlink" title="unmarshal ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹é™çš„è§£æ"></a><code>unmarshal</code> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹é™çš„è§£æ</h3><p>é™çš„è§£æã®ä¾‹ã¨ã—ã¦ <code>go vet</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦JSONã‚’Goã®å‹ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã¨ãã®å®Ÿè£…ãƒŸã‚¹ã‚’é™çš„è§£æã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚Goå…¬å¼ã®ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ <code>go vet</code> ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã‚‹ <code>unmarshal</code> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦æ¤œçŸ¥ã§ãã¾ã™ã€‚<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> Goã§JSONã‚’å‹ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã¨ãã¯ <code>json.Unmarshal</code> (ã‚ã‚‹ã„ã¯ <code>(Decoder).Decode</code>)ã‚’ä½¿ã„ã¾ã™ã€‚<code>json.Unmarshal</code> ã«æ¸¡ã™ç¬¬2å¼•æ•°ã¯ãƒã‚¤ãƒ³ã‚¿ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãƒã‚¤ãƒ³ã‚¿ã«ãªã£ã¦ã„ãªã„å ´åˆã« <code>go vet</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨ã€ãƒã‚¤ãƒ³ã‚¿ã«ãªã£ã¦ã„ãªã„ã“ã¨ã‚’æ¤œçŸ¥ã§ãã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> jsonStr = <span class="string">`&#123;&quot;name&quot;:&quot;gopher&quot;&#125;`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> u User</span><br><span class="line"><span class="comment">// u ã¯ãƒã‚¤ãƒ³ã‚¿å‹ &amp;u ã¨ã—ã¦æ¸¡ã™å¿…è¦ãŒã‚ã‚‹ï¼</span></span><br><span class="line"><span class="keyword">if</span> err := json.Unmarshal([]<span class="keyword">byte</span>(jsonStr), u); err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Fatal(err)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã®ã¨ã <code>$ go vet ./...</code> ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ç¬¬2å¼•æ•°ãŒãƒã‚¤ãƒ³ã‚¿ã§ã¯ãªã„ã“ã¨ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\main.go:17:26: call of Unmarshal passes non-pointer as second argument</span><br></pre></td></tr></table></figure><p>ã“ã®ã‚ˆã†ã«é™çš„è§£æã‚’è¡Œã†ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã›ãšã«ä¸å…·åˆã«ã¤ãªãŒã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ—©æœŸã«æ¤œçŸ¥ã§ãã€å“è³ªå‘ä¸Šã«å¯„ä¸ã—ã¾ã™ã€‚</p><h3 id="è‡ªä½œãƒ„ãƒ¼ãƒ«ã§AWS-Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æ"><a href="#è‡ªä½œãƒ„ãƒ¼ãƒ«ã§AWS-Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æ" class="headerlink" title="è‡ªä½œãƒ„ãƒ¼ãƒ«ã§AWS Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æ"></a>è‡ªä½œãƒ„ãƒ¼ãƒ«ã§AWS Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æ</h3><p>JSONã®ãƒãƒƒãƒ”ãƒ³ã‚°ã®å®Ÿè£…ãƒŸã‚¹ã‚’é™çš„è§£æã§æ¤œçŸ¥ã—ãŸè¦é ˜ã§ã€AWS Lambdaã«ãŠã‘ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚‚é™çš„è§£æã‚’è¡Œã„ã€æœ‰åŠ¹ã§ãªã„é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’æ¤œçŸ¥ã™ã‚‹ã“ã¨ã‚’è©¦ã¿ã¾ã™ã€‚ç­†è€…ãŒèª¿ã¹ãŸã¨ã“ã‚ã€æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯ãªã‹ã£ãŸãŸã‚è‡ªä½œã—ã¾ã—ãŸã€‚</p><ul><li>é™çš„è§£æãƒ„ãƒ¼ãƒ«ã®è‡ªä½œ</li></ul><p><a href="https://github.com/gostaticanalysis/skeleton"><code>gostaticanalysis/skeleton</code></a> ã‚’ä½¿ã†ã“ã¨ã§é™çš„è§£æã®é››å½¢ã‚’ç”Ÿæˆã§ãã€ä¾¿åˆ©ã«é™çš„è§£æãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šå§‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸ <a href="https://pkg.go.dev/golang.org/x/tools/go/analysis"><code>golang.org/x/tools/go/analysis</code></a> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªã©ã‚’ç”¨ã„ã¦ã€æ§‹æ–‡è§£æã®è§£æçµæœã§ã‚ã‚‹æŠ½è±¡æ§‹æ–‡æœ¨ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å‹ã®æƒ…å ±ãªã©ã€é™çš„è§£æã«å¿…è¦ãªæƒ…å ±ã‚’æ‰±ã†ã“ã¨ãŒã§ãã€é™çš„è§£æã—ãŸã„ç‹¬è‡ªã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p><p>è‡ªä½œã—ãŸAWS Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æãƒ„ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã§ã™ã€‚</p><a href="https://github.com/d-tsuji/awslambdahandler"><img src="https://github-link-card.s3.ap-northeast-1.amazonaws.com/d-tsuji/awslambdahandler.png" width="460px"></a><p><code>d-tsuji/awslambdahandler</code> ã‚’ä½¿ã†ã¨ <code>Start</code> ã‚„ <code>StartWithContext</code> ã®å¼•æ•°ã«æ¸¡ã™é–¢æ•°ã®ã‚·ã‚°ãƒãƒãƒ£ãŒæ­£ã—ããªã„ã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¦‹ã—ã¦ãã‚Œã¾ã™ã€‚</p><p>å†’é ­ã«ç´¹ä»‹ã—ãŸã€AWS LambdaãŒå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦ã€<code>awslambdahandler</code> ã§é™çš„è§£æã‚’ã—ã¦ã¿ã¾ã™ã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(HandleInvalid)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âš ï¸æˆ»ã‚Šå€¤ãŒ int ã§ã‚ã‚‹ã®ã¯ç„¡åŠ¹ãªã‚·ã‚°ãƒãƒãƒ£âš ï¸</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleInvalid</span><span class="params">(ctx context.Context)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é™çš„è§£æã®å®Ÿæ–½</li></ul><p><code>awslambdahandler</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æœ‰åŠ¹ã§ãªã„é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã¨ã—ã¦æ¤œçŸ¥ã§ãã¾ã™ã€‚AWS Lambdaã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦å®Ÿè¡Œã›ãšã¨ã‚‚ã€å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æã§æ¤œçŸ¥ã§ãã¾ã—ãŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ go vet -vettool=`<span class="built_in">which</span> awslambdahandler` main.go</span><br><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line">./main.go:10:14: lambda handler of <span class="string">&quot;HandleInvalid&quot;</span> is invalid lambda signature, see https://pkg.go.dev/github.com/aws/aws-lambda-go/lambda<span class="comment">#Start</span></span><br></pre></td></tr></table></figure><ul><li><code>awslambdahandler</code> ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</li></ul><p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go install github.com/d-tsuji/awslambdahandler/cmd/awslambdahandler@latest</span><br></pre></td></tr></table></figure><p>ãªã©ã¨ã—ã¦ç°¡å˜ã«ã§ãã¾ã™ã€‚CIç’°å¢ƒã«çµ„ã¿è¾¼ã‚ã°ã€æ—¥ã€…ã®ãƒãƒ¼ãƒ é–‹ç™ºã§ã‚ˆã‚Šå®‰å…¨ã«AWS Lambdaã‚’å®Ÿè£…ã§ãã¾ã™ã€‚ãœã²ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚</p><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>é™çš„è§£æã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã§ãƒã‚°ã«ã¤ãªãŒã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ—©ã„æ®µéšã§æ¤œçŸ¥ã§ãã¾ã™ã€‚<a href="https://github.com/gostaticanalysis/skeleton"><code>gostaticanalysis/skeleton</code></a> ã‚„ <a href="https://pkg.go.dev/golang.org/x/tools/go/analysis"><code>golang.org/x/tools/go/analysis</code></a> ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ä¾¿åˆ©ã«é™çš„è§£æãƒ„ãƒ¼ãƒ«ã‚’è‡ªä½œã§ãã¾ã™ã€‚<code>awslambdahandler</code> ã‚’ç”¨ã„ã‚‹ã“ã¨ã§AWS Lambdaã®é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’é™çš„è§£æã§ãã€ã‚ˆã‚Šå®‰å…¨ã«AWS Lambdaã‚’å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;"><code>go vet</code> ã‚³ãƒãƒ³ãƒ‰ã‚’çŸ¥ã‚‰ãªã‹ã£ãŸã¨ã„ã†æ–¹ã‚‚ã€å®Ÿã¯ <code>go test</code> ã®ã¨ãã« <code>go vet</code> ã«å«ã¾ã‚Œã‚‹ä¸€éƒ¨ã®é™çš„è§£æãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã¾ã™ã€‚<a href="https://golang.org/pkg/cmd/go/internal/test/">https://golang.org/pkg/cmd/go/internal/test/</a></span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="vertical-align: top; padding-right: 10px;">2.</span><span style="vertical-align: top;"><a href="https://golang.org/cmd/vet/">https://golang.org/cmd/vet/</a> ã«å«ã¾ã‚Œã¦ã„ã‚‹ <code>unmarshal</code> ã§ã™ã€‚</span><a href="#fnref:2" rev="footnote"> â†©</a></li><li id="fn:3"><span style="vertical-align: top; padding-right: 10px;">3.</span><span style="vertical-align: top;">Go1.18ã‹ã‚‰å°å…¥äºˆå®šã®<a href="https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md">å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸã‚¸ã‚§ãƒãƒªã‚¯ã‚¹</a>ãŒæµ¸é€ã™ã‚Œã°ã€ä»Šå¾Œå¼•æ•°ã®å‹ã®æ‰±ã„ã¯å¤‰ã‚ã£ã¦ã„ãå¯èƒ½æ€§ã¯ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚</span><a href="#fnref:3" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/20210603a/business-4576778_640.jpg&quot; alt=&quot;640&quot; width=&quot;412&quot; height=&quot;&quot;&gt;

&lt;p&gt;TIGã®è¾» (&lt;a href=&quot;https://twitter.com/d_tutuz&quot;&gt;@d_t</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Lambda" scheme="https://future-architect.github.io/tags/Lambda/"/>
    
    <category term="Linter" scheme="https://future-architect.github.io/tags/Linter/"/>
    
  </entry>
  
  <entry>
    <title>AWS Lambdaã«ãŠã‘ã‚‹Go Contextã®å–ã‚Šæ‰±ã„</title>
    <link href="https://future-architect.github.io/articles/20210602a/"/>
    <id>https://future-architect.github.io/articles/20210602a/</id>
    <published>2021-06-01T15:00:00.000Z</published>
    <updated>2021-06-04T01:12:06.351Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/articles/20210531a/">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é€£è¼‰</a>ã®3è¨˜äº‹ç›®ã§ã™</p><p>TIGã®ä¼Šè—¤çœŸå½¦ã§ã™ã€‚</p><p>Goã§Lambdaã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã«ã‚ãŸã‚Šã€<a href="https://github.com/aws/aws-lambda-go">aws-lambda-go</a>ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚<br>ãã®éš›ã®tipsç´¹ä»‹è¨˜äº‹ã§ã™ã€‚</p><h1 id="AWS-Lambdaã«ãŠã‘ã‚‹Go-Contextã®å–ã‚Šæ‰±ã„"><a href="#AWS-Lambdaã«ãŠã‘ã‚‹Go-Contextã®å–ã‚Šæ‰±ã„" class="headerlink" title="AWS Lambdaã«ãŠã‘ã‚‹Go Contextã®å–ã‚Šæ‰±ã„"></a>AWS Lambdaã«ãŠã‘ã‚‹Go Contextã®å–ã‚Šæ‰±ã„</h1><img src="/images/20210602a/lambda-39473.png" alt="" width="300" height="310" loading="lazy"><p><a href="https://pixabay.com/ja/users/clker-free-vector-images-3736/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=39473">Clker-Free-Vector-Images</a>ã«ã‚ˆã‚‹<a href="https://pixabay.com/ja/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=39473">Pixabay</a>ã‹ã‚‰ã®ç”»åƒ</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">()</span> <span class="params">(<span class="keyword">string</span>, error)</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Hello Æ›!&quot;</span>, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// Make the handler available for Remote Procedure Call by AWS Lambda</span></span><br><span class="line">lambda.Start(hello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/aws/aws-lambda-go">aws-lambda-go</a>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®READMEã«è¨˜è¼‰ã®é€šã‚Šã€importã—ã¦åˆ©ç”¨å¯èƒ½ã«ãªã£ãŸ<code>aws-lambda-go/lambda</code>ã®<code>Start</code>é–¢æ•°ã®å¼•æ•°ã«ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¼‰ã—ãŸé–¢æ•°ã‚’æ¸¡ã™å½¢ã§ã€<br>å®Ÿè¡Œã™ã‚‹ãŸã‚ã®åœŸå°ã¨ã—ã¦ã®ã‚¢ãƒ¬ã‚³ãƒ¬ã‚’æŠ½è±¡åŒ–ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã«æ³¨åŠ›ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><p><code>lambda.Start(func)</code>ã«æ¸¡ã›ã‚‹å¼•æ•°<code>func</code>ã¯<code>interface</code>å‹ã«ãªã£ã¦ãŠã‚Šã€ä¸‹è¨˜ã®è¤‡æ•°ç¨®é¡ã®å½¢å¼ã®é–¢æ•°ã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(TIn)</span>, <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span> <span class="params">(TOut, error)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context)</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context, TIn)</span> <span class="title">error</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context)</span> <span class="params">(TOut, error)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(context.Context, TIn)</span> <span class="params">(TOut, error)</span></span></span><br></pre></td></tr></table></figure><p>å¼•æ•°ã¨ã—ã¦<code>context.Context</code>å‹ã‚’å—ã‘å–ã‚‹ã‚·ã‚°ãƒãƒãƒ£ã®é–¢æ•°ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€å¾Œç¶šå‡¦ç†ã§contextã‚’å—ã‘å–ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><h2 id="LambdaContextå‹ã‚’åˆ©ç”¨ã™ã‚‹"><a href="#LambdaContextå‹ã‚’åˆ©ç”¨ã™ã‚‹" class="headerlink" title="LambdaContextå‹ã‚’åˆ©ç”¨ã™ã‚‹"></a>LambdaContextå‹ã‚’åˆ©ç”¨ã™ã‚‹</h2><p>contextã¨ã„ã†ã¨å¾Œç¶šã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å—ã‘æ¸¡ã™ã‹ã€è‡ªå‰ã®å®Ÿè£…ã«ã‚ˆã£ã¦ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç­‰ã‚’ç®¡ç†ã™ã‚‹ã‚ˆã†ãªç”¨é€”ãŒæƒ³å®šã•ã‚Œã¾ã™ã€‚<br>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ã¯<a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/golang-context.html">ã“ã¡ã‚‰</a>ã§ã™ã€‚<br>ã€Œcontext ã®å‘¼ã³å‡ºã—æƒ…å ±ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã€ã®ç« ã«è¨˜è¼‰ãŒã‚ã‚‹ã‚ˆã†ã«ã€<code>lambda.Start(func)</code>ã§å®Ÿè£…ã—ãŸé–¢æ•°ãŒå—ã‘å–ã‚‹<code>context.Context</code>ã«ã¯ã€ã‚ã‚‰ã‹ã˜ã‚ã„ãã¤ã‹ã®å€¤ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚<br>ã“ã‚Œã‚‰ã®å€¤ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã«ã€aws-lambda-goã«ã¯<a href="https://github.com/aws/aws-lambda-go/blob/master/lambdacontext/context.go">lambdacontextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>ã“ã‚Œã«ã‚ˆã‚Šã€<code>LambdaContext</code>æ§‹é€ ä½“ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LambdaContext is the set of metadata that is passed for every Invoke.</span></span><br><span class="line"><span class="keyword">type</span> LambdaContext <span class="keyword">struct</span> &#123;</span><br><span class="line">AwsRequestID       <span class="keyword">string</span></span><br><span class="line">InvokedFunctionArn <span class="keyword">string</span></span><br><span class="line">Identity           CognitoIdentity</span><br><span class="line">ClientContext      ClientContext</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã®æ§‹é€ ä½“ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®é€šã‚Š<code>AwsLambda</code>ãŒå®Ÿè¡Œã•ã‚ŒãŸéš›ã®æƒ…å ±ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p><h2 id="context-Contextã‹ã‚‰LambdaContextæ§‹é€ ä½“ã‚’å¾©å…ƒã™ã‚‹"><a href="#context-Contextã‹ã‚‰LambdaContextæ§‹é€ ä½“ã‚’å¾©å…ƒã™ã‚‹" class="headerlink" title="context.Contextã‹ã‚‰LambdaContextæ§‹é€ ä½“ã‚’å¾©å…ƒã™ã‚‹"></a>context.Contextã‹ã‚‰LambdaContextæ§‹é€ ä½“ã‚’å¾©å…ƒã™ã‚‹</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FromContext returns the LambdaContext value stored in ctx, if any.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FromContext</span><span class="params">(ctx context.Context)</span> <span class="params">(*LambdaContext, <span class="keyword">bool</span>)</span></span> &#123;</span><br><span class="line">lc, ok := ctx.Value(contextKey).(*LambdaContext)</span><br><span class="line"><span class="keyword">return</span> lc, ok</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>LambdaContext</code>æ§‹é€ ä½“ã¯ã€<code>context.Context</code>ã‚’å¼•æ•°ã«å–ã‚Šã€<code>LambdaContext</code>æ§‹é€ ä½“ã‚’è¿”ã™é–¢æ•°<code>FromContext</code>ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚<br><code>FromContext</code>ã‚’ç”¨ã„ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚</p><figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambda&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/aws/aws-lambda-go/lambdacontext&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">helloWithContext</span><span class="params">(ctx context.Context)</span> <span class="params">(<span class="keyword">string</span>, error)</span></span> &#123;</span><br><span class="line">lc, ok := lambdacontext.FromContext(ctx)</span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line">log.Printf(<span class="string">&quot;aws_request_id: %v&quot;</span>, lc.AwsRequestID)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Hello Æ›!&quot;</span>, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// Make the handler available for Remote Procedure Call by AWS Lambda</span></span><br><span class="line">lambda.Start(helloWithContext)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã“ã®ã‚ˆã†ãªæ–¹æ³•ã§ã€å—ã‘å–ã£ãŸcontextã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒcontextã«å«ã‚ãŸæƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚<br>å®Ÿéš›ã®é‹ç”¨ã¨ã—ã¦ã¯ã€ãƒ­ã‚°å‡ºåŠ›ã®éš›ã«prefixã«<code>AwsRequestID</code>ã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«é–‹ç™ºã—ã¦ãŠãã€<code>Amazon CloudWatch Logs</code>ã«é€ä¿¡ã•ã‚ŒãŸãƒ­ã‚°ã‹ã‚‰ã€åŒä¸€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ãŠã‘ã‚‹ä¸€é€£ã®ãƒ­ã‚°å‡ºåŠ›ã‚’æŠ½å‡ºã™ã‚‹éš›ã«å½¹ç«‹ã¦ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚</p><p>lambdaã§é–‹ç™ºã—ãŸAPIã®èªè¨¼èªå¯ã«<code>Amazon Cognito</code>ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€<code>LambdaContext</code>æ§‹é€ ä½“ã‹ã‚‰<code>CognitoIdentityID</code>ã€<code>CognitoIdentityPoolID</code>ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚<br>æ–°ã—ã„<code>context</code>ã«<code>LambdaContext</code>æ§‹é€ ä½“ã®æƒ…å ±ã‚’è©°ã‚ã‚‹<code>func NewContext(parent context.Context, lc *LambdaContext)</code>ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>ã“ã®ã‚ˆã†ãªå…¬å¼ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’è¦‹è½ã¨ã•ãšä½¿ã„ã“ãªã—ã¦ã„ããŸã„ã§ã™ã­ã€‚</p><p>ãªãŠã€Goã®å®Ÿè£…ã§Lambdaã‚’èµ·å‹•ã™ã‚‹éš›ã«<code>context</code>ã«ä»»æ„ã®å€¤ã‚’ä¿æŒã—ã¦ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã¨ã—ã¦æ´»ç”¨ã™ã‚‹ã‚ˆã†ãªä½¿ã„æ–¹ã¯ã§ãã¾ã›ã‚“ã€‚<br>è©³ã—ãã¯éå»è¨˜äº‹<a href="https://future-architect.github.io/articles/20201112/">Goã§Lambdaã‹ã‚‰Lambdaã‚’å‘¼ã³å‡ºã™ã¨ãã«æ°—ã‚’ã¤ã‘ãŸã„ãƒã‚¤ãƒ³ãƒˆ6é¸</a>ã‚’ã”ç¢ºèªãã ã•ã„ã€‚<br>ã“ã®ã‚ˆã†ãªGoã§ã®å®Ÿè£…çµŒé¨“ã€ãƒãƒã‚Šã©ã“ã‚ã¯<a href="https://future-architect.github.io/articles/20200326/">Serverlessé€£è¼‰2: AWS LambdaÃ—Goã®é–‹ç™ºTips</a>ãªã©ã€<a href="https://future-architect.github.io/tags/Serverless%E9%80%A3%E8%BC%89/">æ˜¨å¹´ã®é€£è¼‰</a>ã§ã‚‚æ§˜ã€…ãªè¨˜äº‹ãŒåŸ·ç­†ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p>ã“ã®æ©Ÿä¼šã«åˆã‚ã›ã¦ãŠèª­ã¿ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><ul><li>AWS lambdaã‚’goã§å®Ÿè£…ã™ã‚‹éš›ã«context.Contextã‚’å—ã‘å–ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã§ãã‚‹</li><li>contextã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆIDç­‰ã®æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã‚‹</li><li>contextã®æƒ…å ±ã‚’æ‰±ã†ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;/articles/20210531a/&quot;&gt;ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é€£è¼‰&lt;/a&gt;ã®3è¨˜äº‹ç›®ã§ã™&lt;/p&gt;
&lt;p&gt;TIGã®ä¼Šè—¤çœŸå½¦ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;Goã§Lambdaã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã«ã‚ãŸã‚Šã€&lt;a href=&quot;https://github.com/aws/a</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="Lambda" scheme="https://future-architect.github.io/tags/Lambda/"/>
    
  </entry>
  
  <entry>
    <title>15åˆ†ã®å£ã‚’è¶…ãˆã¦ã€‚Lambdaåˆ†æ•£å®Ÿè¡Œè¡“</title>
    <link href="https://future-architect.github.io/articles/20210601a/"/>
    <id>https://future-architect.github.io/articles/20210601a/</id>
    <published>2021-05-31T15:00:00.000Z</published>
    <updated>2021-06-02T02:24:58.567Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>TIG DXãƒ¦ãƒ‹ãƒƒãƒˆ<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>ã®çœŸé‡ã§ã™ã€‚<a href="/articles/20210531a/">Serverlessé€£è¼‰2021</a>ã®2æ—¥ç›®ã§ã™ã€‚</p><p>AWSã§ä¸€åº¦Lambdaã‚’åˆ©ç”¨ã™ã‚‹ã¨ã€ãã®åˆ©ä¾¿æ€§ã‹ã‚‰å¾ã€…ã«åˆ©ç”¨ç¯„å›²ãŒåºƒãŒã£ã¦ã„ãã“ã¨ãŒã‚ˆãè¦³æ¸¬ã•ã‚Œã¾ã™ã€‚ä¸€åº¦ã ã‘ãªã‚‰ã¨ä¸€åº¦æ‰‹ã‚’å‡ºã™ã¨ã€ã„ã¤ã®é–“ã«ã‹Lambdaä»¥å¤–ã§å‹•ã‹ã™ã“ã¨ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆé€£æºã®æ‰‹é–“ã‚„ã€ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã€CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰ã¨é‹ç”¨ç›£è¦–ã®æ‰‹é–“ãªã©ã€ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰åŠã³å‘¨è¾ºã‚·ã‚¹ãƒ†ãƒ ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ©æµã‚’å¾—ã‚‰ã‚Œãªãã¦ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹äº‹ã‚‚ã€èº«ä½“ã«è€æ€§ãŒã¤ã„ã¦ã¤ã„åˆ©ç”¨é‡ãŒå¢—ãˆã¦ã„ãã“ã¨ã‚‚ã—ã°ã—ã°ã§ã™ã€‚ï¼ˆä¾‹ã®ã‚µã‚¤ã‚¯ãƒ«ã®ç”»åƒã¯å‰²æ„›ï¼‰ã€‚</p><p>æœ¬è¨˜äº‹ã§ã¯AWS Lambdaã§ã®ãƒãƒƒãƒå‡¦ç†ã«ã¤ã„ã¦æ¤œè¨ã—ã¾ã™ã€‚</p><h1 id="AWS-Lambdaã¨ãƒãƒƒãƒå‡¦ç†ã¨ã®ç›¸æ€§"><a href="#AWS-Lambdaã¨ãƒãƒƒãƒå‡¦ç†ã¨ã®ç›¸æ€§" class="headerlink" title="AWS Lambdaã¨ãƒãƒƒãƒå‡¦ç†ã¨ã®ç›¸æ€§"></a>AWS Lambdaã¨ãƒãƒƒãƒå‡¦ç†ã¨ã®ç›¸æ€§</h1><p>ãã‚“ãªAWS Lambdaã§ã™ãŒ2021.06.01æ™‚ç‚¹ã§ã¯å®Ÿè¡Œæ™‚é–“ã«åˆ¶ç´„ãŒã‚ã‚Š<a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html">15åˆ†</a>ã§ã™ã€‚éå»ã€<a href="https://aws.amazon.com/jp/blogs/news/aws-lambda-timeout-15min/">5åˆ†ã‹ã‚‰15åˆ†ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</a>ã•ã‚ŒãŸçµŒç·¯ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå¾Œã‚‚ä½•ã‹ã—ã‚‰ã®åˆ¶ç´„ã¯æ®‹ã‚‹ã§ã—ã‚‡ã†ã€‚</p><p>ãã®ãŸã‚ã€AWS Lambdaã®ã‚µãƒ¼ãƒ“ã‚¹å˜ä½“ã§ãƒãƒƒãƒå‡¦ç†ã‚’è¡Œã†ã®ã¯é›£ã—ãã€ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚ã‚‹ã„ã¯ã€ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨çµ„ã¿åˆã‚ã›ã¦ãƒãƒƒãƒå‡¦ç†ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚</p><p>ã‚ˆãè¦‹ã‚‹ã®ã¯ä»¥ä¸‹3ã¤ã§ã—ã‚‡ã†ã‹ã€‚</p><ol><li>ECSã§å‡¦ç†</li><li>AWS Batchã§å‡¦ç†</li><li>Step Functionsã¨Lambdaã‚’çµ„ã¿åˆã‚ã›</li></ol><p>3ã¤ç›®ã®Step Functionsã¯<a href="/articles/20200515/">éå»ã«ã¾ã¨ã‚ãŸ</a>ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p><div class="iframely-embed"><div class="iframely-responsive" style="height: 140px; padding-bottom: 0;"><a href="https://future-architect.github.io/articles/20200515/index.html" data-iframely-url="//cdn.iframe.ly/Wg0IM8H?card=small"></a></div></div><script async src="//cdn.iframe.ly/embed.js" charset="utf-8"></script><p>ä»Šå›ã¯Lambdaä¸­æ¯’è€…ã‚‰ã—ãã€1ã®ECSã‚„2ã®AWS Batchã«é ¼ã‚‰ãšã€3ã®Step Functionsã§ã‚‚ãªãã€Lambdaã¨Kinesisã§ãƒãƒƒãƒå‡¦ç†ã‚’å®Ÿç¾ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="Scatter-Fanout-ãƒ‘ã‚¿ãƒ¼ãƒ³"><a href="#Scatter-Fanout-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="headerlink" title="Scatter(Fanout)ãƒ‘ã‚¿ãƒ¼ãƒ³"></a>Scatter(Fanout)ãƒ‘ã‚¿ãƒ¼ãƒ³</h1><p>Enterprise Integration Patternã§åˆ†æ•£ãƒ»é›†ç´„ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’Scatter-Gatherãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å‘¼ã³ã¾ã™ãŒã€ä»Šå›ã¯ã“ã¡ã‚‰ã®åˆ†æ•£ã™ã‚‹éƒ¨åˆ†ã®ã¿ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚Gatherãªã—ã®Scatterãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ã‚ã¾ã‚Šèã‹ãªã„ã®ã§ã€Fanoutãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæ­£ã—ã„ã®ã‹ã‚‚ã§ã™ã€‚ã‚¿ã‚¤ãƒˆãƒ«ã§ã¯15åˆ†ã®å£ã‚’è¶…ãˆã¦ã¨ã‚ã‚Šã¾ã™ãŒã€å€‹åˆ¥ã®Lambdaã§ãã®å£ã¯è¶…ãˆã‚‰ã‚Œãªã„ã®ã§ã€è¤‡æ•°ã®Lambdaã‚’ä¸¦åˆ—ã§å®Ÿè¡Œã•ã›ã‚‹ã“ã¨ã§ã€ãã‚Œã‚‰å‡¦ç†æ™‚é–“ã®åˆè¨ˆã§ä»®æƒ³çš„ã«è¶…ãˆã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚</p><img src="/images/20210601a/BroadcastAggregate.gif" alt="Scatter Gatherãƒ‘ã‚¿ãƒ¼ãƒ³" width="377" height="226" loading="lazy"><p><a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html">https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html</a></p><p>ä½•ã‹ã—ã‚‰ã®å…¥åŠ›ã‚½ãƒ¼ã‚¹ã‚’å…ƒã«ã€Lambdaã§åˆ†æ•£æ•°ã ã‘Kinesisã«ã‚¸ãƒ§ãƒ–ã‚’ç¤ºã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã€‚å¾Œç¶šã®Lambdaã§å‡¦ç†ã‚’è¡Œã†æ§‹æˆã«ã—ã¾ã™ã€‚æœ€åˆã®LambdaãŒScatterã¨å‘¼ã°ã‚Œã‚‹åˆ†æ•£ã®é–‹å§‹éƒ¨åˆ†ã§ã™ã€‚</p><img src="/images/20210601a/scatter.png" alt="Lambdaã§Kinesisã«Putã™ã‚‹å›³" width="801" height="377" loading="lazy"><p>Gatherã«ã¤ã„ã¦ã¯ã€DynamoDBã®Increment an Atomic Counterãªã©ã‚’åˆ©ç”¨ã—ã¤ã¤å®Ÿè£…ã™ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚åŒã˜è¨­è¨ˆã§å®Ÿè£…ã™ã‚‹ã®ã§ã‚ã‚Œã°ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹æˆã«ãªã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚</p><img src="/images/20210601a/gather.png" alt="DynamoDBã‚’ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆ©ç”¨ã™ã‚‹å›³" width="1200" height="576" loading="lazy"><p>ãŸã ã€ç¾å®Ÿçš„ã«ã¯ã‚¹ã‚¯ãƒ©ãƒƒãƒã§Gatherã®ä½œã‚Šè¾¼ã¿ã‚’è¡Œã†ã®ã§ã¯ãªãã€Step Functionsã‚„Managed Workflows for Apache Airflowã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¤§åŠã ã¨æ€ã„ã¾ã™ã®ã§ã€æœ¬è¨˜äº‹ã§ã¯ç´°ã‹ã„è¨­è¨ˆãƒ»å®Ÿè£…ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãã¾ã›ã‚“ã€‚</p><h1 id="å®Ÿè£…"><a href="#å®Ÿè£…" class="headerlink" title="å®Ÿè£…"></a>å®Ÿè£…</h1><p>ãƒãƒƒãƒå‡¦ç†å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã¯DynamoDBã«ã‚ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ã‚ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒ•ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãã®ãƒ‡ãƒ¼ã‚¿ã‚’é§†å‹•ã«ã—ã¦ä½•ã‹ã—ã‚‰å‡¦ç†ã‚’åŠ ãˆã‚‹ã¨ä»®å®šã—ã¾ã™ã€‚</p><p>ã‚³ãƒ¼ãƒ‰ã¯<a href="https://github.com/ma91n/servlerless-batch-example/tree/master/scatterkinesis">ã“ã¡ã‚‰</a>ã«ã‚ã’ã¦ã„ã¾ã™ã®ã§ã€é©æ™‚å‚ç…§ãã ã•ã„ã€‚</p><h2 id="Kinesis-Data-Streamã«é€£æºã™ã‚‹ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰"><a href="#Kinesis-Data-Streamã«é€£æºã™ã‚‹ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰" class="headerlink" title="Kinesis Data Streamã«é€£æºã™ã‚‹ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰"></a>Kinesis Data Streamã«é€£æºã™ã‚‹ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰</h2><p>Jobã¨ã„ã†åå‰ã®Structã®å½¢å¼ã§é€£æºã—ã¾ã™ã€‚Totalã«åˆ†æ•£ãƒˆãƒ¼ã‚¿ãƒ«æ•°ã€Segã«ä»Šã®åˆ†æ•£ç•ªå·ã‚’æŒ‡å®šã™ã‚‹ä»•æ§˜ã«ã—ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Job <span class="keyword">struct</span> &#123;</span><br><span class="line">Total <span class="keyword">int64</span> <span class="string">`json:&quot;total&quot;`</span></span><br><span class="line">Seg   <span class="keyword">int64</span> <span class="string">`json:&quot;seg&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã¾ãŸã€å‡¦ç†å¯¾è±¡ã®DynamoDBã«ã¯7000ä»¶å¼±ã®ãƒ‡ãƒ¼ã‚¿ã¨ç™»éŒ²ã—ã¾ã—ãŸã€‚</p><h2 id="Scatter"><a href="#Scatter" class="headerlink" title="Scatter"></a>Scatter</h2><p>æœ€åˆã«å‡¦ç†å¯¾è±¡ã®DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«ã®ä»¶æ•°ã‚’å–å¾—ã—ã€ä¸€å®šã®ã—ãã„å€¤å˜ä½ã«ãªã‚‹ã‚ˆã†ã«åˆ†æ•£æ•°ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> db = dynamodb.New(session.Must(session.NewSession()))</span><br><span class="line"><span class="keyword">var</span> kc = kinesis.New(session.Must(session.NewSession()))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(Handle)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handle</span><span class="params">(ctx context.Context)</span> <span class="title">error</span></span> &#123;</span><br><span class="line"></span><br><span class="line">resp, err := db.ScanWithContext(ctx, &amp;dynamodb.ScanInput&#123;</span><br><span class="line">Select:    aws.String(dynamodb.SelectCount),</span><br><span class="line">TableName: aws.String(<span class="string">&quot;TestTable&quot;</span>),</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">total := <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">int</span>(*resp.Count) &gt; <span class="number">1000</span> &#123;</span><br><span class="line">total = <span class="keyword">int</span>(*resp.Count) / <span class="number">1000</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; total; i++ &#123;</span><br><span class="line">log.Printf(<span class="string">&quot;i=%d\n&quot;</span>, i)</span><br><span class="line">job := Job&#123;</span><br><span class="line">Total: <span class="keyword">int64</span>(total),</span><br><span class="line">Seg:   <span class="keyword">int64</span>(i),</span><br><span class="line">&#125;</span><br><span class="line">b, err := json.Marshal(job)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> _, err = kc.PutRecordWithContext(ctx, &amp;kinesis.PutRecordInput&#123;</span><br><span class="line">StreamName:   aws.String(<span class="string">&quot;scatter&quot;</span>),</span><br><span class="line">PartitionKey: aws.String(fmt.Sprintf(<span class="string">&quot;partitionKey-%d&quot;</span>, i)),</span><br><span class="line">Data:         b,</span><br><span class="line">&#125;); err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">log.Println(<span class="string">&quot;done&quot;</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>db.ScanWithContext</code> ã§ãƒ†ãƒ¼ãƒ–ãƒ«ä»¶æ•°ã‚’å–å¾—ã—ã€ä»Šå›ã¯ã—ãã„å€¤ã‚’1000ã§åˆ†æ•£ãƒˆãƒ¼ã‚¿ãƒ«æ•°ã‚’å°å‡ºã—ã¦ã„ã¾ã™ã€‚<br>ã‚ã¨ã¯ã€ãã®æ•°ã ã‘Kinesis Data Streamã«Jobã‚’é€ä¿¡ã—ã¾ã™ã€‚</p><p>å‹•ã‹ã—ã¦ã¿ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªçµæœãŒã§ã‚‹ã¨ã€ç„¡äº‹Kinesisã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’Putã§ãã¦ã„ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">START RequestId: 9469393a-eba9-4a21-9e98-8a3fc7f2a3f5 Version: $LATEST</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;0</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;1</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;2</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;3</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;4</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;5</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 i&#x3D;6</span><br><span class="line">2021&#x2F;06&#x2F;01 03:45:44 done</span><br><span class="line">END RequestId: 9469393a-eba9-4a21-9e98-8a3fc7f2a3f5</span><br><span class="line">REPORT RequestId: 9469393a-eba9-4a21-9e98-8a3fc7f2a3f5Duration: 299.30 msBilled Duration: 300 msMemory Size: 512 MBMax Memory Used: 45 MBInit Duration: 118.30 ms</span><br></pre></td></tr></table></figure><h2 id="ä¸¦åˆ—å‡¦ç†éƒ¨åˆ†"><a href="#ä¸¦åˆ—å‡¦ç†éƒ¨åˆ†" class="headerlink" title="ä¸¦åˆ—å‡¦ç†éƒ¨åˆ†"></a>ä¸¦åˆ—å‡¦ç†éƒ¨åˆ†</h2><p>æ¬¡ã¯ã€Kinesisã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒˆãƒªã‚¬ãƒ¼ã§èµ·å‹•ã™ã‚‹Lambdaã§ã™ã€‚åˆ†æ•£å‡¦ç†ã§è¡Œã†ãƒ¡ã‚¤ãƒ³ã®å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹éƒ¨åˆ†ã§ã™ã€‚<br>ä»Šå›ã¯ã€ <code>executeBizLogic</code> ã®ä¸­èº«ã§ã¯å˜ç´”ã«æŒ‡å®šã•ã‚ŒãŸä»¶æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆã‚’å–ã‚‹å†…å®¹ã«ã—ã¦ã„ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lambda.Start(Handle)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Handle</span><span class="params">(ctx context.Context, e events.KinesisEvent)</span> <span class="title">error</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> _, r := <span class="keyword">range</span> e.Records &#123;</span><br><span class="line"><span class="keyword">var</span> job Job</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err := json.Unmarshal(r.Kinesis.Data, &amp;job); err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">count, err := executeBizLogic(ctx, job.Total, job.Seg)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log.Printf(<span class="string">&quot;count: %v&quot;</span>, count)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> db = dynamodb.New(session.Must(session.NewSession()))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">executeBizLogic</span><span class="params">(ctx context.Context, total, seg <span class="keyword">int64</span>)</span> <span class="params">(<span class="keyword">int64</span>, error)</span></span> &#123;</span><br><span class="line">out, err := db.ScanWithContext(ctx, &amp;dynamodb.ScanInput&#123;</span><br><span class="line">TableName:     aws.String(<span class="string">&quot;TestTable&quot;</span>),</span><br><span class="line">TotalSegments: aws.Int64(total),</span><br><span class="line">Segment:       aws.Int64(seg),</span><br><span class="line">Select:        aws.String(dynamodb.SelectCount),</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>, fmt.Errorf(<span class="string">&quot;db.ScanWithContext: %w&quot;</span>, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *out.Count, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‹•ã‹ã—ã¦ã¿ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºã‚‹æƒ³å®šã§ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2021-06-01T12:45:46.143+09:00START RequestId: d44ecc4c-433c-481b-9051-435280c81900 Version: $LATEST</span><br><span class="line">2021-06-01T12:45:46.338+09:002021&#x2F;06&#x2F;01 03:45:46 count: 1016</span><br><span class="line">2021-06-01T12:45:46.339+09:00END RequestId: d44ecc4c-433c-481b-9051-435280c81900</span><br><span class="line">2021-06-01T12:45:46.339+09:00REPORT RequestId: d44ecc4c-433c-481b-9051-435280c81900 Duration: 195.60 ms Billed Duration: 196 ms Memory Size: 512 MB Max Memory Used: 44 MB Init Duration: 107.35 ms</span><br><span class="line">2021-06-01T12:45:46.391+09:00START RequestId: bd6839aa-bdb0-40f5-9455-a9a445035b4d Version: $LATEST</span><br><span class="line">2021-06-01T12:45:46.406+09:002021&#x2F;06&#x2F;01 03:45:46 count: 1085</span><br><span class="line">2021-06-01T12:45:46.406+09:00END RequestId: bd6839aa-bdb0-40f5-9455-a9a445035b4d</span><br><span class="line">2021-06-01T12:45:46.406+09:00REPORT RequestId: bd6839aa-bdb0-40f5-9455-a9a445035b4d Duration: 10.36 ms Billed Duration: 11 ms Memory Size: 512 MB Max Memory Used: 45 MB</span><br><span class="line">aa4f-30057e967514 Duration: 7.72 ms Billed Duration: 8 ms Memory Size: 512 MB Max Memory Used: 45 MB</span><br><span class="line">ä¸­ç•¥</span><br><span class="line">2021-06-01T12:45:46.611+09:00START RequestId: 5f9cec98-2434-4872-8de9-df605b3e339c Version: $LATEST</span><br><span class="line">2021-06-01T12:45:46.624+09:002021&#x2F;06&#x2F;01 03:45:46 count: 1072</span><br><span class="line">2021-06-01T12:45:46.625+09:00END RequestId: 5f9cec98-2434-4872-8de9-df605b3e339c</span><br><span class="line">2021-06-01T12:45:46.625+09:00REPORT RequestId: 5f9cec98-2434-4872-8de9-df605b3e339c Duration: 8.59 ms Billed Duration: 9 ms Memory Size: 512 MB Max M</span><br></pre></td></tr></table></figure><p>æœ€åˆã®Lambdaã§Kinesisã«å‘¼ã³å‡ºã—ãŸåˆ†ã ã‘ã€å¾Œç¶šã®LambdaãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="ã“ã®å®Ÿè£…ã®ä½¿ã„æ‰€"><a href="#ã“ã®å®Ÿè£…ã®ä½¿ã„æ‰€" class="headerlink" title="ã“ã®å®Ÿè£…ã®ä½¿ã„æ‰€"></a>ã“ã®å®Ÿè£…ã®ä½¿ã„æ‰€</h1><p>ã‚¸ãƒ§ãƒ–ã®ä¾å­˜é–¢ä¿‚ãŒå¤šããªã„å ´åˆã§ã€ã‹ã¤ECSã‚„AWS Batchã‚’å°å…¥ã›ãšã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«åˆ†æ•£å®Ÿè¡Œã—ãŸã„æ™‚ã«è©¦ã›ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>ã¾ãŸã€ä»Šå›ã®ä¾‹ã¨ã—ã¦ã¯åˆ†æ•£ãƒˆãƒ¼ã‚¿ãƒ«æ•°ï¼‹åˆ†æ•£ç•ªå·ã®å‡¦ç†ãƒ¢ãƒ‡ãƒ«ã§ã™ãŒã€å‡¦ç†å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ¬¡ç¬¬ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶IDã®ç¯„å›²ã‚’ã—ã¦ã„ã—ãŸã‚Šã€è‰¯ã„æ„Ÿã˜ã®ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã«ãªã‚‹æ¥­å‹™ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¦ã‚‚è‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚æ”¯ç¤¾CDã¨ã‹å–¶æ¥­ã‚¨ãƒªã‚¢CDã¨ã‹ã§ã™ã€‚</p><h1 id="ãƒªãƒ©ãƒ³ã«ã¤ã„ã¦"><a href="#ãƒªãƒ©ãƒ³ã«ã¤ã„ã¦" class="headerlink" title="ãƒªãƒ©ãƒ³ã«ã¤ã„ã¦"></a>ãƒªãƒ©ãƒ³ã«ã¤ã„ã¦</h1><p>å¾Œç¶šã®Lambdaã®ã‚ã‚‹åˆ†æ•£ç•ªå·ã ã‘éšœå®³ãŒç™ºç”Ÿã—ã€ãƒªã‚«ãƒãƒªãŒå¿…è¦ã«ãªã£ãŸå ´åˆã®å¯¾å¿œã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p><p>ä»Šå›ã®å®Ÿè£…ã§ã¯ä½œã‚Šè¾¼ã‚“ã§ã„ãªã„ã‚“ã§ã™ãŒã€ä¾‹ãˆã°ã‚¨ãƒ©ãƒ¼ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ã‚’æ ¼ç´ã™ã‚‹Dead Letter Queueã‚’ç”¨æ„ã™ã‚‹ã®ãŒä¸€æ‰‹ã§ã™ã€‚ã¡ã‚‡ã£ã¨ãƒ„ãƒ¼ãƒ«ã§åˆ©ç”¨ã™ã‚‹ç”¨é€”ã§ã‚ã‚Œã°ã€é€£æºã•ã‚ŒãŸé€£æºæƒ…å ±ã‚’ awscli ã§ç›´æ¥Kinesisã«putã™ã‚‹ã®ã‚‚ä¸€æ‰‹ã ã¨æ€ã„ã¾ã™</p><h1 id="å‡¦ç†ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§"><a href="#å‡¦ç†ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§" class="headerlink" title="å‡¦ç†ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§"></a>å‡¦ç†ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§</h1><p>å®Ÿè¡Œã™ã‚‹LambdaãŒåˆ†å‰²ã•ã‚Œã‚‹é–¢ä¿‚ä¸Šã€åˆ©ç”¨ã™ã‚‹ã®ãŒPostgreSQLã®ã‚ˆã†ãªRDBã§ã‚ã£ã¦ã‚‚ã€ãƒãƒƒãƒå‡¦ç†å…¨ä½“ã®å‡¦ç†çµæœã®ä¸€è²«æ€§ã‚’ä¿ã¤ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚åˆ†æ•£å‡¦ç†å˜ä½ã§ç™»éŒ²ã—ã¦ã‚ˆã„ã‹ãŒåˆ©ç”¨ã™ã‚‹ä¸Šã§ã®å¤§å‰æã ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="å®Ÿç”¨ä¸Šã®è©±"><a href="#å®Ÿç”¨ä¸Šã®è©±" class="headerlink" title="å®Ÿç”¨ä¸Šã®è©±"></a>å®Ÿç”¨ä¸Šã®è©±</h1><p>ã“ã®æ‰‹ã®åˆ†æ•£å‡¦ç†ã‚’1æ—¥ã«è¤‡æ•°å›å®Ÿè¡Œã—ã€ã‹ã¤ã‚ã‚‹åˆ†æ•£å‡¦ç†ç•ªå·ã®ã¿å¤±æ•—ã™ã‚‹å ´åˆã‚’è€ƒæ…®ã™ã‚‹ã¨ã€ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨ä¸Šã®è² è·ãŒé«˜ã¾ã‚Šã¾ã™ã€‚</p><p>ãã®ãŸã‚ã€å®Ÿç”¨ã«è€ãˆã†ã‚‹ãŸã‚ã«ã¯Scatterã®Lambdaã®èµ·å‹•ã®ãŸã³ã«ä¸€æ„ãªå®Ÿè¡ŒIDã‚’å–å¾—ã—ã€ãã‚Œã‚’ã‚­ãƒ¼ã«ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚ãã‚Œãã‚ŒãŒæˆåŠŸãƒ»å¤±æ•—ãƒ»å‡¦ç†ä¸­ãªã©ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æŒã¤ã¨å½¹ç«‹ã¤ã“ã¨ãŒå¤šã„ã§ã™ã€‚ãã‚Œãã‚Œã®å‡¦ç†ä»¶æ•°ã‚„å‡¦ç†æ™‚é–“ã‚’æ ¼ç´ã™ã‚‹ã¨å¬‰ã—ã„ã“ã¨ã‚‚ãŠãŠã„ã§ã—ã‚‡ã†ã€‚</p><p>ä¸€æ–¹ã§ãã“ã¾ã§ã‚„ã‚‹ã®ã§ã‚ã‚Œã°ã€Managed Workflows for Apache Airflowã¨ã„ã£ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¨ãƒ³ã‚¸ãƒ³ã®å°å…¥ã‚‚æ¤œè¨ã—ãŸã»ã†ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><p>ã¾ãŸã€åˆ†æ•£ã—ãªãã¦ã‚‚AWS Batchã‚„ECSã§15åˆ†ã®åˆ¶ç´„ã‚’æŒãŸãªã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸å®šã—ãŸã»ã†ãŒè‰¯ã„å ´é¢ã¯å¤šåˆ†ã«ã‚ã‚‹ã®ã§ã€ç¨‹ã€…ã«åˆ©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚</p><h1 id="ã‚¤ãƒ³ãƒ•ãƒ©ä¸Šã®æ³¨æ„"><a href="#ã‚¤ãƒ³ãƒ•ãƒ©ä¸Šã®æ³¨æ„" class="headerlink" title="ã‚¤ãƒ³ãƒ•ãƒ©ä¸Šã®æ³¨æ„"></a>ã‚¤ãƒ³ãƒ•ãƒ©ä¸Šã®æ³¨æ„</h1><p>ä¸¦åˆ—å‡¦ç†Lambdaã§ã™ãŒã€Kinesisãƒˆãƒªã‚¬ãƒ¼ã®ãƒãƒƒãƒã‚µã‚¤ã‚ºã¯ <code>1</code> ãŒæ¨å¥¨ã§ã™ã€‚ã“ã‚ŒãŒ10ãªã©ã«ã™ã‚‹ã¨ä»Šå›ã ã¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯1ã¤ã®Lambdaã§ã™ã¹ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã—ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚</p><p>ã¾ãŸã€ <code>ã‚·ãƒ£ãƒ¼ãƒ‰ã‚ãŸã‚Šã®åŒæ™‚ãƒãƒƒãƒ</code> ã§1ã‚·ãƒ£ãƒ¼ãƒ‰ã‚ãŸã‚Šã®åŒæ™‚èµ·å‹•æ•°ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãŠãã‚‰ã1ã§ã™ã€‚ç¾çŠ¶ã¯1ã‚·ãƒ£ãƒ¼ãƒ‰ã‚ãŸã‚Šæœ€å¤§10ã¾ã§ã§ã™ã€‚Kinesis Data Streamã‚’ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã¨ã€ã ã„ãŸã„ã‚·ãƒ£ãƒ¼ãƒ‰ã¯1ãªã®ã§é€šå¸¸ã¯åŒæ™‚èµ·å‹•æ•°ã®åˆ¶ç´„ãŒã“ã“ã§æ±ºã¾ã‚Šã¾ã™ã€‚</p><p><a href="https://aws.amazon.com/jp/about-aws/whats-new/2019/11/aws-lambda-supports-parallelization-factor-for-kinesis-and-dynamodb-event-sources/">https://aws.amazon.com/jp/about-aws/whats-new/2019/11/aws-lambda-supports-parallelization-factor-for-kinesis-and-dynamodb-event-sources/</a></p><p>é€šå¸¸ã¯10ä¸¦åˆ—ã§ååˆ†ã‹ã¨æ€ã„ã¾ã™ãŒã€ã‚‚ã—ä¸Šã’ãŸã„å ´åˆã¯ã‚·ãƒ£ãƒ¼ãƒ‰ã‚’å¢—ã‚„ã™å¯¾å¿œã§ã™ã€‚å¤šå°‘è²»ç”¨ãŒå¢—ãˆã¾ã™ãŒé€šå¸¸ã¯èª¤å·®ã®ç¯„å›²ã‹ã¨æ€ã„ã¾ã™ã€‚</p><h1 id="æœ€å¾Œã«"><a href="#æœ€å¾Œã«" class="headerlink" title="æœ€å¾Œã«"></a>æœ€å¾Œã«</h1><p>AWS Lambdaå®Ÿè¡Œæ™‚é–“15åˆ†ã®å£ã¯ã€å½“ç„¶ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆãªã®ã§ãã‚Œå˜ä½“ã§ã¯è¶…ãˆã‚‰ã‚Œãªã„ã§ã™ãŒã€Kinesis Data Streamsã¨çµ„ã¿åˆã‚ã›ã¦ã€ä»®æƒ³çš„ã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚é–“ã®åˆè¨ˆã§15åˆ†ã‚’è¶Šãˆã‚ˆã†ã¨ã„ã†è¨˜äº‹ã§ã—ãŸã€‚</p><p>å®Ÿç”¨ä¸Šã¯ã„ãã¤ã‹å£ãŒã‚ã‚‹ã®ã§ã€ç”¨æ³•ç”¨é‡ã‚’å®ˆã‚Šæ­£ã—ãå‚è€ƒã«ã—ã¦ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚</p><p>æ¬¡ã¯ä¼Šè—¤çœŸå½¦ã•ã‚“ã®<a href="/articles/20210602a/">AWS Lambdaã«ãŠã‘ã‚‹Go Contextã®å–ã‚Šæ‰±ã„</a>ã§ã™ã€‚</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">Technology Innovation Groupï¼ˆTIGï¼‰ã¯ã€ã€Œæœ€å…ˆç«¯ã€ä¸”ã¤å…ˆé€²çš„ãªãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«é›†å›£ã€ã€ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå“è³ªã¨ç”Ÿç”£æ€§ã®å‘ä¸Šã€ã€ã€Œè‡ªç¤¾ã‚µãƒ¼ãƒ“ã‚¹äº‹æ¥­ã®ç«‹ã¡ä¸Šã’ã€ã‚’ä¸»ãªãƒŸãƒƒã‚·ãƒ§ãƒ³ã¨ã™ã‚‹ã€æŠ€è¡“éƒ¨éšŠã§ã™ã€‚DXãƒ¦ãƒ‹ãƒƒãƒˆã¨ã¯ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¨é€²ã™ã‚‹ãƒãƒ¼ãƒ ã§ã€IoTã‚„ã‚‰MaaSãªã©ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚«ãƒƒãƒˆã§ãƒ“ã‚¸ãƒã‚¹è»¢æ›ã‚’è¡Œã„ã¾ã™ã€‚</span><a href="#fnref:1" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;TIG DXãƒ¦ãƒ‹ãƒƒãƒˆ&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Serverless" scheme="https://future-architect.github.io/tags/Serverless/"/>
    
    <category term="Lambda" scheme="https://future-architect.github.io/tags/Lambda/"/>
    
    <category term="ãƒãƒƒãƒå‡¦ç†" scheme="https://future-architect.github.io/tags/%E3%83%90%E3%83%83%E3%83%81%E5%87%A6%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Kinesis+Lambdaæ§‹æˆã§ã®ã€å‡¦ç†é…å»¶ã‚’ç›£è¦–ã™ã‚‹</title>
    <link href="https://future-architect.github.io/articles/20210531b/"/>
    <id>https://future-architect.github.io/articles/20210531b/</id>
    <published>2021-05-30T15:00:01.000Z</published>
    <updated>2021-05-31T01:56:39.223Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æ£šäº•é¾ä¹‹ä»‹ã§ã™ã€‚</p><p>æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€<a href="/articles/20210531a/">ã‚µãƒ¼ãƒãƒ¬ã‚¹é€£è¼‰</a>ã®ç¬¬1æ—¥ç›®ã¨ã—ã¦ã€ã€ŒKinesis+Lambdaæ§‹æˆã€ã§ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã«ã¤ã„ã¦å–ã‚Šä¸Šã’ã¾ã™ã€‚</p><p><strong>ãƒ‡ãƒ¼ã‚¿æµå…¥é‡ãŒå¾ã€…ã«å¢—åŠ ã™ã‚‹è¦‹è¾¼ã¿</strong>ã®ã¨ãã€å„ãƒªã‚½ãƒ¼ã‚¹ã®ã©ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’é‡ç‚¹ãƒã‚§ãƒƒã‚¯ã™ã¹ãã‹ã€‚ã¾ãŸã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒãƒªã‚½ãƒ¼ã‚¹ã®åˆ¶é™ã«ã¶ã¤ã‹ã£ãŸå ´åˆã‚„ã‚¢ãƒ©ãƒ¼ãƒˆæ¤œçŸ¥ã•ã‚ŒãŸå ´åˆã«ã©ã®ã‚ˆã†ãªå¯¾å¿œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å–ã‚‹ã¹ãã‹ã€‚Kinesisã‚„Lambdaã®ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–è¨­å®šã‹ã‚‰å¾—ãŸçŸ¥è¦‹ã‚’ã€æœ¬ãƒ–ãƒ­ã‚°ã«æ•´ç†ã—ã¾ã—ãŸã€‚</p><p>ãã‚‚ãã‚‚ã®ã€Œã‚µãƒ¼ãƒãƒ¬ã‚¹ã£ã¦ã€ä½•ãŒä¾¿åˆ©ãªã‚“ã ã£ã‘ï¼Ÿã€ã‹ã‚‰æ•´ç†ã—ãŸã„æ–¹ã¯ã€<a href="https://aws.amazon.com/jp/builders-flash/202003/awsgeek-serverless/?awsf.filter-name=*all">AWSå…¬å¼ã®ã‚°ãƒ©ãƒ¬ã‚³è§£èª¬è¨˜äº‹</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p><h1 id="ä»Šå›ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆ"><a href="#ä»Šå›ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆ" class="headerlink" title="ä»Šå›ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆ"></a>ä»Šå›ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆ</h1><p>ã€ŒAmazon Kinesis Data Streamã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘ã€AWS LambdaãŒã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒ ã™ã‚‹æ§‹æˆã€ã‚’æœ¬ãƒ–ãƒ­ã‚°ã§æƒ³å®šã™ã‚‹ç’°å¢ƒã¨ã—ã¾ã™ã€‚</p><p>AWSæœ¬å®¶ã®<a href="https://aws.amazon.com/jp/serverless/patterns/serverless-pattern/">å½¢ã§è€ƒãˆã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹è¨­è¨ˆ</a>ã§ã‚‚ã€Œæµå…¥ãƒ‡ãƒ¼ã‚¿ã®é€£ç¶šå‡¦ç†ã€ã¨ã—ã¦å–ã‚Šä¸Šã’ã‚‰ã‚ŒãŠã‚Šã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã¨ã„ã†ç”¨èªã«é¦´æŸ“ã¿ã®ãªã„ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã‚‚ã‚ˆãçŸ¥ã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼æ§‹æˆã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚</p><img src="/images/20210531b/Pattern-Streaming.7b2876deed217d21f4e4e326fe1535be25cb9603.png" alt="Kinesisã§å—ã‘ã¦Lambdaã‹ã‚‰S3ã¸æ›¸ãè¾¼ã‚€å›³" width="832" height="218" loading="lazy"><p>å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®å—ä¿¡ã«ã¯Kinesisã‚’ä½¿ã„ã€å—ä¿¡ãƒ‡ãƒ¼ã‚¿ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆã¯Lambdaã§ã‚„ã‚Šãã‚Šã™ã‚‹ã€‚ã“ã®æ§‹æˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã§åˆ†ã‹ã‚Šã‚„ã™ãã€ã‹ã¤ã€å„ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã—ã‚„ã™ã„ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿é€£æºã‚„ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãªã©ã®ã‚ã‚‰ã‚†ã‚‹ã‚±ãƒ¼ã‚¹ã«å¿œç”¨ãŒåŠ¹ãã€ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãªã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆã ã¨æ€ã„ã¾ã™ã€‚</p><p>ã©ã¡ã‚‰ã‚‚ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãªãŸã‚ã€ç®¡ç†é‹ç”¨ã‚³ã‚¹ãƒˆã¯ã»ã¨ã‚“ã¨ã‹ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã“ã¨ã€Œãƒ‡ãƒ¼ã‚¿æµå…¥é‡ãŒã©ã‚“ã©ã‚“å¢—ãˆã‚‹å ´åˆã€ã«ã¯ãã®é™ã‚Šã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¾Œç¶šã§èª¬æ˜ã™ã‚‹CloudWatchã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã‚’è¨­å®šã—ã€é€šçŸ¥ã‚„ã‚¢ãƒ©ãƒ¼ãƒˆã‚’å—ã‘ãŸå ´åˆã«ã¯ãƒªã‚½ãƒ¼ã‚¹ã®æ‹¡å¼µãƒ»ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚</p><h1 id="ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã®åŸºæœ¬"><a href="#ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã®åŸºæœ¬" class="headerlink" title="ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã®åŸºæœ¬"></a>ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã®åŸºæœ¬</h1><p>AWSãƒªã‚½ãƒ¼ã‚¹ã®ç›£è¦–ã«ã¯ã€<a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudWatch/latest/monitoring/cloudwatch_architecture.html">CloudWatch</a>ã‚’æ´»ç”¨ã—ã¾ã™ã€‚</p><p>Amazon CloudWatchã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€AWSãƒªã‚½ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨çŠ¶æ³ã‚„ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®å‡ºåŠ›ã™ã‚‹æƒ…å ±ã‚’<a href="https://wa3.i-3-i.info/word17778.html">ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</a>ã§ãã¾ã™ã€‚</p><p>å„ãƒªã‚½ãƒ¼ã‚¹ã®å‡ºåŠ›ã™ã‚‹æƒ…å ±ã¯ã€Œãƒ¡ãƒˆãƒªã‚¯ã‚¹(Metrics)ã€ã¨ã—ã¦AWSã‚µãƒ¼ãƒ“ã‚¹å†…ã«é›†ç´„ã•ã‚Œã¦ã„ã¾ã™ã€‚CloudWatchã«è¿½åŠ è¨­å®šã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ã€Œã“ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒæ€¥ä¸Šæ˜‡ã—ãŸå ´åˆã«ã¯ã€ç¤¾å“¡ã«ãƒ¡ãƒ¼ãƒ«ã§é€šçŸ¥ã—ã¦ã€ã‚„ã€Œã‚ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒ80%ã‚’ä¸Šå›ã£ãŸã‚‰ã€è‡ªå‹•ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’å¢—å¼·ã—ã¦ã€ãªã©ã‚’ç™»éŒ²ã—ã€ç·Šæ€¥æ™‚ã®ã‚·ã‚¹ãƒ†ãƒ å¯¾å¿œã«å‚™ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><img src="/images/20210531b/CW-Overview.png" alt="CloudWatchã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚å¿µå›³" width="604" height="385" loading="lazy"><p>EC2ã‚„RDSã®é‹ç”¨çµŒé¨“ãŒã‚ã‚Œã°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã¯ã€Œå½“ãŸã‚Šå‰ã«å®Ÿæ–½ã™ã¹ãã€ã¨è¨€ã‚ã‚Œã¦ã‚‚é•å’Œæ„Ÿã¯ç„¡ã„ã¨æ€ã„ã¾ã™ã€‚<br>ã—ã‹ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã®é‹ç”¨çµŒé¨“ãŒã€Œã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã£ã¦ã“ã®ã‹ãŸã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã®ã¿ã€ã ã¨ã€ã€Œãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã ã‹ã‚‰ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–è¨­å®šã¯ã„ã‚‰ãªã„ã‚ˆã­ã€‚ã‚¨ãƒ©ãƒ¼ç›£è¦–ã¯å½“ç„¶ã ã¨ã—ã¦ã‚‚ã€ãƒªã‚½ãƒ¼ã‚¹å¢—å¼·ã¯å…¨ã¦è‡ªå‹•ã§ã—ã‚‡ã€ã¨å‹˜é•ã„ã—ã¦ã—ã¾ã†ã‚±ãƒ¼ã‚¹ãŒè¦‹å—ã‘ã‚‰ã‚Œã¾ã™ã€‚</p><p>ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆã ã¨ã—ã¦ã‚‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã¯å¿…é ˆã§ã‚ã‚Šã€ãã‚Œã‚’æ€ ã£ã¦ã—ã¾ã†ã¨ã€ŒçŸ¥ã‚‰ãªã„ã†ã¡ã«ã€ã‚·ã‚¹ãƒ†ãƒ ã®å‹•ããŒãŠã‹ã—ããªã£ã¦ã„ã‚‹ã€çŠ¶æ³ã«ãªã‚Šã¾ã™ã€‚</p><p>ç­†è€…è‡ªèº«ã®çµŒé¨“ã§ã¯ã€Lambdaã®ä»£è¡¨çš„ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ <strong>IteratorAge</strong> ã®ç›£è¦–ãŒæ¼ã‚ŒãŸã“ã¨ã«ã‚ˆã‚Šã€Œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã¨è¬³ã£ã¦ã„ã‚‹ãŒã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿é€£æºã«ã¯ã€‡ã€‡æ™‚é–“è¦ã™ã‚‹ã€ã¨ã„ã†ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã—ãŸã€‚ã‚µãƒ¼ãƒ“ã‚¹ã®éæ©Ÿèƒ½è¦ä»¶ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã«ã‚‚ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã¯å¾¹åº•ã™ã¹ãã§ã™ã€‚</p><h1 id="ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹"><a href="#ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹" class="headerlink" title="ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹"></a>ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹</h1><p>Kinesis+Lambdaæ§‹æˆã®å ´åˆã€<a href="https://docs.aws.amazon.com/ja_jp/wellarchitected/latest/serverless-applications-lens/welcome.html">æœ€ä½ã§ã‚‚ä»¥ä¸‹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹</a>ã«ã¯ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥è¨­å®šã‚’å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚</p><table><thead><tr><th>#</th><th>AWSã‚µãƒ¼ãƒ“ã‚¹å</th><th>ãƒ¡ãƒˆãƒªã‚¯ã‚¹å</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td>1</td><td>AWS Lambda</td><td>Errors</td><td>é–¢æ•°ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå‘¼ã³å‡ºã—ã®æ•°</td></tr><tr><td>2</td><td>AWS Lambda</td><td>Throttling</td><td>ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã•ã‚ŒãŸå‘¼ã³å‡ºã—ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°</td></tr><tr><td>3</td><td>AWS Lambda</td><td>Duration</td><td>é–¢æ•°ã‚³ãƒ¼ãƒ‰ãŒã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†ã«è²»ã‚„ã™æ™‚é–“</td></tr><tr><td>4</td><td>AWS Lambda</td><td>ConcurrentExecutions</td><td>ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¦ã„ã‚‹é–¢æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æ•°</td></tr><tr><td>5</td><td>AWS Lambda</td><td>IteratorAge</td><td>ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’KinesisãŒå—ä¿¡ã—ã¦ã‹ã‚‰ã€ãã®ãƒ‡ãƒ¼ã‚¿ã‚’Lambdaã«é€ä¿¡ã™ã‚‹ã¾ã§ã®æ™‚é–“</td></tr><tr><td>6</td><td>Amazon Kinesis Date Stream</td><td>ReadProvisionedThroughputExceeded</td><td>ãƒ‡ãƒ¼ã‚¿å–å¾—è¦æ±‚ãŒã€Kinesisã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆä¸Šé™ã«é”ã—ã¦èª¿æ•´ãŒè¡Œã‚ã‚ŒãŸ</td></tr><tr><td>7</td><td>Amazon Kinesis Date Stream</td><td>WriteProvisionedThroughputExceeded</td><td>ãƒ‡ãƒ¼ã‚¿æ›¸ãè¾¼ã¿ãŒã€Kinesisã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆä¸Šé™ã«é”ã—ã¦å¤±æ•—ã—ãŸ</td></tr><tr><td>8</td><td>Amazon Kinesis Date Stream</td><td>GetRecords.IteratorAgeMilliseconds</td><td>Kinesisã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒæ»åœ¨ã—ãŸæ™‚é–“</td></tr><tr><td>9</td><td>Amazon Kinesis Date Stream</td><td>GetRecords.Success</td><td>Kinesisã‹ã‚‰æ­£ã—ãå–å¾—ã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã®æ•°</td></tr></tbody></table><p>ã“ã‚Œã‚‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ã€Kinesis, Lambdaã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒªã‚½ãƒ¼ã‚¹ã®ã€Œãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã§ã¯ãªã„éƒ¨åˆ†ã€ã¾ã§ã«ã‚‚ç›®ãŒè¡Œãå±Šãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><h2 id="ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãŒå±Šã„ãŸã‚‰"><a href="#ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãŒå±Šã„ãŸã‚‰" class="headerlink" title="ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãŒå±Šã„ãŸã‚‰"></a>ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãŒå±Šã„ãŸã‚‰</h2><p>ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ã€ãƒªã‚½ãƒ¼ã‚¹ã®è² è·ä¸Šæ˜‡ã‚’ã‚¢ãƒ©ãƒ¼ãƒˆã§æ¤œçŸ¥ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>åŸºæœ¬çš„ã«ã¯ã€Œãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®ç‰¹å®š â†’ è§£æ±º/ç·©å’Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿæ–½ â†’ ç¶™ç¶šç›£è¦– â†’ ã‚¢ãƒ©ãƒ¼ãƒˆã®æœªå†ç™ºã‚’ç¢ºèªã—å¯¾å¿œã‚¯ãƒ­ãƒ¼ã‚º or åŸå› ã®å†èª¿æŸ»ã€ã®å¯¾å¿œãƒ•ãƒ­ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚</p><p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã‚„ã€ãƒ‡ãƒ¼ã‚¿ãŒå…¨ãå±Šã‹ãªã„ã‚±ãƒ¼ã‚¹ã§ã‚ã‚Œã°ã€åŸå› ã®åˆ‡ã‚Šåˆ†ã‘ã¯å®¹æ˜“ã ã¨æ€ã„ã¾ã™ã€‚<br>ã—ã‹ã—ã€ã€Œå‡¦ç†é…å»¶ã€ã®ã‚ˆã†ãªå‡¦ç†æ™‚é–“ãŒå¾ã€…ã«é•·ããªã£ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã§ã¯ã€é–¢æ•°å†…éƒ¨ãƒ­ã‚¸ãƒƒã‚¯ã®ä¿®æ­£ã‚„ãƒªã‚½ãƒ¼ã‚¹ã®å¢—å¼·ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</p><p>ä»£è¡¨çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯</p><ul><li>Lambda<ul><li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å†…éƒ¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¦‹ç›´ã™<ul><li>åˆ¥ãƒªã‚½ãƒ¼ã‚¹ã¨ã®æ¥ç¶šæ™‚é–“ã‚’èª¿ã¹ã‚‹</li><li>è©³ç´°èª¿æŸ»ã®ãŸã‚ã«ãƒ­ã‚°å‡ºåŠ›ã‚’è¿½åŠ ã™ã‚‹</li></ul></li><li>ãƒ¡ãƒ¢ãƒªã‚’å¢—å¼·ã™ã‚‹</li><li>åŒæ™‚å®Ÿè¡Œæ•°ã®ä¸Šé™ç·©å’Œã‚’ç”³è«‹ã™ã‚‹</li><li>ä¸¦åˆ—åŒ–ç³»æ•°ã‚’å¢—ã‚„ã™</li></ul></li><li>Kinesis<ul><li>ã‚·ãƒ£ãƒ¼ãƒ‰æ•°ã‚’å¢—ã‚„ã™</li><li>ãƒ‡ãƒ¼ã‚¿ä¿å­˜æœŸé–“ã‚’å»¶é•·ã™ã‚‹</li></ul></li></ul><p>ãªã©ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚</p><p>ã„ãšã‚Œã«ã—ã¦ã‚‚ã€Œ<strong>ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®ç‰¹å®š</strong>ã€ãŒæœ€å„ªå…ˆã§ã‚ã‚Šã€åŸå› ã«å¯¾ã—ã¦ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆã§å¯¾å‡¦ã™ã¹ãã§ã™ã€‚<br>ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥æ™‚ã«æ…Œã¦ãªã„ãŸã‚ã«ã‚‚ã€CloudWatchã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã«æ—¥é ƒã‹ã‚‰æ…£ã‚Œã¦ãŠãã“ã¨ã‚‚å¤§äº‹ã§ã™ã€‚</p><h1 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h1><p>ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆã§ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã«ã¤ã„ã¦ã€å…¥é–€çš„ãªå†…å®¹ã¨ã—ã¦ã€Kinesis+Lambdaæ§‹æˆã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¯åŸºæœ¬çš„ã«ã€Œã»ã£ãŸã‚‰ã‹ã—ã€ã§ã‚‚å¤§ããªå•é¡Œã¯ç™ºç”Ÿã—ã¾ã›ã‚“ãŒã€å¾ã€…ã«è² è·ãŒé«˜ã¾ã‚‹ã‚±ãƒ¼ã‚¹ã§ã¯ã€Œæ°—ã¥ã„ãŸã‚‰ã€å¤§å¤‰ãªã“ã¨ã«ãªã£ã¦ã„ãŸã€ã¨ã„ã†ç¬‘ãˆãªã„çŠ¶æ³ãŒç™ºç”Ÿã—ãŒã¡ã§ã™ã€‚</p><p>é¢å€’ãªä½œæ¥­ã¯AWSå´ã«ä»»ã›ã‚‰ã‚Œã‚‹ã¨ã—ã¦ã‚‚ã€æœ€çµ‚çš„ãªã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒç›£è¦–ã¯ã€Œåˆ©ç”¨è€…å´ã®è²¬å‹™ã€ã¨æ„è­˜ã—ã¦ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–è¨­å®šã¯å¿…ãšå…¥ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚</p><p><a href="/articles/20210531a/">ã‚µãƒ¼ãƒãƒ¬ã‚¹é€£è¼‰</a>ã®ç¬¬1æ—¥ç›®ã§ã—ãŸã€‚æ¬¡ã¯çœŸé‡ã•ã‚“ã®ã€Œ15åˆ†ã®å£ã‚’è¶…ãˆã‚‹Lambdaåˆ†æ•£å®Ÿè¡Œè¡“ã€ã§ã™</p><h2 id="å‚ç…§è¨˜äº‹"><a href="#å‚ç…§è¨˜äº‹" class="headerlink" title="å‚ç…§è¨˜äº‹"></a>å‚ç…§è¨˜äº‹</h2><ul><li><a href="https://aws.amazon.com/jp/builders-flash/202003/awsgeek-serverless/?awsf.filter-name=*all">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã£ã¦ä½•ãŒä¾¿åˆ©ãªã® ? AWS ã§ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚°ãƒ©ãƒ¬ã‚³ã§è§£èª¬</a></li><li><a href="https://aws.amazon.com/jp/serverless/patterns/serverless-pattern/">å½¢ã§è€ƒãˆã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹è¨­è¨ˆ</a></li><li><a href="https://wa3.i-3-i.info/word17778.html">ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° (monitoring)</a></li><li><a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudWatch/latest/monitoring/cloudwatch_architecture.html">Amazon CloudWatch ã®ä»•çµ„ã¿</a></li><li><a href="https://docs.aws.amazon.com/ja_jp/wellarchitected/latest/serverless-applications-lens/wellarchitected-serverless-applications-lens.pdf">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ³ã‚º - AWS Well-Architected ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</a></li><li><a href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/monitoring-metrics.html">AWS Lambda é–¢æ•°ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ä½¿ç”¨</a></li><li><a href="https://docs.aws.amazon.com/ja_jp/streams/latest/dev/monitoring-with-cloudwatch.html">Amazon CloudWatch ã‚’ä½¿ç”¨ã—ãŸ Amazon Kinesis Data Streams ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</a></li><li><a href="https://kashionki38.hatenablog.com/entry/2020/04/19/010009">Kinesis, Lambdaã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯è§£ææ™‚ã®è€ƒæ…®ç‚¹</a></li><li><a href="https://aws.amazon.com/jp/premiumsupport/knowledge-center/kinesis-data-streams-iteratorage-metric/">Kinesis Data Streams ã§ IteratorAgeMilliseconds ã®å€¤ãŒå¢—ãˆç¶šã‘ã‚‹ã®ã¯ãªãœã§ã™ã‹?</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æ£šäº•é¾ä¹‹ä»‹ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€&lt;a href=&quot;/articles/20210531a/&quot;&gt;ã‚µãƒ¼</summary>
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ä¿å®ˆé‹ç”¨" scheme="https://future-architect.github.io/tags/%E4%BF%9D%E5%AE%88%E9%81%8B%E7%94%A8/"/>
    
    <category term="Serverless" scheme="https://future-architect.github.io/tags/Serverless/"/>
    
    <category term="Lambda" scheme="https://future-architect.github.io/tags/Lambda/"/>
    
    <category term="Kinesis" scheme="https://future-architect.github.io/tags/Kinesis/"/>
    
  </entry>
  
  <entry>
    <title>Serverlessé€£è¼‰2021ã‚’å§‹ã‚ã¾ã™</title>
    <link href="https://future-architect.github.io/articles/20210531a/"/>
    <id>https://future-architect.github.io/articles/20210531a/</id>
    <published>2021-05-30T15:00:00.000Z</published>
    <updated>2021-06-02T02:25:08.889Z</updated>
    
    <content type="html"><![CDATA[<p>ã“ã‚“ã«ã¡ã¯ã€‚TIGã®<a href="https://twitter.com/kaedemalu">ä¼Šè—¤å¤ªæ–‰</a>ã§ã™ã€‚</p><p>2021å¹´ã‚‚Serverlessé€£è¼‰ã‚’é–‹å‚¬ã—ã¾ã™ï¼</p><h2 id="ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦"><a href="#ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦" class="headerlink" title="ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦"></a>ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦</h2><img src="/images/20210531a/lightning-bolt-1203953_640.png" alt="" width="640" height="360" loading="lazy"><p>ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¯ã€ã€Œã‚µãƒ¼ãƒãƒ¼ãŒå­˜åœ¨ã—ãªã„ã€ã§ã¯ãªãã€Œã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†ã‚’ä¸è¦ã€ã‚‚ã—ãã¯æ¥µå°åŒ–ã™ã‚‹ã€ã“ã¨ã‚’ä¸»çœ¼ã«ãŠã„ãŸè€ƒãˆæ–¹ã§ã™ã€‚</p><p>ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã«ã¯å¿…ãšã¨è¨€ã£ã¦ã„ã„ã»ã©FaaSï¼ˆFunction as a Serviceï¼‰ãŒå­˜åœ¨ã—ã€ãã‚Œã‚‰ã‚’ä¸€èˆ¬çš„ã«ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦æ‰±ã£ã¦ã„ã¾ã™ã€‚ä»£è¡¨çš„ã«ã¯AWSã®Lambdaã€GCPã®Cloud Functionsãªã©ãŒè©²å½“ã—ã€ã©ã‚“ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«ã‚‚ç›®ã«ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p><p>ã‚¯ãƒ©ã‚¦ãƒ‰ãƒªãƒ•ãƒˆã«ãŠã„ã¦ã¯å¾“æ¥Cronãªã©ã‚’ã‚¸ãƒ§ãƒ–ã§å›ã—ã¦ã„ãŸã‚‚ã®ã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒ¬ã‚¤ãƒ¤ã«åˆ‡ã‚Šå‡ºã—ã¦ç®¡ç†ã—ã‚„ã™ãã—ãŸã‚Šã€æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã§ã¯å¾“æ¥ã®ã‚ˆã†ã«IaaSä¸­å¿ƒã®æ§‹æˆã§ã¯ãªãã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¤œè¨ã€åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚å¢—ãˆã¦ã„ã¾ã™ã€‚</p><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã§ã‚‚å…ˆæ—¥ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ä¸»ã¨ã—ãŸæ¡ˆä»¶ã®<a href="https://prtimes.jp/main/html/rd/p/000000465.000004374.html">ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹</a>ã‚’å±•é–‹ã—ã¦ãŠã‚Šã€ç¤¾å†…ã§ã‚‚é–¢å¿ƒãŒé«˜ã¾ã‚Šã€æµ¸æ½¤ã—ã¦ã„ã¾ã™ã€‚</p><p>ãã‚“ãªã‚ˆã‚Šç››ã‚Šä¸ŠãŒã‚Šã‚’è¦‹ã›ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦é€£è¼‰ã¨ã—ã¦2021å¹´ã‚‚å–ã‚Šä¸Šã’ã¾ã™ã€‚</p><h2 id="é€£è¼‰è¨ˆç”»"><a href="#é€£è¼‰è¨ˆç”»" class="headerlink" title="é€£è¼‰è¨ˆç”»"></a>é€£è¼‰è¨ˆç”»</h2><p>2021å¹´ã®é€£è¼‰é †ã¯ä»¥ä¸‹ã«ãªã£ã¦ã„ã¾ã™ï¼</p><p>æ²è¼‰é †ã‚„æ—¥ä»˜ãŒå¤‰ã‚ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€ã”äº†æ‰¿ãã ã•ã„ã€‚</p><table><thead><tr><th>æ—¥ä»˜</th><th>åå‰</th><th>ã‚¿ã‚¤ãƒˆãƒ«</th></tr></thead><tbody><tr><td>5/31</td><td>æ£šäº•é¾ä¹‹ä»‹</td><td><a href="/articles/20210531b/">Kinesis+Lambdaæ§‹æˆã§ã®ã€å‡¦ç†é…å»¶ã‚’ç›£è¦–ã™ã‚‹</a></td></tr><tr><td>6/1</td><td>çœŸé‡éš¼è¨˜</td><td><a href="/articles/20210601a/">15åˆ†ã®å£ã‚’è¶…ãˆã¦ã€‚Lambdaåˆ†æ•£å®Ÿè¡Œè¡“</a></td></tr><tr><td>6/2</td><td>ä¼Šè—¤çœŸå½¦</td><td><a href="/articles/20210602a/">Lambdaã«ãŠã‘ã‚‹Go Contextã®å–ã‚Šæ‰±ã„</a></td></tr><tr><td>6/3</td><td>è¾»å¤§å¿—éƒ</td><td>é™çš„è§£æã«ã‚ˆã‚‹InvalidãªAWS Lambdaé–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã®æ¤œçŸ¥</td></tr><tr><td>6/4</td><td>æ¾å·å–œè¦</td><td>ç¶šãƒ»ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³</td></tr></tbody></table><h2 id="æœ€å¾Œã«"><a href="#æœ€å¾Œã«" class="headerlink" title="æœ€å¾Œã«"></a>æœ€å¾Œã«</h2><p>ä»Šã‚„ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ä½¿ã†æ™‚ã«å¿…ãšã©ã“ã‹ã§åˆ©ç”¨ã™ã‚‹ã¨ã„ã£ã¦ã‚‚éè¨€ã§ã¯ãªã„ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ãŒã€ã‚µãƒ¼ãƒãƒ¼ã®ã“ã¨ã‚’ã‚ã‚‹ç¨‹åº¦æ°—ã«ã—ãªã„ï¼ˆ=ãƒãƒãƒ¼ã‚¸ãƒ‰ã«å¯„ã›ã‚‹ï¼‰ãªã©ç®¡ç†ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«ã‚‚ä»Šåº¦ã‚‚ã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ããŸã„ã§ã™ã­ï¼</p><p>2020å¹´ã®é€£è¼‰ã‚‚ãœã²è¦‹ã¦ãã ã•ã„ï¼</p><div class="iframely-embed"><div class="iframely-responsive" style="height: 140px; padding-bottom: 0;"><a href="https://future-architect.github.io/articles/20200322/index.html" data-iframely-url="//cdn.iframe.ly/api/iframe?url=https%3A%2F%2Ffuture-architect.github.io%2Farticles%2F20200322%2F&key=42622142e53a4cc5ab36703bcee5415f"></a></div></div><script async src="//cdn.iframe.ly/embed.js" charset="utf-8"></script>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ã“ã‚“ã«ã¡ã¯ã€‚TIGã®&lt;a href=&quot;https://twitter.com/kaedemalu&quot;&gt;ä¼Šè—¤å¤ªæ–‰&lt;/a&gt;ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;2021å¹´ã‚‚Serverlessé€£è¼‰ã‚’é–‹å‚¬ã—ã¾ã™ï¼&lt;/p&gt;
&lt;h2 id=&quot;ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤ã„ã¦&quot;&gt;&lt;a href=&quot;#ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«ã¤</summary>
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹" scheme="https://future-architect.github.io/tags/%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9/"/>
    
    <category term="Serverless" scheme="https://future-architect.github.io/tags/Serverless/"/>
    
  </entry>
  
  <entry>
    <title>Airflow Breeze ã‚’åˆ©ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§ Airflow ã‚’èµ·å‹•ã™ã‚‹</title>
    <link href="https://future-architect.github.io/articles/20210528a/"/>
    <id>https://future-architect.github.io/articles/20210528a/</id>
    <published>2021-05-27T15:00:00.000Z</published>
    <updated>2021-05-27T15:51:37.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h2><p>TIG ã®å¤šè³€ã§ã™ã€‚</p><p>OSS ã¨ã—ã¦ Airflow ã¸è²¢çŒ®ã™ã‚‹ã«ã‚ãŸã‚Šã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œã‚„ãƒ†ã‚¹ãƒˆã®ç’°å¢ƒæ•´å‚™ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ Airflow ã‚’åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å‹•ä½œç¢ºèªã‚’ã—ãŸã„ã‚±ãƒ¼ã‚¹ã¯å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚</p><p>Airflow ã§ã¯ã€ <code>Airflow Breeze</code> ã¨å‘¼ã°ã‚Œã‚‹ç’°å¢ƒãŒæ•´å‚™ã•ã‚Œã€å…¬å¼ã‚ˆã‚Šæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚å½“è¨˜äº‹ã§ã¯ã€ <code>Airflow Breeze</code> ã«ã¤ã„ã¦æ¦‚è¦ã‚’è¨˜è¼‰ã—ã€ Airflow ã¸ã® OSS è²¢çŒ®ã®å…¥ã‚Šå£ã¨ãªã‚Œã°è‰¯ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><h2 id="Airflow-Breeze-ã¨ã¯"><a href="#Airflow-Breeze-ã¨ã¯" class="headerlink" title="Airflow Breeze ã¨ã¯"></a>Airflow Breeze ã¨ã¯</h2><p>Airflow Breeze ã¨ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ Airflow ã‚’ç°¡å˜ã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«æ•´å‚™ã•ã‚ŒãŸç’°å¢ƒã‚’æŒ‡ã—ã¾ã™ã€‚å®Ÿæ…‹ã¯ã‚³ãƒ³ãƒ†ãƒŠãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã€Docker Compose ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><img src="/images/20210528a/AirflowBreeze_logo.png" alt="Airflow Breezeãƒ­ã‚´" loading="lazy"><p><a href="https://github.com/apache/airflow/blob/master/images/AirflowBreeze_logo.png">airflow/AirflowBreeze_logo.png at master Â· apache/airflow</a></p><p>Airflow Breeze ã®ç’°å¢ƒã‚’æ•´å‚™ã™ã‚‹ã“ã¨ã§ã€Airflow ãŒä¾å­˜ã™ã‚‹å¤–éƒ¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(MySQL, Redis, etc..) ã‚’å®Œå…¨ã«å«ã‚“ã ç’°å¢ƒã‚’ä½œæˆã§ãã¾ã™ã€‚<br>ä¸€æ–¹ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’çµæ§‹ä½¿ã†ãŸã‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚</p><p>è©³ç´°ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã¨ã—ã¦ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚å½“è¨˜äº‹ã§ã¯ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸæƒ…å ±ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚<br><a href="https://github.com/apache/airflow/blob/master/BREEZE.rst">airflow/BREEZE.rst at master Â· apache/airflow</a></p><h3 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h3><p>ä»¥ä¸‹ç’°å¢ƒã§æ•´å‚™ã—ã¾ã™ã€‚</p><ul><li>macOS Mojave 10.14.6</li><li>Docker version 20.10.6, build 370c289</li><li>docker-compose version 1.29.1, build c34c88b2</li><li>Airflow master branch (commit hash: 180df03482b07c18a57d20235ccdd1c3a12d9173)</li></ul><h3 id="Breeze-Install"><a href="#Breeze-Install" class="headerlink" title="Breeze Install"></a>Breeze Install</h3><p><code>getopt</code> ã¨ <code>gstat</code> ãŒå¿…è¦ãªãŸã‚ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install gnu-getopt coreutils</span><br></pre></td></tr></table></figure><p><code>getopt</code> å‘ã‘ã« PATH ã‚’é€šã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/opt/gnu-getopt/bin:<span class="variable">$PATH</span></span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â¯ getopt --version</span><br><span class="line">getopt from util-linux 2.36.2</span><br><span class="line"></span><br><span class="line">â¯ gstat --version</span><br><span class="line"><span class="built_in">stat</span> (GNU coreutils) 8.32</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Written by Michael Meskes.</span><br></pre></td></tr></table></figure><p>ã¤ã¥ã„ã¦ã€Airflow ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/apache/airflow.git</span><br></pre></td></tr></table></figure><p>clone ã—ãŸ Airflow ãƒªãƒã‚¸ãƒˆãƒªã¸ç§»å‹•ã—ã¦ã€Breeze ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ Airflow ã‚’ èµ·å‹•ã—ã¾ã™ã€‚<br>( <code>./breeze</code> å†…éƒ¨ã¯ é•·å¤§ãª Shell Script ã«ãªã£ã¦ã„ã¾ã™ã€‚)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze start-airflow</span><br></pre></td></tr></table></figure><p>ã“ã“ã‹ã‚‰å®Œäº†ã¾ã§ 10åˆ†ç¨‹åº¦å¾…ã¡ã¾ã™ã€‚</p><p>å®Œäº†ã™ã‚‹ã¨ã€Airflow ã‚³ãƒ³ãƒ†ãƒŠå†…ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚</p><p>è‡ªå‹•ã§ tmux ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒé–‹å§‹ã•ã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ãŒå‡ºã¦ãã¾ã™ã€‚</p><img src="/images/20210528a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-05-20_10.45.22.png" alt="tmuxã®ç”»é¢" loading="lazy"><p>å„ Pane ã”ã¨ã«æ•´ç†ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><table><thead><tr><th>Pane ä½ç½®</th><th></th><th>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰</th></tr></thead><tbody><tr><td>å·¦ä¸Š</td><td>airflow ã‚³ãƒ³ãƒ†ãƒŠã‚·ã‚§ãƒ«ãƒ­ã‚°ã‚¤ãƒ³</td><td>-</td></tr><tr><td>å³ä¸Š</td><td>airflow ui</td><td><code>cd /opt/airflow/airflow/www/; yarn install --frozen-lockfile; yarn dev</code></td></tr><tr><td>å·¦ä¸‹</td><td>airflow scheduler å®Ÿè¡Œ</td><td><code>airflow scheduler</code></td></tr><tr><td>å³ä¸‹</td><td>airflow webserver å®Ÿè¡Œ</td><td><code>airflow webserver</code></td></tr></tbody></table><p>Airflow ã®å®Ÿè¡Œã¨ tmux ã‚’çµ‚äº†ã—ãŸã„å ´åˆã¯ã€ <code>airflow_stop</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã§çµ‚äº†ã§ãã¾ã™ã€‚<br>ãƒ–ãƒ©ã‚¦ã‚¶ã§  <code>http://127.0.0.1:28080</code> ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã¨ Airflow UI ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚(ãƒ­ã‚°ã‚¤ãƒ³ã¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ å…±ã« <code>admin</code> ã§ã™ã€‚)</p><img src="/images/20210528a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-05-20_10.35.21.png" alt="Airflowç®¡ç†ç”»é¢" loading="lazy"><h3 id="Breeze-ç’°å¢ƒ"><a href="#Breeze-ç’°å¢ƒ" class="headerlink" title="Breeze ç’°å¢ƒ"></a>Breeze ç’°å¢ƒ</h3><p>ç’°å¢ƒå¤‰æ•° <code>AIRFLOW_HOME</code> ã¯ã€ <code>/root/airflow</code> ã«ãªã£ã¦ã„ã¾ã™ã€‚<br>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ã¯ã€ ç’°å¢ƒå¤‰æ•° <code>AIRFLOW_SOURCE</code> ã§ã‚ã‚‹ <code>/opt/airflow</code> é…ä¸‹ã«ãŠã‚Šã€ã“ã¡ã‚‰ã¯ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã® Airflow ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ã„ã¾ã™ã€‚(å¯¾è±¡ã¯ <code>.dockerignore</code> ã§çµã‚Šè¾¼ã¾ã‚Œã¦ã„ã‚‹ã®ã§å…¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ãªã„ã§ã™ã€‚)</p><p>å‹•ä½œç¢ºèªç”¨ã« DAG ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ãŸã„å ´åˆã€ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã® airflow ç›´ä¸‹ <code>./files/dags</code> ä»¥ä¸‹ã«é…ç½®ã™ã‚‹ã“ã¨ã§åæ˜ ã•ã‚Œã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠå†…ã® <code>AIRFLOW__CORE__DAGS_FOLDER</code> ç’°å¢ƒå¤‰æ•°ãŒã‚³ãƒ³ãƒ†ãƒŠå†… <code>/files/dags</code>  ã‚’æŒ‡ã—ã¦ãŠã‚Šã€ã‚³ãƒ³ãƒ†ãƒŠå†… <code>/files/dags</code> ã¯ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ä¸Šã® <code>./files/dags</code> ã‚’ãƒã‚¦ãƒ³ãƒˆã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚</p><p><a href="https://airflow.apache.org/docs/apache-airflow/stable/configurations-ref.html#dags-folder">AIRFLOW__CORE__DAGS_FOLDER â€” Airflow Documentation</a></p><p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ã‹ã‚‰ Airflow UI ã¸ã®åæ˜ ã¯5åˆ†ç¨‹åº¦ãƒ©ã‚°ãŒã‚ã‚Šã¾ã™ã€‚</p><img src="/images/20210528a/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ_2021-05-20_11.13.08.png" alt="Airflow UI" loading="lazy"><p><strong>â€» è£œè¶³</strong><br>UI åæ˜ ã®ãƒ©ã‚°ã‚’çŸ­ãã—ãŸã„å ´åˆã¯ã€ ã‚³ãƒ³ãƒ†ãƒŠå†… <code>/root/airflow/airflow.cfg</code> ã®ä»¥ä¸‹è¨­å®šå€¤ã‚’ä¿®æ­£ã®ä¸Šã€airflow webserver/scheduler ã‚’å†èµ·å‹•ã™ã‚‹ã“ã¨ã§åæ˜ ã§ãã¾ã™ã€‚<br>(â€» ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®èª­ã¿è¾¼ã¿é »åº¦ã‚’ä¸Šã’ã‚‹ã»ã©ã€ã‚µãƒ¼ãƒãƒ¼è² è·ã¯ä¸ŠãŒã‚Šã¾ã™ã€‚)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 5åˆ†è¨­å®šã®ãŸã‚ã‚ˆã‚ŠçŸ­ã„ç§’æ•°ã‚’æŒ‡å®š</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How often (in seconds) to scan the DAGs directory for new files. Default to 5 minutes.</span></span><br><span class="line">dag_dir_list_interval = 300</span><br></pre></td></tr></table></figure><h3 id="breeze-ã‚³ãƒãƒ³ãƒ‰"><a href="#breeze-ã‚³ãƒãƒ³ãƒ‰" class="headerlink" title="breeze ã‚³ãƒãƒ³ãƒ‰"></a>breeze ã‚³ãƒãƒ³ãƒ‰</h3><p>breeze ã‚³ãƒãƒ³ãƒ‰ã«ã¯ã„ãã¤ã‹ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p><code>ã‚³ãƒ³ãƒ†ãƒŠå†…ã‚·ã‚§ãƒ«ãƒ­ã‚°ã‚¤ãƒ³</code><br>(â€» airflow webserver/scheduler ã¯èµ·å‹•ã—ãªã„)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze (shell)</span><br></pre></td></tr></table></figure><p><code>å†èµ·å‹•</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze restart</span><br></pre></td></tr></table></figure><p><code>é–‹å§‹/åœæ­¢</code><br>(â€» airflow webserver/scheduler ã‚’èµ·å‹•ã™ã‚‹)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze start-airflow/stop</span><br></pre></td></tr></table></figure><p><code>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å‰Šé™¤</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze cleanup-image</span><br></pre></td></tr></table></figure><p>ãã®ä»–ã„ã‚ã„ã‚ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚<br><a href="https://github.com/apache/airflow/blob/master/BREEZE.rst#airflow-breeze-syntax">airflow/BREEZE.rst at master Â· apache/airflow</a></p><h3 id="ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"><a href="#ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ" class="headerlink" title="ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"></a>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h3><p>CI ã®ç’°å¢ƒã¨ã—ã¦ã‚‚åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>Airflow ã§ã¯ãƒ†ã‚¹ãƒˆã®ç¨®é¡ã¨ã—ã¦ã¯ä»¥ä¸‹3ç¨®é¡ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ (<a href="https://github.com/apache/airflow/blob/master/TESTING.rst#airflow-test-infrastructure">airflow/TESTING.rst at master Â· apache/airflow</a> ã‚ˆã‚Š)</p><ul><li>Unit Tests<ul><li>å˜ä½“ãƒ†ã‚¹ãƒˆã€‚è¿½åŠ ã® Integration ã¯ä¸è¦ã§ã‚ã‚Šã€Airflow å®Ÿè¡Œç’°å¢ƒå†…ã§å®Œçµã™ã‚‹ã€‚</li><li>ãƒ­ãƒ¼ã‚«ãƒ«ä»®æƒ³ç’°å¢ƒ or Breeze ç’°å¢ƒä¸‹ã§å®Ÿæ–½</li></ul></li><li>Integration Tests<ul><li>çµåˆãƒ†ã‚¹ãƒˆã€‚å¤–éƒ¨ Integration ã‚’ç”¨æ„ã—ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã€‚Integration ã¯å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¦å®Ÿæ–½ã™ã‚‹ã€‚(ã‚³ãƒ³ãƒ†ãƒŠåˆ©ç”¨)</li><li>Breeze ç’°å¢ƒä¸‹ã§å®Ÿæ–½</li></ul></li><li>System Tests<ul><li>ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã€‚å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã—ã¦è¡Œã†ãƒ†ã‚¹ãƒˆ</li><li>ã‚·ã‚¹ãƒ†ãƒ å®Ÿè¡Œç’°å¢ƒä¸‹(ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒç­‰) ã§å®Ÿéš›ã«å‹•ã‹ã™ãƒ†ã‚¹ãƒˆã‚’æŒ‡ã™</li></ul></li></ul><p>ã“ã“ã§ã¯ã€ Unit Tests ã¨ Integration Tests ã«ã¤ã„ã¦è©³ç´°ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚</p><h4 id="Unit-Tests"><a href="#Unit-Tests" class="headerlink" title="Unit Tests"></a>Unit Tests</h4><p>Breeze ç’°å¢ƒã¸ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ <code>pytest</code> ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ãƒ†ã‚¹ãƒˆå¯èƒ½ã§ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Breeze ç’°å¢ƒã¸ãƒ­ã‚°ã‚¤ãƒ³</span></span><br><span class="line">â¯ ./breeze shell</span><br><span class="line"></span><br><span class="line">root@b12df7904cd7:/opt/airflow<span class="comment"># pytest tests/core/test_core.py::TestCore::test_check_operators</span></span><br><span class="line">============================================================================== <span class="built_in">test</span> session starts ===============================================================================</span><br><span class="line">platform linux -- Python 3.6.13, pytest-6.2.4, py-1.10.0, pluggy-0.13.1 -- /usr/<span class="built_in">local</span>/bin/python</span><br><span class="line">cachedir: .pytest_cache</span><br><span class="line">rootdir: /opt/airflow, configfile: pytest.ini</span><br><span class="line">plugins: forked-1.3.0, rerunfailures-9.1.1, xdist-2.2.1, flaky-3.7.0, celery-4.4.7, timeouts-1.2.1, cov-2.11.1, httpx-0.12.0, instafail-0.4.2, requests-mock-1.9.2</span><br><span class="line">setup timeout: 0.0s, execution timeout: 0.0s, teardown timeout: 0.0s</span><br><span class="line">collected 1 item</span><br><span class="line"></span><br><span class="line">tests/core/test_core.py::TestCore::test_check_operators PASSED                                                                                                             [100%]</span><br><span class="line">========================================================================= 1 passed, 7 warnings <span class="keyword">in</span> 8.43s ==========================================================================</span><br></pre></td></tr></table></figure><h4 id="Integration-Test"><a href="#Integration-Test" class="headerlink" title="Integration Test"></a>Integration Test</h4><p>Breeze ç’°å¢ƒã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ Integration ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èµ·å‹•ã—ãªã„è¨­å®šã«ãªã£ã¦ãŠã‚Šã€è©²å½“ã® Integration Test ã‚‚ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚<br>Integration Test ã‚’å®Ÿæ–½ã—ãŸã„å ´åˆã¯ã€Breeze èµ·å‹•æ™‚ã«ãƒ•ãƒ©ã‚°ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Redis åˆ©ç”¨ãƒ†ã‚¹ãƒˆæº–å‚™</span></span><br><span class="line">./breeze --integration redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis ã‚³ãƒ³ãƒ†ãƒŠã‚‚èµ·å‹•ã•ã‚Œã‚‹</span></span><br><span class="line">â¯ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                                COMMAND                  CREATED          STATUS                    PORTS                                                                                      NAMES</span><br><span class="line">f9687f175fb7   apache/airflow:master-python3.6-ci   <span class="string">&quot;/usr/bin/dumb-init â€¦&quot;</span>   30 seconds ago   Up 21 seconds             0.0.0.0:25555-&gt;5555/tcp, :::25555-&gt;5555/tcp, 0.0.0.0:28080-&gt;8080/tcp, :::28080-&gt;8080/tcp   docker-compose_airflow_run_748d17ffd2bd</span><br><span class="line">c3fe4b732d64   redis:5.0.1                          <span class="string">&quot;docker-entrypoint.sâ€¦&quot;</span>   41 seconds ago   Up 37 seconds (healthy)   0.0.0.0:26379-&gt;6379/tcp, :::26379-&gt;6379/tcp                                                docker-compose_redis_1</span><br></pre></td></tr></table></figure><p>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯ã€ <code>pytest</code> ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã—ã¾ã™ã€‚<br>Integration ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®ãŸã‚ã«ã¯ã€ <code>--integration</code> ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ©ç”¨ã™ã‚‹ Integration ã‚’æŒ‡å®šã—ã¾ã™ã€‚å†…éƒ¨çš„ã«ã¯ <code>@pytest.mark.integration</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ¶å¾¡ã•ã‚Œã¦ãŠã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŒ‡å®šã—ãŸ Integration ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Breeze ç’°å¢ƒã¸ãƒ­ã‚°ã‚¤ãƒ³</span></span><br><span class="line">â¯ ./breeze shell</span><br><span class="line"></span><br><span class="line">root@319e81b37959:/opt/airflow<span class="comment"># pytest --tb=no --integration redis tests/providers/redis/hooks/</span></span><br><span class="line">__init__.py    test_redis.py</span><br><span class="line">root@319e81b37959:/opt/airflow<span class="comment"># pytest --tb=no --integration redis tests/providers/redis/hooks/test_redis.py::TestRedisHook::test_real_get_and_set</span></span><br><span class="line">============================================================================== <span class="built_in">test</span> session starts ===============================================================================</span><br><span class="line">platform linux -- Python 3.6.13, pytest-6.2.4, py-1.10.0, pluggy-0.13.1 -- /usr/<span class="built_in">local</span>/bin/python</span><br><span class="line">cachedir: .pytest_cache</span><br><span class="line">rootdir: /opt/airflow, configfile: pytest.ini</span><br><span class="line">plugins: forked-1.3.0, rerunfailures-9.1.1, xdist-2.2.1, flaky-3.7.0, celery-4.4.7, timeouts-1.2.1, cov-2.11.1, httpx-0.12.0, instafail-0.4.2, requests-mock-1.9.2</span><br><span class="line">setup timeout: 0.0s, execution timeout: 0.0s, teardown timeout: 0.0s</span><br><span class="line">collected 1 item</span><br><span class="line"></span><br><span class="line">tests/providers/redis/hooks/test_redis.py::TestRedisHook::test_real_get_and_set PASSED                                                                                     [100%]</span><br><span class="line"></span><br><span class="line">=============================================================================== 1 passed <span class="keyword">in</span> 1.34s ================================================================================</span><br></pre></td></tr></table></figure><h4 id="Kubernetes-Tests"><a href="#Kubernetes-Tests" class="headerlink" title="Kubernetes Tests"></a>Kubernetes Tests</h4><p>Integration Tests ã®ä¸€ç¨®ã§ã‚ã‚‹ã€Kubernetes ä¸Šã§ã®å®Ÿè¡Œã®ãƒ†ã‚¹ãƒˆã‚‚ Breeze ä¸Šã§å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚(æ¨™æº–ã§æ•´å‚™ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚‚ Kubernetes ä¸Šã§ã®å®Ÿè¡ŒãŒå½“ãŸã‚Šå‰ãªä¸–ç•ŒãŒå£é–“è¦‹ãˆã¾ã™ã­ã€‚)<br>Kubernetes Cluster ã¯ <a href="https://kind.sigs.k8s.io/">Kind</a> ã‚’åˆ©ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒä¸Šã«èµ·å‹•ã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze kind-cluster start</span><br></pre></td></tr></table></figure><p>Cluster ãŒèµ·å‹•ã—ãŸã‚‰ã€Airflow ã‚’ Kubernetes ã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚(å°‘ã—å¾…ã¡ã¾ã™)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze kind-cluster deploy</span><br></pre></td></tr></table></figure><p>ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã™ã‚‹ã¨ Airflow ãŒ Kubernetes ä¸Šã§èµ·å‹•ã—ã¦ã¾ã™ã€‚<br><code>http://127.0.0.1:8080</code> ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ Airflow UI ãŒç¢ºèªã§ãã¾ã™ã€‚(â€» ãƒãƒ¼ãƒˆãŒ Breeze ã¨é•ã†ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼/ãƒ‘ã‚¹ã¯ <code>admin</code> ã§ã™ã€‚)</p><img src="/images/20210528a/Pasted_image_20210520175955.png" alt="Airflow UI" loading="lazy"><p>ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ä¸Šã§ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ã€‚<br>(ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ä¸Šã«ä»®æƒ³ç’°å¢ƒãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰å†…ã§ <code>./scripts/ci/kubernetes/ci_run_kubernetes_tests.sh</code> (<a href="https://github.com/apache/airflow/blob/master/scripts/ci/kubernetes/ci_run_kubernetes_tests.sh">å‚ç…§</a>)ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">â¯ ./breeze kind-cluster <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">============================================================================== <span class="built_in">test</span> session starts ===============================================================================</span><br><span class="line">platform darwin -- Python 3.6.9, pytest-6.2.4, py-1.10.0, pluggy-0.13.1 -- /Users/taga3041/.ghq/github.com/apache/airflow/.build/.kubernetes_venv/airflow-python-3.6-v1.20.2_host_python_3.6/bin/python3</span><br><span class="line">cachedir: .pytest_cache</span><br><span class="line">rootdir: /Users/taga3041/.ghq/github.com/apache/airflow, configfile: pytest.ini</span><br><span class="line">plugins: cov-2.11.1</span><br><span class="line">collected 53 items</span><br><span class="line"></span><br><span class="line">kubernetes_tests/test_kubernetes_executor.py::TestKubernetesExecutor::test_integration_run_dag PASSED                                                                      [  1%]</span><br><span class="line">kubernetes_tests/test_kubernetes_executor.py::TestKubernetesExecutor::test_integration_run_dag_with_scheduler_failure PASSED                                               [  3%]</span><br><span class="line">kubernetes_tests/test_kubernetes_pod_operator.py::TestKubernetesPodOperatorSystem::test_config_path_move PASSED                                                            [  5%]</span><br><span class="line">...</span><br><span class="line">kubernetes_tests/test_other_executors.py::TestCeleryAndLocalExecutor::test_integration_run_dag SKIPPED (Does not run on KubernetesExecutor)                                [ 98%]</span><br><span class="line">kubernetes_tests/test_other_executors.py::TestCeleryAndLocalExecutor::test_integration_run_dag_with_scheduler_failure SKIPPED (Does not run on KubernetesExecutor)         [100%]</span><br><span class="line"></span><br><span class="line">============================================================= 51 passed, 2 skipped, 4 warnings <span class="keyword">in</span> 404.65s (0:06:44) ==============================================================</span><br><span class="line">Exported logs <span class="keyword">for</span> cluster <span class="string">&quot;airflow-python-3.6-v1.20.2&quot;</span> to:</span><br><span class="line">/tmp/kind_logs_2021-05-20_0_0</span><br></pre></td></tr></table></figure><p>æœ€å¾Œã« Cluster ã‚’åœæ­¢ã—ã¾ã™ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./breeze kind-cluster stop</span><br></pre></td></tr></table></figure><h2 id="æ‰€æ„Ÿ"><a href="#æ‰€æ„Ÿ" class="headerlink" title="æ‰€æ„Ÿ"></a>æ‰€æ„Ÿ</h2><p>Airflow ã«ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ/ãƒ†ã‚¹ãƒˆç’°å¢ƒå‘ã‘ã® Airflow Breeze ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<code>./breeze</code> ã‚³ãƒãƒ³ãƒ‰ã§è«¸ã€…æ•´å‚™ã•ã‚Œã¦ã„ã¦ä¾¿åˆ©ã§ã™ãŒã€æ§˜ã€…ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒé–¢ä¸ã—ã¦ã„ã‚‹ãŸã‚ã€å‹•ã‹ã™ã®ã«å°‘ã—è‹¦åŠ´ã—ã¾ã—ãŸ(ãƒ—ãƒ­ã‚­ã‚·å‘¨ã‚ŠãŒã»ã¨ã‚“ã©ã§ã™ãŒ)ã€‚</p><p>ãã‚Œã ã‘è¤‡é›‘ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæƒ³å®šã•ã‚Œã¦ã„ã¦ã€OSS ã§ã“ã“ã¾ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã®ã¯æ”¹ã‚ã¦ã™ã”ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚</p><p>Airflow ã¯ã‚¯ã‚»ãŒå¼·ã„ã§ã™ãŒ æœ€è¿‘(2020/12) ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.0 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚ŒãŸã‚Šã—ã¦ã€ç©æ¥µçš„ã«æ”¹å–„ã•ã‚Œã¦ãŠã‚Šä»Šå¾Œã‚‚æ³¨ç›®ãª OSS ã ã¨æ€ã„ã¾ã™ã€‚æ¬¡ã¯ä½•ã‹ã—ã‚‰ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã—ãŸã„ã§ã™ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/apache/airflow/blob/master/BREEZE.rst#running-kubernetes-tests">airflow/BREEZE.rst at master Â· apache/airflow</a></li><li><a href="https://github.com/apache/airflow/blob/master/TESTING.rst#running-tests-with-kubernetes">airflow/TESTING.rst at master Â· apache/airflow</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ¦‚è¦&quot;&gt;&lt;a href=&quot;#æ¦‚è¦&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¦&quot;&gt;&lt;/a&gt;æ¦‚è¦&lt;/h2&gt;&lt;p&gt;TIG ã®å¤šè³€ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;OSS ã¨ã—ã¦ Airflow ã¸è²¢çŒ®ã™ã‚‹ã«ã‚ãŸã‚Šã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œã‚„ãƒ†ã‚¹ãƒˆã®ç’°å¢ƒæ•´å‚™ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="OSS" scheme="https://future-architect.github.io/tags/OSS/"/>
    
    <category term="Airflow" scheme="https://future-architect.github.io/tags/Airflow/"/>
    
  </entry>
  
  <entry>
    <title>Future Tech Night #9 ï½é‹ç”¨ã§å¾Œæ‚”ã—ãªã„ãŸã‚ã®AWSè¨­è¨ˆè¡“ï½ã€€ã‚’é–‹å‚¬ã—ã¾ã—ãŸã€‚</title>
    <link href="https://future-architect.github.io/articles/20210527a/"/>
    <id>https://future-architect.github.io/articles/20210527a/</id>
    <published>2021-05-26T15:00:00.000Z</published>
    <updated>2021-05-27T01:16:44.214Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã“ã‚“ã«ã¡ã¯ã€‚TIGæ‘ç€¬ã§ã™ã€‚</p><p>2021/4/21(æ°´)ã«<a href="https://future.connpass.com/event/209778/">Future Tech Night #9 ï½é‹ç”¨ã§å¾Œæ‚”ã—ãªã„ãŸã‚ã®AWSè¨­è¨ˆè¡“ï½</a>ã‚’é–‹å‚¬ã—ã¾ã—ãŸã€‚<br>ç§ã¯ã€é‹ç”¨ã¾ã§è€ƒæ…®ã—ãŸã‚¯ãƒ©ã‚¦ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã§ãã¦ã„ã¾ã™ã‹ï¼Ÿã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ãŠè©±ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><script async class="speakerdeck-embed" data-id="104031a6a5794ecaa26d0e160e660617" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script><h1 id="ç™ºè¡¨å†…å®¹"><a href="#ç™ºè¡¨å†…å®¹" class="headerlink" title="ç™ºè¡¨å†…å®¹"></a>ç™ºè¡¨å†…å®¹</h1><p>è¨­è¨ˆã¨ç•°ãªã‚Šé‹ç”¨ã¯ã‚µãƒ¼ãƒ“ã‚¹ãŒçµ‚äº†ã™ã‚‹ã¾ã§ãšã£ã¨ç¶šãã¾ã™ã€‚</p><p>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã®ä¸­ã«ã¯è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºã¾ã§ã—ã‹é–¢ã‚ã‚‰ãšã€é‹ç”¨æ‹…å½“è€…ã®è‹¦åŠ´ã‚’çŸ¥ã‚‰ãªã„äººã‚‚ã„ã‚‹ã®ã§ã¯ï¼Ÿã¨æ€ã„ã€é‹ç”¨ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸè¨­è¨ˆã®è©±ã‚’ã—ã¾ã—ãŸã€‚<br>ç›®æ¬¡ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p><ul><li>ä¼šç¤¾ç´¹ä»‹</li><li>ã‚·ã‚¹ãƒ†ãƒ ãŒå¢—åŠ ã—ã¦ã„ã£ã¦ã‚‚è€ãˆã‚‰ã‚Œã‚‹è¨­è¨ˆã‚’ã—ã‚ˆã†</li><li>ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç™ºç”Ÿã‹ã‚‰æ—©æœŸå¾©æ—§ã®ãŸã‚ã«</li><li>è¸ã¿å°ã«ã¤ã„ã¦</li><li>è¨­å®šä¸€ã¤ã§è‡ªå‹•çš„ã«å‰Šé™¤ã—ã‚ˆã†</li><li>ã¾ã¨ã‚</li></ul><p>è¦–è´è€…ã«ä¸€ã¤ã§ã‚‚æ–°ç™ºè¦‹ãŒã‚ã‚Œã°è‰¯ã„ãªã¨æ€ã„ã€AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­è¨ˆã€ç›£è¦–ãƒã‚¤ãƒ³ãƒˆã€è¸ã¿å°ã®å–ã‚Šæ‰±ã„ã¨å¤§å°æ§˜ã€…ãªãƒã‚¤ãƒ³ãƒˆã‚’èª¬æ˜ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><h2 id="å†…å®¹ã‚’ãƒãƒ©è¦‹ã›"><a href="#å†…å®¹ã‚’ãƒãƒ©è¦‹ã›" class="headerlink" title="å†…å®¹ã‚’ãƒãƒ©è¦‹ã›"></a>å†…å®¹ã‚’ãƒãƒ©è¦‹ã›</h2><img src="/images/20210527a/p1.png" alt="AWSã‚¤ãƒ³ãƒ•ãƒ©ã®å•é¡Œ" width="956" height="536" loading="lazy"><img src="/images/20210527a/p2.png" alt="ç›£è¦–å¯¾è±¡ã®å›³ã€‚LB,EC2,DB" width="959" height="539" loading="lazy"><p>æ°—ã«ãªã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã—ãŸã‚‰<a href="https://future.connpass.com/event/209778/presentation/">ç™ºè¡¨è³‡æ–™</a>ã‚‚è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚</p><h1 id="ã•ã„ã”ã«"><a href="#ã•ã„ã”ã«" class="headerlink" title="ã•ã„ã”ã«"></a>ã•ã„ã”ã«</h1><p>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã§ã¯å¤§è¦æ¨¡æ¡ˆä»¶ã‚’å–ã‚Šæ‰±ã†ã“ã¨ãŒå¤§åŠãªã®ã§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã‚’ã—ã£ã‹ã‚Šè¡Œã‚ãªã„ã¨éæ©Ÿèƒ½è¦ä»¶ãŒæº€ãŸã›ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç ´ç¶»ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p><p>æœªæ¥ã‚’è¦‹é€šã™ã®ã¯ãªã‹ãªã‹é›£ã—ã„ã§ã™ãŒå¾Œã«ãªã£ã¦å¤§å¹…ãªè¨­è¨ˆè¦‹ç›´ã—ã‚’ã—ãªã„ã§æ¸ˆã‚€ã‚ˆã†æœ€åˆã‹ã‚‰ãƒãƒã‚Šã©ã“ã‚ã‚’æŠ¼ã•ãˆãŸä¸Šã§è¨­è¨ˆã‚’ã—ã¾ã—ã‚‡ã†ã€‚ã¾ãŸé‹ç”¨æ‹…å½“è€…ã«å–œã°ã‚Œã‚‹ã‚ˆã†ãªè¨­è¨ˆã‚’å¿ƒæ›ã‘ã¾ã—ã‚‡ã†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;ã“ã‚“ã«ã¡ã¯ã€‚TIGæ‘ç€¬ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;2021/4/21(æ°´)ã«&lt;a href=&quot;https://future.con</summary>
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="ç™»å£‡ãƒ¬ãƒãƒ¼ãƒˆ" scheme="https://future-architect.github.io/tags/%E7%99%BB%E5%A3%87%E3%83%AC%E3%83%9D%E3%83%BC%E3%83%88/"/>
    
    <category term="AWS" scheme="https://future-architect.github.io/tags/AWS/"/>
    
    <category term="ä¿å®ˆé‹ç”¨" scheme="https://future-architect.github.io/tags/%E4%BF%9D%E5%AE%88%E9%81%8B%E7%94%A8/"/>
    
    <category term="TechNight" scheme="https://future-architect.github.io/tags/TechNight/"/>
    
  </entry>
  
  <entry>
    <title>é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯</title>
    <link href="https://future-architect.github.io/articles/20210526b/"/>
    <id>https://future-architect.github.io/articles/20210526b/</id>
    <published>2021-05-25T15:00:01.000Z</published>
    <updated>2021-05-26T06:49:04.704Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h1><p>ã¯ã˜ã‚ã¾ã—ã¦ã€ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã‚¤ãƒ³ã‚¹ãƒšãƒ¼ã‚¹ã®çŸ³å´ã§ã™ã€‚</p><p>ç§ã®çµŒæ­´ã§ã™ãŒã€ç´„13å¹´å‰ITæ¥­ç•Œã¸ç•°æ¥­ç¨®è»¢è·ã—ãŸã¨ã“ã‚ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã€‚æ–°äººé–‹ç™ºè€…ã¨ã—ã¦æŸã‚³ãƒ³ãƒ“ãƒ‹ã®é–‹ç™ºPJã«ã‚¢ã‚µã‚¤ãƒ³ã•ã‚Œã€ãã®ã¾ã¾åŒPJã®24h365dé‹ç”¨ãƒãƒ¼ãƒ ç«‹ä¸Šã’ã«æºã‚ã‚Šã€é‹ç”¨ä¿å®ˆãƒ•ã‚§ãƒ¼ã‚ºã‚’çµŒé¨“ã€‚ä»¥é™ã¯è¤‡æ•°ã®é‹ç”¨ä¿å®ˆè¨­è¨ˆã‚„é‹ç”¨æ”¹å–„ã®æ¡ˆä»¶ã«å‚ç”»ã—ã€ä»Šã«è‡³ã‚Šã¾ã™ã€‚</p><p>é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ãƒã‚¿ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã¿ãªã„ï¼Ÿã¨ãŠèª˜ã„ã‚’å—ã‘ãŸã®ã§ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¾ã™ã€‚</p><p>èª­ã‚“ã æ–¹ã«é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é¢ç™½ã•ã‚„é›£ã—ã•ãŒä¼ã‚ã£ãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚</p><h1 id="ä»Šå›ã®å†…å®¹"><a href="#ä»Šå›ã®å†…å®¹" class="headerlink" title="ä»Šå›ã®å†…å®¹"></a>ä»Šå›ã®å†…å®¹</h1><p>ä»Šå›ã¯é‹ç”¨ä¿å®ˆè¨­è¨ˆãŒã©ã†ã„ã£ãŸã‚‚ã®ãªã®ã‹ã€ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸å‡ºæ¥ã‚‹å†…å®¹ã¨ã—ã¦ä»¥ä¸‹ã‚’ãƒãƒ§ã‚¤ã‚¹ã—ã¾ã—ãŸã€‚</p><ol><li><a href="#%EF%BC%881%EF%BC%89%E9%81%8B%E7%94%A8%E4%BF%9D%E5%AE%88%E8%A8%AD%E8%A8%88%E3%81%A8%E3%81%AF%E4%BD%95%E3%81%AA%E3%81%AE%E3%81%8B%EF%BC%9F">é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯ä½•ãªã®ã‹ï¼Ÿ</a></li><li><a href="#%EF%BC%882%EF%BC%89%E9%81%8B%E7%94%A8%E4%BF%9D%E5%AE%88%E8%A8%AD%E8%A8%88%E3%81%A7%E9%9D%A2%E7%99%BD%E3%81%84%E3%81%A8%E3%81%93%E3%82%8D">é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é¢ç™½ã„ã¨ã“ã‚</a></li><li><a href="#%EF%BC%883%EF%BC%89%E9%81%8B%E7%94%A8%E4%BF%9D%E5%AE%88%E8%A8%AD%E8%A8%88%E3%81%AE%E9%9B%A3%E3%81%97%E3%81%84%E3%81%A8%E3%81%93%E3%82%8D">é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚</a></li></ol><h1 id="ï¼ˆ1ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯ä½•ãªã®ã‹ï¼Ÿ"><a href="#ï¼ˆ1ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯ä½•ãªã®ã‹ï¼Ÿ" class="headerlink" title="ï¼ˆ1ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯ä½•ãªã®ã‹ï¼Ÿ"></a>ï¼ˆ1ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã¯ä½•ãªã®ã‹ï¼Ÿ</h1><img src="/images/20210526b/gears-5193383_640.png" alt="ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒ" width="640" height="512" loading="lazy"><blockquote><p><a href="https://pixabay.com/ja/users/loginueve_ilustra-12954610/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5193383">Hugo Hercer</a>ã«ã‚ˆã‚‹<a href="https://pixabay.com/ja/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5193383">Pixabay</a>ã‹ã‚‰ã®ç”»åƒ</p></blockquote><p>å‡„ãç«¯çš„ã«è¨€ã†ã¨ã€ã‚·ã‚¹ãƒ†ãƒ ãŒç¨¼åƒã—ãŸå¾Œã®ã“ã¨ã‚’åˆ©ç”¨è€…(ãƒ¦ãƒ¼ã‚¶ãƒ¼)ã§ã¯ãªã„è¦–ç‚¹ã§ã€ã‚ã‚Œã‚„ã“ã‚Œã‚„ã¨è€ƒãˆã¦ã©ã†ã™ã‚‹ã‹æ±ºã‚ã¦ã„ãã“ã¨ã§ã™ã€‚</p><p>ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè¨­è¨ˆãŒåˆ©ç”¨è€…è¦–ç‚¹ã§é€²ã‚“ã§ã„ãã®ã«å¯¾ã—ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã¯ã‚·ã‚¹ãƒ†ãƒ è‡ªä½“ã‚’å‹•ã‹ã™é‹ç”¨ä¿å®ˆæ‹…å½“è€…ã®è¦–ç‚¹ã§é€²ã‚“ã§ã„ãã¾ã™ã€‚</p><p>ä¾‹ãˆã°ã€è»Šè‡ªä½“ã‚’ä½œã‚‹ã®ãŒã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè¨­è¨ˆã ã¨ã—ãŸã‚‰ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã¯ã€ãã®è»Šã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ–¹æ³•ã‚’è€ƒãˆã‚‹ã‚ˆã†ãªä½ç½®ä»˜ã‘ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚</p><p>ãã®ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸­ã«ã¯ãƒ¡ãƒ³ãƒãƒ¼ãŒæ¥­å‹™è¦ä»¶ã‚„ã‚¢ãƒ—ãƒªä»•æ§˜ã‚’é¡§å®¢ã¨è©°ã‚ã¦ã„ã‚‹ã¨ãã«ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã®æ‹…å½“ã¯ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ã„ãŸå¾Œã®ã“ã¨ã‚’é¡§å®¢ã¨ä¸€ç·’ã«å¦„æƒ³ã—ã¦ã„ã¾ã™ã€‚</p><ul><li>ã‚·ã‚¹ãƒ†ãƒ ãŒåœæ­¢ã—ãŸæ™‚ã¯ã©ã‚Œãã‚‰ã„ã§å…ƒã®çŠ¶æ…‹ã«å¾©æ—§ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã‹</li><li>ã“ã†ã„ã£ãŸã“ã¨ãŒèµ·ããŸã¨ãã¯èª°ã«é€£çµ¡ã™ã‚Œã°æœ€é©ãªå¯¾å¿œãŒå–ã‚Œã‚‹ã®ã‹</li></ul><p>â€¦ãªã©æ§˜ã€…ãªè§’åº¦ã‹ã‚‰è¨­è¨ˆã—ã¾ã™ã€‚</p><h2 id="é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ç¯„å›²"><a href="#é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ç¯„å›²" class="headerlink" title="é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ç¯„å›²"></a>é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ç¯„å›²</h2><p>åŸºæœ¬çš„ã«ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã‚¤ãƒ³ãƒ•ãƒ©ã¾ã§å…¨ã¦ã‚’è¨­è¨ˆç¯„å›²ã¨ã—ã¦ã„ã¾ã™ã€‚<br>â€»ã‚·ã‚¹ãƒ†ãƒ ã¯ã‚¢ãƒ—ãƒªã‚„ã‚¤ãƒ³ãƒ•ãƒ©ãªã©è¤‡é›‘ã«çµ¡ã¿åˆã„ãªãŒã‚‰å‹•ãã®ã§ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã‚’è¡Œã†å ´åˆã¯ä¸€æ°—é€šè²«ã§è¡Œã†ã®ãŒåŸºæœ¬ã¨ãªã£ã¦ã„ã¾ã™ã€‚</p><p>ãã®ãŸã‚ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã®ãŸã‚ã«èª­è¾¼ã¿ãŒå¿…è¦ãªã‚¤ãƒ³ãƒ—ãƒƒãƒˆã¯ã¨ã¦ã‚‚å¤šã„ã§ã™ã€‚</p><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä»•æ§˜ç†è§£ã®ãŸã‚ã«è¦ä»¶å®šç¾©è³‡æ–™ã‹ã‚‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°è¨­è¨ˆæ›¸ãªã©ã€ã‚¤ãƒ³ãƒ•ãƒ©ç†è§£ã®ãŸã‚ã«åŸºç›¤è¨­è¨ˆæ›¸ã‚„ã€æ™‚ã«ã¯ã‚½ãƒ¼ã‚¹ã‚„OSãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç¢ºèªã‚‚è¡Œã„ã¾ã™ã€‚</p><h1 id="ï¼ˆ2ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã§é¢ç™½ã„ã¨ã“ã‚"><a href="#ï¼ˆ2ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã§é¢ç™½ã„ã¨ã“ã‚" class="headerlink" title="ï¼ˆ2ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã§é¢ç™½ã„ã¨ã“ã‚"></a>ï¼ˆ2ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã§é¢ç™½ã„ã¨ã“ã‚</h1><p>å„ç¾å ´ã§æ‹…å½“ã•ã‚Œã¦ã„ã‚‹æ–¹ã¯è‰²ã€…ã‚ã‚‹ã¨ã¯æ€ã„ã¾ã™ãŒã€å€‹äººçš„ã«ã¯ã€Œé‹ç”¨ä¿å®ˆè¨­è¨ˆã®æœ€é©è§£ã€ã‚’è‡ªèº«ã§è€ƒãˆã¦è¨­è¨ˆã§ãã‚‹ã¨ã“ã‚ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</p><p>æœ€é©è§£ã®å®šç¾©ã‹ã‚‰è‡ªèº«ã§è€ƒãˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½œã£ã¦ã„ãã®ã¯å¤§å¤‰ã§ã™ãŒã€ã¨ã¦ã‚‚é¢ç™½ã„ã§ã™ã€‚</p><p>ãƒªã‚¹ã‚¯ã‚„ã‚³ã‚¹ãƒˆã€ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãªã©å‰æã‚’å…·ä½“åŒ–ã—ã¦æ¡ä»¶ã‚’æ•´ç†ã—ã€ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒå¾Œã‚’å¦„æƒ³ã—ã¦è¨­è¨ˆã€æ›´ã«ãã‚Œã‚’é¡§å®¢ã‚„PJãƒ¡ãƒ³ãƒãƒ¼ã¨è­°è«–ã€‚å…±æ„Ÿã‚„å¦å®šã•ã‚ŒãŸã¨ã“ã‚ã‚’æ•´ç†ã—ã¾ãŸå¦„æƒ³ã—ã¦è¨­è¨ˆã€ã¨ä¸€ã¤ä¸€ã¤ç©ã¿é‡ã­ã¦è¡Œãã¾ã™ã€‚</p><p>ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ã¨ã—ã¦ã‚‚å„ç¨®é ˜åŸŸã‚’ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã™å´ã‹ã‚‰è€ƒãˆã‚‹é‹ç”¨ä¿å®ˆè¨­è¨ˆã¯ã€ä¸­å …ã‚„ãƒ™ãƒ†ãƒ©ãƒ³ã«ãªã‚Œã°ã“ã‚Œã¾ã§ã®ãƒã‚¦ãƒã‚¦ã‚’ç”Ÿã‹ã™ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®å ´ã¨ã—ã¦ã€ã‚­ãƒ£ãƒªã‚¢ãŒæµ…ã„æ™‚ã¯è‰²ã€…ãªé ˜åŸŸã‚’çŸ¥ã‚‹ãŸã‚ã®å ´ã¨ã—ã¦ã‚‚ã€é¢ç™½ã„é ˜åŸŸã ã¨å€‹äººçš„ã«æ€ã„ã¾ã™ã€‚</p><p>è‡ªèº«ã§è¨­è¨ˆå®Ÿè£…ã—ãŸã‚‚ã®ãŒã‚·ã‚¹ãƒ†ãƒ ã®ç¨¼åƒå¾Œã«ã©ã†ãªã‚‹ã‹ã‚‚ç¢ºèªå‡ºæ¥ã‚‹ã®ã§ã€å…¨ã¦ãŒæƒ³å®šé€šã‚Šã ã£ãŸæ™‚ã¯ã¨ã¦ã‚‚æ°—æŒã¡è‰¯ã„ã§ã™ã‚ˆã€‚</p><h1 id="ï¼ˆ3ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚"><a href="#ï¼ˆ3ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚" class="headerlink" title="ï¼ˆ3ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚"></a>ï¼ˆ3ï¼‰é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚</h1><p>å¤§ãã2ã¤ã‚ã‚Šã¾ã™ã€ã“ã“ã¯å„ç¾å ´ã§é‹ç”¨ä¿å®ˆè¨­è¨ˆã‚’æ‹…å½“ã•ã‚Œã¦ã„ã‚‹æ–¹ã‚‚è‹¦åŠ´ã•ã‚Œã¦ã„ã‚‹ã¨ã“ã‚ã§ã—ã‚‡ã†ã€‚</p><h2 id="3-1-å®Ÿéš›ã«å‹•ã‹ã™ã®ãŒäººé–“ã®å ´åˆã‚‚ã‚ã‚‹ã“ã¨"><a href="#3-1-å®Ÿéš›ã«å‹•ã‹ã™ã®ãŒäººé–“ã®å ´åˆã‚‚ã‚ã‚‹ã“ã¨" class="headerlink" title="3-1. å®Ÿéš›ã«å‹•ã‹ã™ã®ãŒäººé–“ã®å ´åˆã‚‚ã‚ã‚‹ã“ã¨"></a>3-1. å®Ÿéš›ã«å‹•ã‹ã™ã®ãŒäººé–“ã®å ´åˆã‚‚ã‚ã‚‹ã“ã¨</h2><p>é‹ç”¨ä¿å®ˆè¨­è¨ˆã—ãŸã‚‚ã®ã‚’å®Ÿéš›ã«å‹•ã‹ã™ã®ãŒäººé–“ã§ã‚ã‚‹å ´åˆã‚‚ã‚ã‚‹ã“ã¨ã€ã§ã™ã€‚</p><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Œã°ã€ãƒã‚¯ãŒç„¡ã‘ã‚Œã°åŸºæœ¬çš„ã«å®Ÿè£…é€šã‚Šã«å‹•ãã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ã»ã©å˜˜ã‚’ã¤ã‹ãšä¿¡ç”¨ã§ãã‚‹å¥´ã¯ã„ãªã„ã€ã¨ã¾ã§å€‹äººçš„ã«ã¯è€ƒãˆã¦ã„ã¾ã™ã€‚<br>â€»ã‚·ã‚¹ãƒ†ãƒ ãŒæƒ³å®šã¨é•ã†å‹•ãã‚’ã—ã¦ã„ã‚‹ã¨ãã¯ã€åŸºæœ¬çš„ã«äººé–“ãŒå‹˜é•ã„ã—ã¦ã„ã‚‹ã‹è¨­è¨ˆãƒŸã‚¹ã—ã¦ã„ã‚‹ã€‚</p><p>ã—ã‹ã—ã€äººé–“ãŒå‹•ã‹ã™ã¨ãªã‚‹ã¨è©±ãŒå…¨ç„¶é•ã£ã¦ãã¾ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã äººé–“ã®è§£é‡ˆã¯ç„¡é™å¤§ã§ã€èª­ã‚“ã äººã®çµŒé¨“ã‚„ã€æ™‚ã«ã¯ãã®æ™‚ã®ãƒ¡ãƒ³ã‚¿ãƒ«ã‚„ãƒ•ã‚£ã‚¸ã‚«ãƒ«ã®çŠ¶æ³ã¾ã§å½±éŸ¿ã—ã¾ã™ã€‚</p><p>ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’çµŒé¨“ã—ã¦ããŸã‹ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©é–‹ç™ºã‚’çµŒé¨“ã—ã¦ããŸã‹ã€æ§˜ã€…ãªè¦å› ã§è§£é‡ˆã‚„ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«å·®ãŒå‡ºã¾ã™ã€‚ãƒ¡ãƒ³ã‚¿ãƒ«ã®ä¾‹ã‚’æŒ™ã’ã‚‹ã¨ã€å¤§å‹ä¼‘æš‡æ˜ã‘ã®äººã¯ä¼‘æš‡å‰ã‚ˆã‚Šã‚‚èª­ã¿é•ã„ã‚’èµ·ã“ã—ã‚„ã™ã„ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><p>ãã®ãŸã‚ã€ãã†ã„ã£ãŸå½±éŸ¿ã‚’å—ã‘ãªã„ã€ãŸã¨ãˆå—ã‘ãŸã¨ã—ã¦ã‚‚ãƒªã‚«ãƒãƒªãŒå¯èƒ½ãªè¨­è¨ˆã¨ã„ã†ã‚‚ã®ãŒé‡è¦ã§ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é›£ã—ã„ã¨ã“ã‚ã§ã™ã€‚</p><h2 id="3-2-é‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã„ã†åˆ¤æ–­ã«å¯¾ã™ã‚‹å‚™ãˆ"><a href="#3-2-é‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã„ã†åˆ¤æ–­ã«å¯¾ã™ã‚‹å‚™ãˆ" class="headerlink" title="3-2. é‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã„ã†åˆ¤æ–­ã«å¯¾ã™ã‚‹å‚™ãˆ"></a>3-2. é‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã„ã†åˆ¤æ–­ã«å¯¾ã™ã‚‹å‚™ãˆ</h2><p>é‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã„ã†åˆ¤æ–­ã«å¯¾ã™ã‚‹å‚™ãˆã§ã™ã€‚</p><p>ã‚·ã‚¹ãƒ†ãƒ ãŒç¨¼åƒã—ãŸç¾å ´ã§ã¯ã€Œé‹ç”¨ã§å›é¿ã€ã‚„ã€Œä¿å®ˆã§å¯¾å¿œã€ç­‰ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã«ç„¡ã„æƒ³å®šå¤–ã®æ¥­å‹™ãŒçªç™ºã§ç™ºç”Ÿã™ã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã™ã€‚</p><p>é‹ç”¨ä¿å®ˆã§å›é¿ã¯ã‚·ã‚¹ãƒ†ãƒ ã§å•é¡ŒãŒç™ºç”Ÿã—ãŸæ™‚ã®æœ€çµ‚æ‰‹æ®µã§ã™ã€‚é‹ç”¨ã‚„ä¿å®ˆãŒãªã‚“ã¨ã‹ã—ã¦ã„ã‚‹é–“ã«ã€ã‚·ã‚¹ãƒ†ãƒ æ”¹ä¿®ç­‰ã‚’è¡Œã†ã“ã¨ã§å•é¡Œè§£æ±ºãŒå›³ã‚‰ã‚Œã¾ã™ã€‚</p><p>é–‹ç™ºã‚¹ã‚­ãƒ¼ãƒ ã§ã‚‚å„ç¨®æ–½ç­–ãŒè¬›ã˜ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€é‹ç”¨ä¿å®ˆè¨­è¨ˆã¨ã—ã¦ã¯ã€ç™ºç”Ÿç‡ã®å‰Šæ¸›ã¨æƒ³å®šå¤–ã‚’ç„¡ãã™å–ã‚Šçµ„ã¿ã®2ã¤ã€ã§ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã¦ã„ã¾ã™ã€‚</p><p>ç™ºç”Ÿç‡ã®å‰Šæ¸›ã¯ã€ã“ã‚Œã¾ã§ã®å®Ÿç¸¾ã¨ã—ã¦ã€è€ƒæ…®æ¼ã‚Œã‚„å®Ÿè£…ä¸å‚™ã€ãƒ†ã‚¹ãƒˆæ¼ã‚Œã‚„ã‚¢ãƒ—ãƒªä¸å…·åˆã®å½±éŸ¿ã§ç™ºç”Ÿã™ã‚‹ã“ã¨ãŒå¤šã„ã®ã§ã€ã‚·ã‚¹ãƒ†ãƒ å“è³ªã‚’é«˜ã‚ã‚‹ãŸã‚ã«ã‚‚ã€é‹ç”¨ä¿å®ˆè¨­è¨ˆæ‹…å½“ã‚‚ç©æ¥µçš„ã«ã‚·ã‚¹ãƒ†ãƒ å´ï¼ˆè¨­è¨ˆè€…ã‚„é–‹ç™ºè€…ï¼‰ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¦ã„ã¾ã™ã€‚</p><p>æƒ³å®šå¤–ã‚’ç„¡ãã™å–ã‚Šçµ„ã¿ã¯ã€é–‹ç™ºâ‡’é‹ç”¨ä¿å®ˆè¨­è¨ˆã§ã‚ã£ãŸæƒ…å ±ã®æµã‚Œã‚’é‹ç”¨ä¿å®ˆè¨­è¨ˆâ‡’é–‹ç™ºã®æµã‚Œã‚‚ä½œã‚‹ã“ã¨ã§ç›¸äº’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹å½¢ã«ã™ã‚‹ã“ã¨ã§ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã¦ã„ã¾ã™ã€‚</p><h3 id="ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã®ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€"><a href="#ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã®ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€" class="headerlink" title="ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã®ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€"></a>ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã®ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€</h3><p>ã¡ãªã¿ã«ã€ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€ã¯ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã«ã‚‚å‡ºã¦ãã¾ã™ãŒã€ã“ã¡ã‚‰ã¯åŸºæœ¬çš„ã«æ¤œè¨å…ˆå»¶ã°ã—ãƒ¯ãƒ¼ãƒ‰ãªã®ã§ã€ç¾å ´ã®ã€Œé‹ç”¨ä¿å®ˆã§å›é¿ã€ã¨ã¯å…¨ãç•°ãªã‚‹ã‚‚ã®ã§ã™ã€‚</p><p>ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆé–‹ç™ºä¸­ã«ã“ã®æ–‡è¨€ãŒå‡ºã¦æ¥ãŸã‚‰ã€è‰²ã€…ãªæ„å‘³ã§ãƒ‰ã‚­ãƒ‰ã‚­ã—ã¤ã¤ã‚‚ã€ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p><h1 id="ã•ã„ã”ã«"><a href="#ã•ã„ã”ã«" class="headerlink" title="ã•ã„ã”ã«"></a>ã•ã„ã”ã«</h1><p>DevOpsã‚„SREã€RPAç­‰ãŒå‡ºã¦ãã¤ã¤ã‚‚ã€ã¾ã ã¾ã è‰²ã€…ãªå¯èƒ½æ€§ã‚’ç§˜ã‚ã¦ã„ã‚‹é‹ç”¨ä¿å®ˆè¨­è¨ˆã®é ˜åŸŸã€ãœã²ä¸€ç·’ã«ã‚„ã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ</p><p><a href="https://www.future.co.jp/recruit/">https://www.future.co.jp/recruit/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h1&gt;&lt;p&gt;ã¯ã˜ã‚ã¾ã—ã¦ã€ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã‚¤ãƒ³ã‚¹ãƒšãƒ¼ã‚¹ã®çŸ³å´ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;ç§ã®çµŒæ­´ã§ã™ãŒã€ç´„13å¹´å‰ITæ¥­ç•Œã¸ç•°æ¥­ç¨®è»¢è·ã—ãŸã¨ã“ã‚ã‹</summary>
      
    
    
    
    <category term="Infrastructure" scheme="https://future-architect.github.io/categories/Infrastructure/"/>
    
    
    <category term="åˆå¿ƒè€…å‘ã‘" scheme="https://future-architect.github.io/tags/%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%91/"/>
    
    <category term="SRE" scheme="https://future-architect.github.io/tags/SRE/"/>
    
    <category term="ä¿å®ˆé‹ç”¨" scheme="https://future-architect.github.io/tags/%E4%BF%9D%E5%AE%88%E9%81%8B%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>Figmaã§ä¼šç¤¾ã®ååˆºã‚’UIé¢¨ã«ãƒªãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã¿ã‚‹</title>
    <link href="https://future-architect.github.io/articles/20210526a/"/>
    <id>https://future-architect.github.io/articles/20210526a/</id>
    <published>2021-05-25T15:00:00.000Z</published>
    <updated>2021-05-26T01:29:16.799Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20210526a/image.png" alt="Figmaã®ååˆºãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ " width="1200" height="578" loading="lazy"><p>æ–°ã—ãå‚ç”»ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä»Šå¾ŒFigmaã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œã‚‹ã¨ã„ã†ã“ã¨ã§ã€æœ€è¿‘Figmaã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã‚’ã—ã¦ã„ã¾ã™ã€‚ã€Œå®Ÿéš›ã«ä½•ã‹ã‚’ä½œã£ã¦ã¿ã‚‹ã€ã‚ˆã‚Šè‰¯ã„ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—æ–¹æ³•ã¯å­˜åœ¨ã—ãªã„ã ã‚ã†ã€ã¨ã„ã†ã“ã¨ã§æ—©é€Ÿãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¾ã—ãŸã€‚ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã®ãŸã‚ã«æ€ã„ã¤ã„ãŸãƒãƒ£ãƒ¬ãƒ³ã‚¸ã¯ï¼’ã¤ï¼š</p><p>A. æ¶ç©ºã®ã‚¢ãƒ—ãƒªã‚’ä¸€ã‹ã‚‰ãƒ‡ã‚¶ã‚¤ãƒ³<br>B. æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ä½•ã‹ã®<strong>ãƒªãƒ‡ã‚¶ã‚¤ãƒ³</strong></p><p>ã“ã®è¨˜äº‹ã§ã¯ã€ŒB. æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ä½•ã‹ã®ãƒªãƒ‡ã‚¶ã‚¤ãƒ³ã€ã®éç¨‹ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚</p><h2 id="ãŠé¡Œ"><a href="#ãŠé¡Œ" class="headerlink" title="ãŠé¡Œ"></a>ãŠé¡Œ</h2><p>æ±ºã‚ãŸãŠé¡Œã¯ã€Œä¼šç¤¾ã®ååˆºã®ãƒªãƒ‡ã‚¶ã‚¤ãƒ³ã€ã§ã™ã€‚</p><p>ã“ã‚Œã«æ±ºã‚ãŸå¤§ããªç†ç”±ã¯ç‰¹ã«ãªã„ã§ã™ãŒã€æœ€è¿‘æ–°ã—ãååˆºã‚’ç™ºæ³¨ã—ãŸç›´å¾Œã«æ‰€å±ã®éƒ¨ç½²ãŒå¤‰ã‚ã£ãŸã¨ã„ã†æ®‹å¿µãªå‡ºæ¥äº‹ã‚‚ã‚ã‚Šã€ã€Œååˆºã‚’ãƒ‡ã‚¸ã‚¿ãƒ«ä¸–ç•Œã«æŒã£ã¦ã„ãã¨ã©ã†ãªã‚‹ã‚“ã ã‚ã†ï¼Ÿã€ã¨ã„ã†ç–‘å•ã‹ã‚‰å±•é–‹ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ãªãŠã€ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã¯æ¨™æº–ã®ååˆºãƒ‡ã‚¶ã‚¤ãƒ³ã‹ã‚‰ç¾åœ¨ã¯å¤‰ãˆã‚‰ã‚Œãªã„ã®ã§ã€ä»Šå›ã¯ã‚ãã¾ã§<strong>æƒ³åƒã§æ¥½ã—ã‚€ç”¨é€”</strong>ã§ã™ã€‚</p><h2 id="ãƒ‡ã‚¶ã‚¤ãƒ³"><a href="#ãƒ‡ã‚¶ã‚¤ãƒ³" class="headerlink" title="ãƒ‡ã‚¶ã‚¤ãƒ³"></a>ãƒ‡ã‚¶ã‚¤ãƒ³</h2><p>ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ãŒã„ãªã„æ¶ç©ºã®PJã¨ã„ã†ã›ã£ã‹ãã®æ©Ÿä¼šãªã®ã§ã€æ¡ç”¨ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³æ–¹é‡ã¯ã€Œã¨ã‚Šã‚ãˆãšå¥½ããªã“ã¨ã‚’ã‚„ã£ã¦ã¿ã‚‹ã€ã§ã™ã€‚ãƒ†ãƒ¼ãƒã¯2021å¹´ã®UIãƒˆãƒ¬ãƒ³ãƒ‰ã®ä¸­ã‹ã‚‰ä¸‹è¨˜ã®2ã¤ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼š</p><h3 id="Minimalism"><a href="#Minimalism" class="headerlink" title="Minimalism"></a>Minimalism</h3><blockquote><p>å®Œæˆåº¦ã‚’è¿½æ±‚ã™ã‚‹ãŸã‚ã«ã€è£…é£¾çš„è¶£å‘ã‚’å‡ã‚‰ã™ã®ã§ã¯ãªãã€ã‚€ã—ã‚ãã‚Œã‚‰ã‚’å¿…è¦æœ€å°é™ã¾ã§çœç•¥ã™ã‚‹è¡¨ç¾ã‚¹ã‚¿ã‚¤ãƒ«</p></blockquote><ul><li>ãƒ–ãƒªã‚¿ãƒ‹ã‚«å›½éš›å¤§ç™¾ç§‘äº‹å…¸ å°é …ç›®äº‹å…¸</li></ul><p>ãªã˜ã¿ã®ã‚ã‚‹æ–¹ã‚‚å¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚<br>UIã«é™ã‚‰ãšã€æ§˜ã€…ãªåˆ†é‡ã§è¿‘å¹´æµè¡Œã£ã¦ã„ã¾ã™ã€‚<br><img src="/images/20210526a/image_2.png" alt="ãƒŸãƒ‹ãƒãƒªã‚ºãƒ ã‚µãƒ³ãƒ—ãƒ«" width="496" height="279" loading="lazy"></p><blockquote><p>å‡ºå…¸ï¼š<a href="https://www.shutterstock.com/image-illustration/interior-poster-mock-living-room-armchair-1730107024">Shutterstock</a></p></blockquote><h3 id="Glassmorphism"><a href="#Glassmorphism" class="headerlink" title="Glassmorphism"></a>Glassmorphism</h3><p>åŠé€æ˜ã®ã‚¬ãƒ©ã‚¹ã‚’è¡¨ç¾ã™ã‚‹æ‰‹æ³•ã§ã™ã€‚</p><img src="/images/20210526a/image_3.png" alt="Glassmorphismã‚µãƒ³ãƒ—ãƒ«" width="751" height="431" loading="lazy"><blockquote><p>å‡ºå…¸ï¼š<a href="https://hype4.com/blog/glassmorphism">hype4</a></p></blockquote><p>æ˜”ã‹ã‚‰å­˜åœ¨ã—ã¦ã„ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ãŒã€æœ€è¿‘ macOS Big Sur ã‚„ Windows Fluent Design System ã«ä½¿ã‚ã‚ŒãŸã“ã¨ã‚‚ã‚ã‚Šã€æ³¨ç›®ã‚’é›†ã‚ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚</p><img src="/images/20210526a/image_4.png" alt="macOS Big Surã‚¤ãƒ¡ãƒ¼ã‚¸" width="800" height="600" loading="lazy"><blockquote><p>å‡ºå…¸ï¼š<a href="https://www.sketchappsources.com/free-source/4488-macos-big-sur-control-center-sketch-freebie-resource.html">Sketch App Sources</a></p></blockquote><img src="/images/20210526a/image_5.png" alt="Windows Fluent Design Systemã‚¤ãƒ¡ãƒ¼ã‚¸" width="800" height="450" loading="lazy"><blockquote><p>å‡ºå…¸ï¼š<a href="https://docs.microsoft.com/en-us/windows/uwp/design/style/acrylic">Microsoft</a></p></blockquote><h1 id="ã§ã¯æœ¬ç•ªã¸"><a href="#ã§ã¯æœ¬ç•ªã¸" class="headerlink" title="ã§ã¯æœ¬ç•ªã¸"></a>ã§ã¯æœ¬ç•ªã¸</h1><p>é›£ã—ã„ã“ã¨ã¯è€ƒãˆãšã€ãƒãƒ¼ãƒ—ãƒ©ãƒ³ã§ã¾ãšã¯ååˆºã‚’ä½œã£ã¦ã¿ã¾ã™ï¼</p><h2 id="èƒŒæ™¯ã‚’ä½œã‚‹"><a href="#èƒŒæ™¯ã‚’ä½œã‚‹" class="headerlink" title="èƒŒæ™¯ã‚’ä½œã‚‹"></a>èƒŒæ™¯ã‚’ä½œã‚‹</h2><p>Frameã‚’æ–°ã—ãä½œæˆã€‚</p><img src="/images/20210526a/image_6.png" alt="Figmaã®Frame" width="1200" height="767" loading="lazy"><p>å…‰ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«ã€å°‘ã—ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å·¦ä¸Šã‹ã‚‰ã‹ã‘ã¾ã™ã€‚<br>Figmaã§ã¯å³å´ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®<strong>Fill</strong>ã‹ã‚‰ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã‚’é¸æŠã§ãã¾ã™ã€‚ä»Šå›ã¯ã€Œ<strong>Linear</strong>ã€ã‚’æ¡ç”¨ã€‚</p><img src="/images/20210526a/image_7.png" alt="Figmaã®Linear" width="1200" height="766" loading="lazy"><h2 id="ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹"><a href="#ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹" class="headerlink" title="ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹"></a>ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹</h2><p>ååˆºã¨ãªã‚‹é•·æ–¹å½¢ã‚’ä½œæˆã—ã¾ã™ã€‚<br>è§’ã¯è¿‘å¹´ã®ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’é€£æƒ³ã•ã›ã‚‹ã‚ˆã†ãªä¸¸ã„ã‚‚ã®ã«ã—ã¾ã™ã€‚<br>ï¼ˆé•·æ–¹å½¢ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è§’ã«<strong>Radius</strong>ã‚’èª¿æ•´ã§ãã‚‹ä¸¸ã„ç‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰</p><img src="/images/20210526a/image_8.png" alt="Figmaã§é•·æ–¹å½¢ã‚’ä½œã‚‹" width="1200" height="761" loading="lazy"><p>ã‚¬ãƒ©ã‚¹æ„Ÿã‚’å‡ºã™ãŸã‚ã«ã‚«ãƒ¼ãƒ‰ã®èƒŒæ™¯è‰²ã®é€æ˜åº¦ã‚’ä¸Šã’ãŸå¾Œã€ä¸Šè¨˜ã§èƒŒæ™¯ã«ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‹ã‘ãŸã‚ˆã†ã«ã€ã‚«ãƒ¼ãƒ‰ã«ã‚‚é€æ˜ãªç™½ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‹ã‘ã¾ã™ã€‚ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Aç‚¹ã‹ã‚‰Bç‚¹ã¸ã¨ã‹ã‘ã‚‹éš›ã€Aã¨Bã®é€æ˜åº¦ã‚’åˆ¥ã€…ã«ã™ã‚‹ã“ã¨ã§å°‘ã—å¥¥è¡Œãã‚’è¡¨ç¾ã—ã¾ã™ã€‚</p><img src="/images/20210526a/image_9.png" alt="Figmaã§èƒŒæ™¯ã‚’é€æ˜ã«ã™ã‚‹" width="1200" height="761" loading="lazy"><p><strong>Stroke</strong>ã‹ã‚‰æ ç·šã‚’è¿½åŠ ã—ã€ã“ã¡ã‚‰ã‚‚ä¸Šè¨˜ã®ã‚ˆã†ãªã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‹ã‘ã¾ã™ã€‚</p><p>åšã¿ãŒå‡ºã¦ã€ã‚¬ãƒ©ã‚¹ã£ã½ããªã£ã¦ãã¾ã—ãŸã­ï¼</p><img src="/images/20210526a/image_10.png" alt="Figmaã§èƒŒæ™¯ã‚’é€æ˜ã«ã™ã‚‹ãŸã‚ã«Strokeã‚’è¿½åŠ " width="1200" height="578" loading="lazy"><p>ã“ã“ã§ä¸€æ—¦ååˆºã®ä¸­èº«ã‚’ä½œã‚‹ä½œæ¥­ã«ç§»ã‚Šã¾ã™ã€‚<br>ååˆºã®å†…å®¹ã¯minimalismã‚’æ¥µã‚ã‚‹ãŸã‚ã«ã€å¿…è¦æœ€ä½é™ã®ä¸‹è¨˜ã«çµã‚Šã¾ã—ãŸï¼š</p><ul><li>ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ­ã‚´</li><li>æ°å</li><li>å½¹è·</li><li>ãã®ä»–ã®æƒ…å ±ã¯1ã¤ã®QRã‚³ãƒ¼ãƒ‰ã«é ã‘ã‚‹ã“ã¨ã«ã—ã¾ã™</li></ul><p>ã§ã¯ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚</p><p>ã‚¯ãƒ¼ãƒ«ãªãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ­ã‚´ã¯ä¸Šä¸­å¤®ã§ä¸»å¼µã™ã‚‹ã¨ã—ã¦ã€æ°åã€å½¹è·ã¨QRã‚³ãƒ¼ãƒ‰ã¯ä¸‹ã®ã‚¨ãƒªã‚¢ã‚’å…±æœ‰ã•ã›ã¾ã™ã€‚Figmaã§ã¯<strong>Frame</strong>æ¯ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒä½œã‚Œã‚‹ã‚ˆã†ã§ã™ã®ã§ã€ã‚«ãƒ¼ãƒ‰å…¨ä½“ã‚’2rowsã«åˆ†ã‘ãŸå¾Œã€ä¸‹ã®rowã‚’æ›´ã«2columnsã¨2rows(margin 20px)ã«åˆ†ã‘ã¾ã™ã€‚å³å´ã®<strong>Layout grid</strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚</p><img src="/images/20210526a/image_11.png" alt="Layout gridãƒ¡ãƒ‹ãƒ¥ãƒ¼" width="1200" height="717" loading="lazy"><p>ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«æ²¿ã£ã¦ãƒ­ã‚´ã€ãƒ†ã‚­ã‚¹ãƒˆã¨QRã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã£ãŸçµæœãŒã“ã¡ã‚‰ã€‚</p><img src="/images/20210526a/image_12.png" alt="ãƒ­ã‚´ã€ãƒ†ã‚­ã‚¹ãƒˆã€QRã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ãŸå›³" width="1200" height="766" loading="lazy"><p>ã“ã“ã§ã‚‚ã€minimalismã‚’æ¥µã‚ã‚‹ãŸã‚ã«ã‚«ãƒ©ãƒ¼ã¯ç™½ä¸€è‰²ã«ã—ã¾ã—ãŸã€‚ã¡ãªã¿ã«ã€æœ¬æ¥QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿è¾¼ã‚€ã¨Telã‚„Mailã®è©³ç´°æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚³ãƒ³ã‚»ãƒ—ãƒˆã§ã™ãŒã€ã“ã®ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®QRã‚³ãƒ¼ãƒ‰ã«ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’ä»•è¾¼ã¿ã¾ã—ãŸã€‚</p><h2 id="ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—"><a href="#ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—" class="headerlink" title="ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—"></a>ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—</h2><p>ã•ã¦ã€ã“ã‚Œã ã¨å°‘ã—å¯‚ã—ã„ã§ã™ã®ã§ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å°‘ã—ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ã—ã¦ã„ãã¾ã™ã€‚<br>ã‚ˆã‚Šé€æ˜æ„Ÿã‚’å¼•ãç«‹ãŸã›ã‚‹ãŸã‚ã«ã€ã¾ãšã¯èƒŒæ™¯ã¨ã‚«ãƒ¼ãƒ‰ã®é–“ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…ç½®ã—ã¾ã™ã€‚ã“ã“ã§ã¯ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®ãƒ­ã‚´ã®ä¸€éƒ¨ã‚’æµç”¨ã—ã¾ã™ã€‚</p><img src="/images/20210526a/image_13.png" alt="ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—" width="1200" height="763" loading="lazy"><p>æœ€å¾Œã«ã€å³å´ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ˆã‚Š<strong>Background blur</strong>ã®<strong>Effects</strong>ã‚’é•·æ–¹å½¢ã«ã‹ã‘ã‚‹ã“ã¨ã§ã‚«ãƒ¼ãƒ‰ãŒåŠé€æ˜ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ç¾ã€‚</p><img src="/images/20210526a/image_14.png" alt="Effectsã®é•·æ–¹å½¢" width="1200" height="763" loading="lazy"><p>ã“ã‚Œã§ååˆºã¯å®Œæˆã§ã™ï¼</p><img src="/images/20210526a/image_15.png" alt="å®Œæˆã—ãŸååˆº" width="1200" height="730" loading="lazy"><p>â€¦ã§ã€ã©ã†ã“ã®ååˆºã‚’æ´»ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‹ã§ã™ãŒã€<br>UIã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ä½œæˆã—ãŸã ã‘ã‚ã£ã¦ã€ã•ã™ãŒã«å®Ÿä¸–ç•Œã§ã“ã‚“ãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã®ååˆºã€æ¥ãšã‹ã—ãã¦æ¸¡ã›ãªã„ã§ã™ã‚ˆã­ã€‚</p><p>ã¨ã„ã†ã“ã¨ã§ã“ã®ãƒ‡ã‚¸ã‚¿ãƒ«ååˆºã‚’æ´»ã‹ã™ãŸã‚ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªã®ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚‚ä½œã£ã¦ã¿ã¾ã—ãŸã€‚</p><img src="/images/20210526a/image_16.png" alt="å®Œæˆã—ãŸååˆºã®ã¡ã‚‡ã£ã¨æ–œã‚" width="1125" height="730" loading="lazy"><img src="/images/20210526a/iMac_-_2.png" alt="å®Œæˆã—ãŸååˆºã®æ­£é¢" width="1019" height="774" loading="lazy"><p>ä½¿ã„æ–¹ã¯LINEãŒæ¡ç”¨ã—ã¦ã„ãŸã€Œãµã‚‹ãµã‚‹æ©Ÿèƒ½ã€ã®ã‚ˆã†ãªæ„Ÿè¦šã§ã€ãŠäº’ã„ã«å‘ã‹ã£ã¦ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹ã“ã¨ã§ååˆºã‚’äº¤æ›ã€‚</p><img src="/images/20210526a/ezgif.com-gif-maker.gif" alt="ãµã‚‹ãµã‚‹æ©Ÿèƒ½" width="462" height="894" loading="lazy"><blockquote><p>å‡ºå…¸ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸéƒ¨ï¼‰ï¼š<a href="https://www.shutterstock.com/image-photo/teenager-asian-woman-feeling-happy-smiling-1545395876">Shutterstock</a></p></blockquote><p>ã¾ãŸã€è‡ªåˆ†ã®ååˆºã‚’ãƒ¡ãƒ¼ãƒ«ç­‰ã®ã‚¢ãƒ—ãƒªã«é€£æºã™ã‚‹ã“ã¨ã§ãƒªãƒ¢ãƒ¼ãƒˆã®ç›¸æ‰‹ã¨ã‚‚ååˆºäº¤æ›ã§ãã‚‹ã¨ã„ã†ã‚³ãƒ³ã‚»ãƒ—ãƒˆã€‚ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ã‚¹åŒ–ã‚„ãƒªãƒ¢ãƒ¼ãƒˆåŒ–ãŒå¿…é ˆã¨ãªã£ã¦ã„ãã“ã®ã”æ™‚ä¸–ã€è‰¯ã„ã‹ã‚‚ã§ã™ã­ï¼</p><h1 id="ãŠã‚ã‚Šã«"><a href="#ãŠã‚ã‚Šã«" class="headerlink" title="ãŠã‚ã‚Šã«"></a>ãŠã‚ã‚Šã«</h1><p>â€¦ã¨ã€æœ€å¾Œã¯å°‘ã—å¼·å¼•ã«ã¾ã¨ã‚ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ä»Šå›ã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’é€šã—ã¦ä½•ã‚ˆã‚Šæ„Ÿã˜ãŸã®ã¯Figmaã§ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ã™ã‚‹æ¥½ã—ã•ã§ã™ã€‚å¿…è¦æœ€ä½é™ã®ãƒ„ãƒ¼ãƒ«ãŒåˆ†ã‹ã‚Šã‚„ã™ãæ•´ç†ã•ã‚Œã€ä½œã‚‹ã“ã¨ã«é›†ä¸­ã§ãã‚‹ç’°å¢ƒãŒæ•´ã£ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚ã¾ãŸã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚‚ã‚¹ãƒ”ãƒ¼ãƒ‡ã‚£ãƒ¼ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã€ã‚¹ãƒˆãƒ¬ã‚¹ãªããƒ‡ã‚¶ã‚¤ãƒ³ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®å¾®èª¿æ•´ãŒã§ãã‚‹ã®ã‚‚å¬‰ã—ã‹ã£ãŸã§ã™ã€‚</p><p>ãã—ã¦Figmaã®ä¸€ç•ªã®è‰¯ã•ã¯ã€ã€Œç„¡æ–™ã§ã‚ã‚‹ã€ã“ã¨ã¨ã€Œãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ä½¿ãˆã‚‹ã€ã¨ã„ã†ã“ã¨ã ã¨è€ƒãˆã¾ã™ã€‚ã“ã‚Œã ã‘ãƒªãƒƒãƒã§èª°ã§ã‚‚ã™ãã«ãƒãƒ¼ãƒ‰ãƒ«ãªã—ã«ä½¿ãˆã‚‹ãƒ„ãƒ¼ãƒ«ã€ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ã€‚</p><p>ã¡ãªã¿ã«å†’é ­ã§è§¦ã‚ŒãŸãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€ŒA. æ¶ç©ºã®ã‚¢ãƒ—ãƒªã‚’ä¸€ã‹ã‚‰ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã§ã¯ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆãŒè‡ªåˆ†ã®éŸ³æ¥½ã®å£²ä¸Šã‚’ä¸€æ‹¬ç®¡ç†å‡ºæ¥ã‚‹æ¶ç©ºã®ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚</p><img src="/images/20210526a/image_17.png" alt="æ¶ç©ºã®ã‚¢ãƒ—ãƒªã‚’ä¸€ã‹ã‚‰ãƒ‡ã‚¶ã‚¤ãƒ³" width="1200" height="648" loading="lazy"><blockquote><p>å‡ºå…¸ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸéƒ¨ï¼‰ï¼š<a href="https://open.spotify.com/artist/5ObBtv5VunwwhQaXXnUrsM">Spotify (KennyHoopla)</a></p></blockquote><p>ä»Šå¾Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Figmaã‚’ä½¿ã£ã¦UX/UIè¨­è¨ˆã™ã‚‹ã®ãŒæ¥½ã—ã¿ã§ã™ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/20210526a/image.png&quot; alt=&quot;Figmaã®ååˆºãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ &quot; width=&quot;1200&quot; height=&quot;578&quot; loading=&quot;lazy&quot;&gt;

&lt;p&gt;æ–°ã—ãå‚ç”»ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä»Šå¾ŒFigmaã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’</summary>
      
    
    
    
    <category term="Design" scheme="https://future-architect.github.io/categories/Design/"/>
    
    
    <category term="UI/UX" scheme="https://future-architect.github.io/tags/UI-UX/"/>
    
    <category term="Figma" scheme="https://future-architect.github.io/tags/Figma/"/>
    
  </entry>
  
  <entry>
    <title>VS Code / ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æ´»ç”¨ã—ãŸDraw.ioã®ä¾¿åˆ©ãªä½¿ã„æ–¹</title>
    <link href="https://future-architect.github.io/articles/20210525b/"/>
    <id>https://future-architect.github.io/articles/20210525b/</id>
    <published>2021-05-24T15:00:01.000Z</published>
    <updated>2021-05-25T01:58:42.522Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p><a href="https://www.diagrams.net/">Draï½—.ioï¼ˆDiagrams.netï¼‰</a>ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ãŒã€VScodeã‚„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã•ã‚‰ã«ä¾¿åˆ©ã«ãªã‚Šã¾ã™ã€‚</p><p>ç‰¹ã«ä¾¿åˆ©ã¨æ„Ÿã˜ãŸæ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p><h1 id="VS-Code-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³"><a href="#VS-Code-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³" class="headerlink" title="VS Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³"></a>VS Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1><p>ã“ã“æ•°å¹´ã€GitHubã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆMarkdownï¼‰ã‚’ç®¡ç†ã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¢—ãˆã¦ãŠã‚Šã€Markdownã«åŸ‹ã‚è¾¼ã‚€ç·¨é›†å¯èƒ½ãªå›³ã¨ã—ã¦ã€Draï½—.ioã®ãƒ¡ã‚¿æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã‚“ã ç”»åƒã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚</p><p>å½“åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆã‚‚ã—ãã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆï¼‰ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã®ã§ã™ãŒã€ã“ã¡ã‚‰ã®ãƒ—ãƒ©ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã¨ã€VSCodeã‹ã‚‰ç›´æ¥png/svgã‚’Draï½—.ioã§è¡¨ç¤ºãƒ»ç·¨é›†ãƒ»ç”»åƒä¿å­˜ãŒå¯èƒ½ã¨ãªã‚Šã€ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚</p><p><a href="https://marketplace.visualstudio.com/items?itemName=hediet.vscode-drawio">https://marketplace.visualstudio.com/items?itemName=hediet.vscode-drawio</a></p><img src="/images/20210525b/vscode.gif" alt="VS Codeã§draw.ioã‚’ç·¨é›†ã™ã‚‹å‹•ç”»" width="720" height="480" loading="lazy"><h1 id="Draw-io-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³"><a href="#Draw-io-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³" class="headerlink" title="Draï½—.io ãƒ—ãƒ©ã‚°ã‚¤ãƒ³"></a>Draï½—.io ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1><p><a href="https://drawio-app.com/?s=plugin">å…¬å¼</a>ã§ã‚‚ãƒ–ãƒ­ã‚°ã§ã‚µãƒ©ãƒƒã¨ç´¹ä»‹ã—ã¦ã‚ã‚‹ã®ã¿ã§ã™ãŒã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€<code>æ‹¡å¼µ &gt; ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</code>ã§è¿½åŠ å¯èƒ½ã§ã™ã€‚</p><p>ç¶²ç¾…æ€§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ä½¿ã£ã¦ã¿ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å¹¾ã¤ã‹ç´¹ä»‹ã—ã¾ã™ã€‚urlã‹ã‚‰ã‚‚è¿½åŠ ã§ãã‚‹ã‚ˆã†ãªã®ã§ã€æ¢ã—ã¦ã¿ã‚‹ã¨å¯èƒ½æ€§ãŒåºƒãŒã‚Šãã†ã§ã™ã€‚</p><img src="/images/20210525b/plugin.gif" alt="draw.ioã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹å‹•ç”»" width="720" height="480" loading="lazy"><h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><p>DDLã‹ã‚‰Draï½—.ioã®ERDã‚’ä½œã‚Œã¾ã™ã€‚</p><p>å‡„ãä¾¿åˆ©ï¼ã¨æ€ã†ã®ã§ã™ãŒã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è²¼ã‚Œãªã‹ã£ãŸã‚Šã‚ã¨1æ­©ãªæ„Ÿã˜ã§ã™ã€‚</p><p><a href="https://drawio-app.com/sql-plugin/">https://drawio-app.com/sql-plugin/</a></p><h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><p>Draï½—.ioã«å«ã¾ã‚Œã‚‹Textã‚’ä¸€æ‹¬ã§Exportã§ãã¾ã™ã€‚ã©ã“ã‹ã§ä½¿ãˆãã†ã§ã™ã­ã€‚</p><p><a href="https://drawio-app.com/text-plugin/">https://drawio-app.com/text-plugin/</a></p><h2 id="anim"><a href="#anim" class="headerlink" title="anim"></a>anim</h2><p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚å·¨å¤§ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã®ã¯ã‹ãªã‚ŠåŠ´åŠ›ã‚’ä½¿ã„ãã†ã§ã™ã€‚</p><img src="/images/20210525b/anim.gif" alt="draw.ioã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹å‹•ç”»" width="720" height="480" loading="lazy"><h2 id="flow"><a href="#flow" class="headerlink" title="flow"></a>flow</h2><p>ã“ã¡ã‚‰ã‚‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ãŒã€ç·šãŒå‹•ãã¾ã™ã€‚é¢ç™½ã„ã§ã™ã€‚</p><p><a href="https://drawio-app.com/connector-styles-and-animations-in-draw-io/">https://drawio-app.com/connector-styles-and-animations-in-draw-io/</a></p><img src="/images/20210525b/flow.gif" alt="draw.ioã§çŸ¢å°ã®ç·šãŒæµã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³" width="720" height="480" loading="lazy"><h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¿ã‚°ã‚’ä»˜ã‘ã¦ã€è¡¨ç¤ºéè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã‚ˆã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p><img src="/images/20210525b/tags.gif" alt="draw.ioã§ã‚¿ã‚°ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¡¨ç¤ºåˆ¶å¾¡ã™ã‚‹å‹•ç”»" width="720" height="480" loading="lazy"><h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><p>å³ä¸Šã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é‚ªé­”ã§ã™ã€‚</p><img src="/images/20210525b/props.gif" alt="draw.ioã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å·¦ä¸Šã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒè¡¨ç¤ºã•ã‚Œã‚‹å‹•ç”»" width="720" height="480" loading="lazy"><h1 id="æ‰€æ„Ÿ"><a href="#æ‰€æ„Ÿ" class="headerlink" title="æ‰€æ„Ÿ"></a>æ‰€æ„Ÿ</h1><p>Draï½—.ioå˜å“ã§ã‚‚ç„¡æ–™ã§ã“ã“ã¾ã§ä½¿ãˆã‚‹ã‚‚ã®ã‹ã¨é©šãã¾ã™ã€‚æ”¹ã‚ã¦å¯èƒ½æ€§ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ¦‚è¦&quot;&gt;&lt;a href=&quot;#æ¦‚è¦&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¦&quot;&gt;&lt;/a&gt;æ¦‚è¦&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://www.diagrams.net/&quot;&gt;Draï½—.ioï¼ˆDiagrams.netï¼‰&lt;/a&gt;ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ãŒ</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="draw.io" scheme="https://future-architect.github.io/tags/draw-io/"/>
    
    <category term="VSCode" scheme="https://future-architect.github.io/tags/VSCode/"/>
    
  </entry>
  
  <entry>
    <title>Goã®æ§‹é€ ä½“ã®ä½¿ã‚ã‚Œæ–¹ã®è¨­è¨ˆ</title>
    <link href="https://future-architect.github.io/articles/20210525a/"/>
    <id>https://future-architect.github.io/articles/20210525a/</id>
    <published>2021-05-24T15:00:00.000Z</published>
    <updated>2021-05-26T13:21:02.802Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/20210525a/carbon_go_code.png" alt="carbonã§å‡ºåŠ›ã—ãŸGoã‚³ãƒ¼ãƒ‰" width="700" height="511" loading="lazy"><p>Goã§æ§‹é€ ä½“ã‚’è¨­è¨ˆã™ã‚‹å ´åˆã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘çš„ãªã€Œå‹ã”ã¨ã®è²¬å‹™ã®åˆ†æ‹…ã€ä»¥å¤–ã«ã€ã€Œã©ã®ã‚ˆã†ã«ä½¿ã‚ã‚Œã‚‹ã‚‚ã®ã‹ã€ã‚’è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><ul><li>ãƒã‚¤ãƒ³ã‚¿ã§æ‰±ã†ã®ã‹ï¼Ÿå€¤ã¨ã—ã¦æ‰±ã†ã®ã‹ï¼Ÿä¸¡æ–¹è¨±å¯ã™ã‚‹ã®ã‹ï¼Ÿ</li><li>å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆã«immutableï¼ˆå¤‰æ›´ä¸å¯èƒ½ï¼‰ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã™ã‚‹ã®ã‹ã€mutableï¼ˆå¤‰æ›´å¯èƒ½ï¼‰ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã™ã‚‹ã®ã‹</li><li>å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆã«ã‚¼ãƒ­å€¤ã§ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹</li></ul><p>ä»–ã®è¨€èªã§è¨€ã†ã¨ã€C#ã®æ§‹é€ ä½“ã¨ã‚¯ãƒ©ã‚¹ã®é•ã„ã€C++ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚ãŸã‚Šã«é ­ã‚’æ‚©ã¾ã›ãŸã“ã¨ãŒã‚ã‚‹äººã«ã¯ãŠãªã˜ã¿ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Goã§ã‚‚ã„ãã¤ã‹è€ƒæ…®ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚</p><h1 id="ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹"><a href="#ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹" class="headerlink" title="ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹"></a>ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹</h1><p>ã¾ãšæœ€åˆã«æ±ºæ–­ã§ãã‚‹æ–¹é‡ã¨ã—ã¦ã¯ã€ãƒã‚¤ãƒ³ã‚¿å‹ã§ã®ã¿æ‰±ã†ã‹ã©ã†ã‹ã§ã™ã€‚</p><p>å†…éƒ¨ã«ã‚¹ãƒ©ã‚¤ã‚¹ã‚„mapã€ãƒã‚¤ãƒ³ã‚¿ãªã©ã®å‚ç…§å‹ãªè¦ç´ ã‚’æŒã£ã¦ã„ã‚Œã°ã€åŸºæœ¬çš„ã«ãƒã‚¤ãƒ³ã‚¿å‹ã§ã®ã¿æ‰±ã†æ§‹é€ ä½“ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®è¦ç´ ã‚’æŒã£ã¦ã„ãŸå ´åˆã€ã‚³ãƒ”ãƒ¼ã—ã¦ã—ã¾ã†ã¨ã€è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã€ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚è‡ªåˆ†ã ã‘ã®è¦ç´ ã ã¨æ€ã£ã¦ã„ãŸã®ã«å¤‰æ›´ãŒä»–ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚‚å½±éŸ¿ã‚’ä¸ãˆã¦ã—ã¾ã†ã€ã¨ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚</p><p>æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã¨ã€ãƒ­ãƒƒã‚¯çŠ¶æ…‹ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¦å¤‰ãªã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†sync.Mutexã‚„ã€å†…éƒ¨ã«å¯å¤‰é•·ãªãƒãƒƒãƒ•ã‚¡ã‚’å«ã‚€big.Intãªã©ãŒè©²å½“ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æ§‹é€ ä½“ã¯åˆ©ç”¨ã‚³ãƒ¼ãƒ‰å†…ã§ã¯ãƒã‚¤ãƒ³ã‚¿å‹ã§å–æ‰±ã„ã¾ã™ã€‚ <code>sync.Mutex</code> ã«ã¯ãªã„ã§ã™ãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¦ãƒã‚¤ãƒ³ã‚¿å‹ã‚’è¿”ã™ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã‚’ç”¨æ„ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><p>Goã®æ–‡æ³•ã‚’ä½¿ã£ãŸæ§‹é€ ä½“ã®ã‚³ãƒ”ãƒ¼ã‚’é˜²ãæ–¹æ³•ã¨ã—ã¦ã¯<a href="https://github.com/golang/go/issues/8005#issuecomment-190753527">go vetã«è­¦å‘Šã•ã›ã‚‹æ–¹æ³•ãŒã‚ã‚‹ã¨issueã«ã¯ã‚ã‚‹</a>ã®ã§ã™ãŒã€<a href="https://play.golang.org/p/wGiv-2VpYHK">æ‰‹å…ƒã§ã“ã®æ–¹æ³•ã‚’è©¦ã—ãŸã¨ã“ã‚ã†ã¾ãå‹•ã„ã¦ãŠã‚‰ãš</a>ãƒ»ãƒ»ãƒ»</p><p><strong>5/26è¿½è¨˜</strong></p><p><a href="https://twitter.com/orisano/status/1397022250381938689">@orisano</a>ã•ã‚“ã‚ˆã‚Šã€å‹ã®ãƒ™ãƒ¼ã‚¹ãŒæ§‹é€ ä½“ã§ã€Unlockãƒ¡ã‚½ãƒƒãƒ‰ã‚‚å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒæ¡ä»¶ã¨æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><p>å®Ÿè¡Œæ™‚ã«é˜²ãæ–¹æ³•ã¨ã—ã¦ã¯ã€ã“ã®ã‚ˆã†ãªå®Ÿè£…ã‚’è¦‹ã‹ã‘ãŸã“ã¨ã¯ãªã„ã®ã§ã™ãŒã€ä½œæˆã—ãŸã¨ãã®ãƒã‚¤ãƒ³ã‚¿å€¤ã‚’ä¿æŒã—ã¦ãŠã„ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ãŸã¨ãã«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚Cè¨€èªãªã©ã«ã‚ã‚‹assertæ©Ÿèƒ½ãŒGoã«ã¯ãªã„ã®ã§ã€å®Ÿè¡Œæ™‚ã«ã‚³ã‚¹ãƒˆãŒã‹ã‹ã£ã¦ã—ã¾ã†å•é¡Œã¯ã‚ã‚Šã¾ã™ãŒç¢ºå®Ÿã«ç™ºè¦‹ã§ãã¾ã™ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ ¼ç´ã—ã€ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã§è¨­å®šã™ã‚‹ã“ã¨ã§ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚ã¾ãŸã€<code>nil</code> ã¨æ¯”è¼ƒã™ã‚Œã°ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã‚’ä½¿ã‚ãªã„ã§åˆæœŸåŒ–ã—ãŸã‚±ãƒ¼ã‚¹ã‚‚æ‹¾ãˆã‚‹ã§ã—ã‚‡ã†ã€‚</p><p><strong>5/26è¿½è¨˜</strong></p><p><a href="https://twitter.com/athos0220/status/1397076574118182918">@athos0220</a>ã•ã‚“ã‚ˆã‚Šã€strings.Builderã®ä¸­ã§ãƒã‚¤ãƒ³ã‚¿å€¤ã‚’ä¿æŒã—ã¦ã‚³ãƒ”ãƒ¼ã‚’æ¤œçŸ¥ã™ã‚‹æ‰‹æ³•ãŒå®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã¨æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ãƒã‚¤ãƒ³ã‚¿ã¨ã—ã¦ã®ã¿åˆ©ç”¨ã™ã‚‹æ§‹é€ ä½“</span></span><br><span class="line"><span class="keyword">type</span> NoCopyStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">self  *NoCopyStruct</span><br><span class="line">Value *<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆæœŸåŒ–æ™‚ã«ãƒã‚¤ãƒ³ã‚¿ã‚’ä¿æŒã—ã¦ãŠã</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNoCopyStruct</span><span class="params">(value <span class="keyword">string</span>)</span> *<span class="title">NoCopyStruct</span></span> &#123;</span><br><span class="line">r := &amp;NoCopyStruct&#123;</span><br><span class="line">Value: &amp;value,</span><br><span class="line">&#125;</span><br><span class="line">r.self = r</span><br><span class="line"><span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§ãƒã‚§ãƒƒã‚¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *NoCopyStruct)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> n != n.self &#123;</span><br><span class="line"><span class="built_in">panic</span>(<span class="string">&quot;should not copy NoCopyStruct instance without Copy() method&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *n.Value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å ´åˆã¯ã€æ˜ç¤ºçš„ã«å€¤ã‚’å–ã‚Šå‡ºã—ã¦ã‚³ãƒ”ãƒ¼ã‚’ã™ã‚‹ã¨ã„ã†çµ„ã¿è¾¼ã¿æ–‡æ³•ã§ã¯å•é¡ŒãŒãŠãã‚‹ãŸã‚ã€ã‚³ãƒ”ãƒ¼ãŒå¿…è¦ãªå ´åˆã¯æ˜ç¤ºçš„ãªCopy()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨æ„ã™ã¹ãã§ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜ç¤ºçš„ãªã‚³ãƒ”ãƒ¼ç”¨ãƒ¡ã‚½ãƒƒãƒ‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *NoCopyStruct)</span> <span class="title">Copy</span><span class="params">()</span> *<span class="title">NoCopyStruct</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> str = *n.Value</span><br><span class="line">p2 := &amp;NoCopyStruct&#123;</span><br><span class="line">Value: &amp;str,</span><br><span class="line">&#125;</span><br><span class="line">p2.self = p2</span><br><span class="line"><span class="keyword">return</span> p2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã©ã†ã—ã¦ã‚‚ãƒã‚¤ãƒ³ã‚¿ã¨ã—ã¦æ‰±ã‚ã›ãŸã„å ´åˆã¯ã€å®Ÿè£…ã‚’privateã«ã—ã¦ã€ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã ã‘ã‚’å…¬é–‹ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><h1 id="å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆ"><a href="#å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆ" class="headerlink" title="å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆ"></a>å€¤ã¨ã—ã¦æ‰±ãˆã‚‹å ´åˆ</h1><p>å€¤ã¨ã—ã¦æ‰±ã†å ´åˆã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å…¨ä½“ã®ã‚³ãƒ”ãƒ¼ãŒè¡Œã‚ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ä»£å…¥ã—ãŸã‚Šã€å¼•æ•°ã¨ã—ã¦æ¸¡ã™ãŸã³ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿ã®å ´åˆã¯ã‚³ãƒ”ãƒ¼ãŒã•ã‚Œã¾ã›ã‚“ã€‚</p><p>ãƒã‚¤ãƒ³ã‚¿å‹ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹ã®è£ã¨ãªã‚Šã¾ã™ãŒã€å€¤ã¨ã—ã¦æ‰±ã†å ´åˆã€ãƒã‚¤ãƒ³ã‚¿ã€mapã‚„ã‚¹ãƒ©ã‚¤ã‚¹ãªã©ã‚’ãƒ¡ãƒ³ãƒãƒ¼ã«æŒãŸã›ã‚‰ã‚Œã¾ã›ã‚“ã€‚æŒã¤ã“ã¨è‡ªä½“ã¯æ–‡æ³•ä¸Šã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã›ã‚“ãŒã€ã‚ã‹ã‚Šã«ãã„ãƒã‚°ã‚’èª˜ç™ºã—ã¾ã™ã€‚</p><p>å€¤ã®æ–¹ãŒå®Ÿè£…ã®åˆ¶ç´„ãŒå¼·ãã‹ã‹ã‚Šã¾ã™ãŒã€ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã£ã¦ãã®é–¢æ•°ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ä¸­ã§ã®ã¿æ¶ˆè²»ã•ã‚Œã‚‹å ´åˆã€ã‚¹ã‚¿ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªä¸Šã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç¢ºä¿ã•ã‚Œã¾ã™ã€‚ã‚¹ã‚¿ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªã¯è¨€èªã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚„OSã«å•ã„åˆã‚ã›ã¦ãƒ¡ãƒ¢ãƒªã‚’ç¢ºä¿ã™ã‚‹ãƒ’ãƒ¼ãƒ—ãƒ¡ãƒ¢ãƒªã¨ç•°ãªã‚Šã€ãƒ¡ãƒ¢ãƒªå‰²ã‚Šå½“ã¦ã®ã‚³ã‚¹ãƒˆãŒã»ã¼ã‚¼ãƒ­ã§ã™  <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>ã€‚</p><p>å€¤ã§æ‰±ãˆã‚‹æ§‹é€ ä½“ã¯ãƒã‚¤ãƒ³ã‚¿ã§æ‰±ã£ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ãƒã‚¤ãƒ³ã‚¿ã«nilã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ç„¡åŠ¹ãªå€¤ã§ã‚ã‚‹ã“ã¨ãŒè¡¨ç¾ã§ãã¾ã™ã€‚å€¤ã§ã‚‚ã€Œ<code>IsZero()</code>ã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§åŒã˜ã“ã¨ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã©ã¡ã‚‰ã§è¨­è¨ˆã™ã‚‹ã‹ã¯ãƒãƒ¼ãƒ ã”ã¨ã«æ–¹å‘æ€§ã‚’æ±ºã‚ã¾ã—ã‚‡ã†ã€‚</p><h1 id="mutableãªæ§‹é€ ä½“ã¨immutableãªæ§‹é€ ä½“"><a href="#mutableãªæ§‹é€ ä½“ã¨immutableãªæ§‹é€ ä½“" class="headerlink" title="mutableãªæ§‹é€ ä½“ã¨immutableãªæ§‹é€ ä½“"></a>mutableãªæ§‹é€ ä½“ã¨immutableãªæ§‹é€ ä½“</h1><p>mutableãªæ§‹é€ ä½“ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¤‰æ›´ã‚’è¡Œã†ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç›´æ¥æ›¸ãæ›ãˆã¾ã™ã€‚å¤å…¸çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãªã‚³ãƒ¼ãƒ‰ã¨ãªã‚Šã¾ã™ã€‚å¤‰æ›´ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¯ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã‚’ãƒã‚¤ãƒ³ã‚¿å‹ã«ã—ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MutableMoney <span class="keyword">struct</span> &#123;</span><br><span class="line">currency Currency</span><br><span class="line">amount   *big.Int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m MutableMoney)</span> <span class="title">Currency</span><span class="params">()</span> <span class="title">Currency</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> m.currency</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MutableMoney)</span> <span class="title">SetCurrency</span><span class="params">(c Currency)</span></span> &#123;</span><br><span class="line">m.currency = c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿‘å¹´ã€é–¢æ•°å‹è¨€èªã‹ã‚‰ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’å€Ÿã‚Šã¦ãã¦æ™®åŠã—ã¦ã„ã‚‹ã®ãŒã€Œimmutableã€ã«ã™ã‚‹è¨­è¨ˆã§ã™ã€‚Goã§ã‚‚time.Timeã¯immutableã§ã™ã€‚immutableãªæ§‹é€ ä½“ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¤‰æ›´ã‚’è¡Œã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã¨ã€ãã®å¤‰æ›´ã‚’åŠ ãˆãŸæ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒãªã„ãŸã‚ã€ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã¯å¸¸ã«å€¤å‹ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ImmutableMoney <span class="keyword">struct</span> &#123;</span><br><span class="line">currency Currency</span><br><span class="line">amount   *big.Int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(im ImmutableMoney)</span> <span class="title">Currency</span><span class="params">()</span> <span class="title">Currency</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> im.currency</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(im ImmutableMoney)</span> <span class="title">SetCurrency</span><span class="params">(c Currency)</span> <span class="title">ImmutableMoney</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> ImmutableMoney&#123;</span><br><span class="line">currency: c,</span><br><span class="line">amount:   im.amount,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ã‚ã‚Œæ–¹ã‚‚ç•°ãªã‚Šã¾ã™ã€‚immutableãªå‹ã¯å¤‰æ›´ã‚’åŠ ãˆã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ã‚³ãƒ”ãƒ¼ã‚’è¿”ã™ãŸã‚ã€å¿…ãšè¿”ã‚Šå€¤ã‚’å¤‰æ•°ã«å…¥ã‚ŒãŸã‚Šã€ä»–ã®é–¢æ•°ã«æ¸¡ã—ãŸã‚Šã€è¿”ã‚Šå€¤ã‚’åˆ©ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¨ãªã‚Šã¾ã™ã€‚</p><p>mutableã«ã™ã‚‹ã‹ã€immutableã«ã™ã‚‹ã‹ã®æŒ‡æ¨™ã¯ã€ãƒã‚¤ãƒ³ã‚¿å‹ã«ã™ã‚‹ã‹å€¤ã«ã™ã‚‹ã‹ã®æŒ‡æ¨™ã¨ä¼¼ã¦ã„ã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿å‹ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚±ãƒ¼ã‚¹ã¯ã€å†…éƒ¨ã«ã‚³ãƒ”ãƒ¼ä¸å¯èƒ½ãªã‚‚ã®ï¼ˆåˆ©ç”¨é€”ä¸­ã®ãƒãƒ£ãƒãƒ«ãªã©ï¼‰ã‚„ã‚³ãƒ”ãƒ¼ã‚³ã‚¹ãƒˆã®å¤§ããªè¤‡åˆå‹ã‚’æŒã£ã¦ã„ã‚‹ãŸã‚ã€immutableã«ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã§ã—ã‚‡ã†ã€‚immutableã¯å€¤ã¨ã®ç›¸æ€§ã¯è‰¯ã„ã§ã™ã€‚ãŸã ã€å€¤ã¨ã—ã¦æ‰±ã†ã‚‚ã®ã‚’mutableã«ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚</p><p>ã©ã¡ã‚‰ã§è¡¨ç¾ã§ãã‚‹ã‚‚ã®ã‚’ã©ã¡ã‚‰ã«ã™ã‚‹ã‹ã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã®è…•ã«è¦‹ã›æ‰€ã§ã™ãŒã€Goã®å ´åˆã¯ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨å‘¼ã°ã‚Œã‚‹ã‚ˆã†ãªæ§‹é€ ä½“ã¯mutableãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚é–¢æ•°å‹ã«ã‹ã¶ã‚Œã‚‹ã¨å…¨éƒ¨immutableã«ã—ãŸããªã‚Šã¾ã™ãŒã€time.Timeã®ã‚ˆã†ãªã»ã¼ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã¿ãŸã„ãªãƒ‡ãƒ¼ã‚¿ã§ã®ã¿åˆ©ç”¨ã—ãŸæ–¹ãŒGoã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã€Goã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ç²’åº¦ãŒåˆã‚ã›ã‚„ã™ã„ã§ã—ã‚‡ã† <sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>ã€‚</p><h1 id="ã‚¼ãƒ­å€¤ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹"><a href="#ã‚¼ãƒ­å€¤ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹" class="headerlink" title="ã‚¼ãƒ­å€¤ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹"></a>ã‚¼ãƒ­å€¤ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹</h1><p>æ§‹é€ ä½“ã®å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€åˆæœŸåŒ–ã—ãªã„ã¨ã‚¼ãƒ­å€¤ã«ãªã‚Šã¾ã™ã€‚æ§‹é€ ä½“ã‚’æœªåˆæœŸåŒ–ã§å®šç¾©ã™ã‚Œã°ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚¼ãƒ­å€¤ã«ãªã‚Šã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">    name   <span class="keyword">string</span></span><br><span class="line">    depth  <span class="keyword">int</span></span><br><span class="line">    parent *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ms.nameã¯ç©ºæ–‡å­—åˆ—ã€depthã¯ã‚¼ãƒ­ã€parentã¯nil</span></span><br><span class="line"><span class="keyword">var</span> n Node</span><br></pre></td></tr></table></figure><p>ã“ã®ã¨ãã«ã‚‚å…¨éƒ¨ã®æ©Ÿèƒ½ãŒæœ‰åŠ¹ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹ã‚‚æ±ºã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«å€¤ã¨ã—ã¦æ‰±ã†ã‚±ãƒ¼ã‚¹ã§ã¯ã“ã‚Œã‚’è€ƒæ…®ã™ã‚‹å¿…è¦æ€§ãŒé«˜ããªã‚‹ã§ã—ã‚‡ã†ã€‚</p><p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çš„ãªå±æ€§ãŒã‚ã‚‹ãªã‚‰ã€ã‚¼ãƒ­å€¤ã§æœªåˆæœŸåŒ–çŠ¶æ…‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆçŠ¶æ…‹ã«ã—ã¾ã™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Status <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">  DefaultStatus Status = <span class="literal">iota</span> <span class="comment">// iota+1ã«ã™ã‚‹ã®ãŒã‚ˆãã‚ã‚‹ã‚¤ãƒ‡ã‚£ã‚ªãƒ ã ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤0ãŒå¤§åˆ‡ã«</span></span><br><span class="line">  ActiveStatus</span><br><span class="line">  CloseStatus</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ãƒã‚¤ãƒ³ã‚¿ã‚„è¤‡åˆå‹ãªã©ãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚ã‚Œã°ã€å®Ÿè¡Œæ™‚ã«nilãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦åˆæœŸåŒ–ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã‚‹æ–¹æ³•ã‚‚è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ãŠãã‚‰ãã‚¼ãƒ­å€¤æ§‹é€ ä½“ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒé »ç¹ã«ä½¿ã‚ã‚Œã‚‹ã¨æ€ã‚ã‚Œã‚‹å€¤ã§æ‰±ã†æ§‹é€ ä½“ã®å ´åˆã€ãã‚‚ãã‚‚ã“ã‚Œã‚‰ã®å‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã‚ã¾ã‚ŠæŒã£ã¦ã„ãªã„ã¨æ€ã†ã®ã§ã€è€ƒæ…®ã™ã‚‹å¿…è¦ã¯ãªã„ã§ã—ã‚‡ã†ã€‚</p><p>ã‚¼ãƒ­å€¤ã§ã®å‹•ä½œã‚’è£œå„Ÿã—ãªã„ã€ã‚ã‚‹ã„ã¯ãƒã‚¤ãƒ³ã‚¿ã¨ã—ã¦æ‰±ã†å‰æã®æ§‹é€ ä½“ã§ã‚ã‚Œã°ã€ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ä»¥å¤–ã®å‹•ä½œã‚’è£œå„Ÿã—ãªã„æ‰‹ã‚‚ã‚ã‚Šã¾ã™ã€‚</p><h1 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h1><p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆçš„ã«ã¯ã€Œå‹ã‚’ä½œã‚‹ã€ã®ä¸€è¨€ã§ã™ãŒã€Goã§ã¯åˆ©ç”¨ã™ã‚‹å ´é¢ã‚„å†…éƒ¨ã®çŠ¶æ…‹ã«å¿œã˜ã¦å®Ÿè£…æ–¹æ³•ã«ã„ãã¤ã‹ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚</p><ul><li>ãƒã‚¤ãƒ³ã‚¿ã§æ‰±ã†ã®ã‚’æƒ³å®šã™ã‚‹ã‹ã€å€¤ã§æ‰±ã†ã®ã‚’æƒ³å®šã™ã‚‹ã‹</li><li>immutableãªAPIã‚»ãƒƒãƒˆã‚’ç”¨æ„ã™ã‚‹ã‹ã€mutableãªAPIã‚»ãƒƒãƒˆã‚’ç”¨æ„ã™ã‚‹ã‹</li><li>ã‚¼ãƒ­å€¤ã®å‹•ä½œã‚’è£œå„Ÿã™ã‚‹ã‹ã©ã†ã‹</li></ul><p>Goã«ã¯ã©ã¡ã‚‰ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§ã‚ã‚‹ã‹ã€ã‚¹ã‚¿ã‚¤ãƒ«é•ã„ã§ä½¿ã£ãŸã¨ãã«ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ä»•çµ„ã¿ãŒãªã„ï¼ˆã‚ã‚‹ã„ã¯å¼±ã„ï¼‰ãŸã‚ã€åˆ©ç”¨è€…ã«è¨­è¨ˆæ–¹é‡ã‚’ä¼ãˆã‚‹ãŸã‚ã«Exampleãƒ†ã‚¹ãƒˆã‚„READMEãªã©ã§ä½¿ã„æ–¹ã‚’ä¾‹ç¤ºã—ã¾ã—ã‚‡ã†ã€‚</p><p>è‰²ã€…ç´¹ä»‹ã—ã¾ã—ãŸãŒã€å›°ã£ãŸã‚‰ã¾ãšã¯ã€Œãƒã‚¤ãƒ³ã‚¿ã§æ‰±ã†å‰æã€ã€ŒmutableãªAPIã‚»ãƒƒãƒˆã‚’æä¾›ã€ã€Œç‰¹å®šã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã§ã®ã¿å‹•ä½œï¼ˆã‚¼ãƒ­å€¤å‹•ä½œã‚’ä¿è¨¼ã—ãªã„ï¼‰ã€ãŒã„ã¡ã°ã‚“ãŠæ‰‹è»½ãªã®ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚å€¤ã§æ‰±ã†ã€ãƒ—ãƒ©ã‚¹ã‚¢ãƒ«ãƒ•ã‚¡ã§immutableã«ã™ã‚‹æ‰‹æ³•ãŒãƒŸãƒ¼ãƒˆã™ã‚‹ã®ã¯ã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã¯ã‚„ã‚„ç‹­ããªã‚Šã¾ã™ã€‚ä¸Šæ‰‹ããƒãƒã‚Œã°ãƒ¡ãƒ¢ãƒªç¢ºä¿ãŒè»½ããªã£ãŸã‚Šã€ä¸å…·åˆãŒæ¸›ã‚‹ã§ã—ã‚‡ã†ã€‚ã‚¼ãƒ­å€¤ã§ã®å‹•ä½œã¯å€¤ã§æ‰±ã†ã‚±ãƒ¼ã‚¹ã§ã¯è£œå„Ÿã—ã¦ã‚ã’ã‚‹æ–¹ãŒä¾¿åˆ©ãªã“ã¨ãŒå¤šã„ã§ã—ã‚‡ã†ã€‚</p><p>ã“ã“ã§èª¬æ˜ã—ãªã‹ã£ãŸè¦³ç‚¹ã«ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿ã‚’ä½¿ã£ãŸæ–¹ãŒç¢ºã‹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯è‰¯ã‹ã£ãŸã‚Šã—ã¾ã™ãŒã€ã‹ãªã‚Šå·¨å¤§ãªæ§‹é€ ä½“ã«ãªã‚‰ãªã„ã‹ãã‚Šã¯ãã‚ŒãŒå•é¡Œã«ãªã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚æ—©ã™ãã‚‹æœ€é©åŒ–ã‚ˆã‚Šã¯ã€æœ€é©ãªä½¿ã‚ã‚Œæ–¹ã‚’æ¨¡ç´¢ã—ãŸæ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><p>ã“ã®æ‰‹ã®ã€Œè‡ªç”±åº¦ãŒã‚ã‚‹ã€ã“ã¨ã§åˆ©ç”¨å´ã§è€ƒæ…®ãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹ã¯ã€åˆ¶ç´„ã‚’åŠ ãˆã‚‹è¨€èªæ©Ÿèƒ½ãŒãªã„ã‹ã‚‰å¿…è¦ã«ãªã£ã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚ã¨ã¯ã„ãˆã€Œåˆ¶ç´„ã‚’ä¸ãˆã‚‹ï¼ˆâ‰’å¼•ãç®—ã‚’ã™ã‚‹ï¼‰ã€ã“ã¨ãŒã†ã¾ãã‚„ã‚Šåˆ‡ã‚Œã‚‹äººã¯ã€å˜ç´”ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹äººã‚ˆã‚Šã¯å°‘ãªãã€åˆ¶ç´„ãŒç·©ã‘ã‚Œã°èª¤ã£ãŸåˆ©ç”¨æ–¹æ³•ã‚’æŠ‘åˆ¶ã§ããšã€åˆ¶ç´„ãŒå³ã—éãã‚Œã°ã€å…ƒã®ã‚³ãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾ä½¿ã†ã®ã‚’ã‚ãã‚‰ã‚ã€vendoringã®ä¸Šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚Œã¦å®Ÿè£…ãŒæåˆ†ã‹ã‚Œã—ã¦ã—ã¾ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚å€‹äººçš„ã«ã¯åˆ¶ç´„ã®ãŸã‚ã®è¨€èªæ©Ÿèƒ½ãŒãªã„è¨€èªè¨­è¨ˆã‚‚ä¸€ã¤ã®åˆç†çš„ãªå¸°çµã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">Goã¯ã‚¹ã‚¿ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªãŒãªããªã‚Šãã†ã«ãªã‚‹ã¨ã‚¹ã‚¿ãƒƒã‚¯ã‚’å»¶é•·ã™ã‚‹å‡¦ç†ãŒèµ°ã‚Šã¾ã™ã€‚ãã®ã¨ãã ã‘ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¾ã™ã€‚</span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="vertical-align: top; padding-right: 10px;">2.</span><span style="vertical-align: top;">JavaScriptã®Reactã‚„Reduxã®ã‚ˆã†ãªã€immutableãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹å‰æã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒç™»å ´ã—ãªã„é™ã‚Š</span><a href="#fnref:2" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/20210525a/carbon_go_code.png&quot; alt=&quot;carbonã§å‡ºåŠ›ã—ãŸGoã‚³ãƒ¼ãƒ‰&quot; width=&quot;700&quot; height=&quot;511&quot; loading=&quot;lazy&quot;&gt;

&lt;p&gt;Goã§æ§‹é€ ä½“ã‚’è¨­è¨ˆã™ã‚‹å ´åˆã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘çš„ãª</summary>
      
    
    
    
    <category term="Programming" scheme="https://future-architect.github.io/categories/Programming/"/>
    
    
    <category term="Go" scheme="https://future-architect.github.io/tags/Go/"/>
    
    <category term="è¨­è¨ˆ" scheme="https://future-architect.github.io/tags/%E8%A8%AD%E8%A8%88/"/>
    
  </entry>
  
  <entry>
    <title>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§å§‹ã‚ã‚‹è¦æ±‚æ•´ç†</title>
    <link href="https://future-architect.github.io/articles/20210524a/"/>
    <id>https://future-architect.github.io/articles/20210524a/</id>
    <published>2021-05-23T15:00:00.000Z</published>
    <updated>2021-05-26T13:11:00.255Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>TIG DXãƒ¦ãƒ‹ãƒƒãƒˆ  <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> çœŸé‡ã§ã™ã€‚å…ƒã€…ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚’ä¸­å¿ƒã«ã—ã¦ã„ã¾ã™ãŒã€ã“ã“3,4å¹´ã§ã„ãã¤ã‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ä½œæˆã«é–¢ã‚ã‚‹ãªã©ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼çš„ãªè¦–ç‚¹ã‚‚æ±‚ã‚ã‚‰ã‚Œã‚‹ã“ã¨ãŒå¢—ãˆã¦ãã¾ã—ãŸã€‚</p><p>ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã§ä»®èª¬æ¤œè¨¼ã‚’ç¹°ã‚Šè¿”ã—ãªãŒã‚‰ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’è¡Œã£ã¦ã„ã‚‹ã¨ã€å…¨ä½“æ„ŸãŒè¦‹ãˆã«ãããªã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚ç‰¹ã«é–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã®ãƒã‚±ãƒƒãƒˆã§ç®¡ç†ã—ã¦ã„ã‚‹ã¨ã€ãã®ãƒã‚±ãƒƒãƒˆã®èƒŒæ™¯ã«ã‚ãŸã‚‹ã€ãã®æ©Ÿèƒ½ãŒã€ã€Œã ã‚ŒãŒã€ã€ã€Œã©ã†ã„ã£ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ä½¿ç”¨ã—ã¦ã€ã€ã€Œä½•ã‚’è§£æ±ºã™ã‚‹ã‹ã€ã¨ã„ã£ãŸèªè­˜ãŒè–„ããªã‚ŠãŒã¡ã§ã™ã€‚</p><p>ãã‚“ãªæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ãŒã‚ã‚‹ã¨ã€å…¨ä½“åƒã®èªè­˜ã‚’ãƒãƒ¼ãƒ å…¨ä½“ã§å…±æœ‰ã§ãã¦ä¾¿åˆ©ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã¯è¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ãã€ç‰¹æ®Šãªæ§‹é€ ã‚‚ã—ã¦ã„ãªã„ãŸã‚å…±é€šç†è§£ã—ã‚„ã™ã„ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚</p><p>ã¾ãŸã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã¯ã“ã‚Œã‹ã‚‰ä½•ã‚’ä½œã‚ã†ã‹ã¨ã„ã†è¦æ±‚å®šç¾©ã®æ®µéšã§ã‚‚æœ‰åŠ¹ã«æ„Ÿã˜ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯è¦æ±‚ã®æ•´ç†ã¨ç†è§£ã®ãŸã‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½¿ã£ã¦ã¿ãŸã¨ãã®æ°—ãŒã¤ã„ãŸç‚¹ã‚„æŒ¯ã‚Šè¿”ã‚Šã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚</p><h2 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—" class="headerlink" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—"></a>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—</h2><p><a href="https://www.oreilly.co.jp/books/9784873117324/">Oâ€™Reilly Japan - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°</a>ã«ã¯â€¦</p><p><strong>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½œã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãã®ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã«æ„è­˜ã‚’é›†ä¸­ã§ãã€ã‚ˆã‚Šè‰¯ã„ä¼šè©±ã‚’äº¤ã‚ã™ã“ã¨ãŒã§ãã€æœ€çµ‚çš„ã«ã¯è‰¯ã„è£½å“ãŒç”Ÿã¾ã‚Œã‚‹ã€‚</strong></p><p>â€¦ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚<strong>ãƒ“ã‚¸ãƒ§ãƒ³ã‚’å…±æœ‰ã—ã€ä¼šè©±ã‚’äº¤ã‚ã—ã€è‰¯ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«è¿½åŠ ã™ã‚‹ãŸã‚</strong>ã®ã‚‚ã®ã§ã™ã€‚</p><p>ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹é€ ã‚’ã—ã¦ã„ã¾ã™ã€‚</p><ul><li>ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã¨å‘¼ã°ã‚Œã‚‹å·¦ã‹ã‚‰å³ã«æµã‚Œã‚‹ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’æ›¸ã<ul><li>ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¯å‹•è©ã§æ›¸ãã“ã¨ã‚’æ¨å¥¨ã¨ã®ã“ã¨</li><li>å›³ã§ã¯ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã¯2æ®µã§æ›¸ã„ã¦ã„ã¾ã™ãŒã€åˆ¥ã«1ã€2æ®µã§ã‚‚è‰¯ã„ã‚‰ã—ãã€æœ€åˆã¯1æ®µã§æ›¸ã„ã¦å¤šããªã£ãŸã‚‰2æ®µã«ã—ã¦åˆ†é¡åˆ†ã‘ãªã©æŸ”è»Ÿãªé‹ç”¨ã‚‚å¯<ul><li>ãã‚Œãã‚Œã®ãƒ¬ãƒ™ãƒ«ã«åå‰ãŒæ¬²ã—ã„ã¨ã“ã‚ã§ã™ãŒã€æ›¸ç±ã«ã‚ˆã‚‹ã¨ã¾ã ç„¡ã„ã¨ã®ã“ã¨</li></ul></li></ul></li><li>ãƒãƒƒã‚¯ãƒœãƒ¼ãƒ³ã‚’æ›¸ã„ãŸã‚‰ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®è©³ç´°ã‚’æ›¸ã„ã¦ã„ã<ul><li>æ©Ÿèƒ½ã¨å‘¼ã¶ã“ã¨ãŒçµŒé¨“ä¸Šå¤šã„ã§ã™</li></ul></li></ul><img src="/images/20210524a/ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ä¾‹.png" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ä¾‹" width="1200" height="502" loading="lazy"><p>å¾Œã§å°‘ã—è§¦ã‚Œã¾ã™ãŒã€è¤‡æ•°ã®ãƒšãƒ«ã‚½ãƒŠã‚’æ‰±ã†å ´åˆã¯ã€å½“ç„¶ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚‚åˆ†å‰²ã™ã‚‹ã“ã¨ã‚’è¦–é‡ã«å…¥ã‚ŒãŸã»ã†ãŒè‰¯ã„ã§ã™ã€‚ç‰¹ã«åˆ†å‰²ã«ã¤ã„ã¦ã¯ãƒ«ãƒ¼ãƒ«ãŒç„¡ã„ã‚ˆã†ãªã®ã§ã€è¦‹ã«ãããªã£ãŸã‚‰ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚„ãƒšãƒ«ã‚½ãƒŠå˜ä½ã§åˆ†å‰²ã‚’æ¤œè¨ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚</p><img src="/images/20210524a/ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼2.png" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼åˆ†å‰²ä¾‹" width="451" height="534" loading="lazy"><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°å…¨ä½“ã®ãŠä½œæ³•ã¨ã—ã¦ã€è£ã§å®Ÿç¾ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œã¯è€ƒãˆãšã€ã©ã®ã‚ˆã†ã«ãƒ¦ãƒ¼ã‚¶ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒç§»ã‚Šå¤‰ã‚ã£ã¦ã„ãã‹ã«æ³¨åŠ›ã—ã¾ã™ã€‚ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã¯ä½•ãŒã§ãã‚‹ã¹ãã‹ã€ã—ãªã„ã¹ãã‹ã®è­°è«–ã«é›†ä¸­ã§ãã¾ã™ã€‚</p><h2 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§ã§ããªã„ã“ã¨"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§ã§ããªã„ã“ã¨" class="headerlink" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§ã§ããªã„ã“ã¨"></a>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§ã§ããªã„ã“ã¨</h2><ul><li>ã‚ãã¾ã§è¦æ±‚ã‚’æ•´ç†ã—è­°è«–ã‚’æ´»ç™ºåŒ–ã•ã›ã‚‹ãŸã‚ã®ã‚‚ã®ã€å„ªå…ˆåº¦ä»˜ã‘ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã‚ã‚‹<ul><li>è¦ä»¶å®šç¾©ã§ã¯ãªã„ã®ã§ã€ç´°ã‹ãªä»•æ§˜æ•´ç†ã«ã¯ä½¿ãˆãªã„<ul><li>å½“ç„¶ã€ç”»é¢è¡¨ç¤ºé …ç›®ã‚„ã€å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¦å‰‡ãªã©ã¯å®šç¾©ã§ããªã„</li></ul></li></ul></li></ul><p>ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã®ãƒ•ã‚§ãƒ¼ã‚ºã§è¨€ãˆã°ã€åŸºæœ¬è¨­è¨ˆã‚ˆã‚Šå‰ã®ã“ã¨ã—ã‹ã§ãã¾ã›ã‚“ã€‚</p><p>ã©ã†ã„ã£ãŸç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ãªã‚‹ã‹ã€ç”»é¢é·ç§»ã«ãªã‚‹ã‹ã‚‚æ±ºã‚ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’å…ƒã«ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ä½œã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚</p><h2 id="æ©Ÿèƒ½ä¸€è¦§ã¨ã®æ¯”è¼ƒ"><a href="#æ©Ÿèƒ½ä¸€è¦§ã¨ã®æ¯”è¼ƒ" class="headerlink" title="æ©Ÿèƒ½ä¸€è¦§ã¨ã®æ¯”è¼ƒ"></a>æ©Ÿèƒ½ä¸€è¦§ã¨ã®æ¯”è¼ƒ</h2><p>ã©ã†ã„ã£ãŸã‚¹ã‚³ãƒ¼ãƒ—ã§é–‹ç™ºã™ã‚‹ã¨ã‹ã€æœ€ä½é™ã®æ©Ÿèƒ½ç¾¤ï¼ˆMVPï¼‰ã¯ä½•ã‹ã¨ã„ã†æ™‚ã«ã€é–‹ç™ºå´ã§è¨€ãˆã°â€æ©Ÿèƒ½ä¸€è¦§â€ã¨ã‹â€ç”»é¢ä¸€è¦§â€ã‚’ä½œã‚ŠãŸã„ã¨ã„ã†æ°—æŒã¡ãŒã‚ã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¯ã“ã‚Œã§é–“é•ã£ã¦ã„ãªã„ã¨æ€ã†ã®ã§ã™ãŒã€æ©Ÿèƒ½ãƒ™ãƒ¼ã‚¹ã‚’å‡ºç™ºç‚¹ã«ã™ã‚‹ã¨å®Ÿéš›ã«ä½œã‚Šä¸Šã’ãŸã‚‚ã®ã«è¨­è¨ˆä»•æ§˜ã®æ¼ã‚ŒãŒç™ºç”Ÿã—ãŒã¡ã§ã™ã€‚</p><ul><li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰¹å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæ¥­å‹™ï¼‰ãŒå®šç¾©ã—ãŸæ©Ÿèƒ½ã ã¨å®Ÿç¾ã§ããªã„ã“ã¨ãŒã‚ã‚‹<ul><li>è€ƒæ…®æ¼ã‚Œã¨ã„ãˆã°ãã†ã§ã™ãŒã€æ©Ÿèƒ½ã‚’èµ·ç‚¹ã«ã™ã‚‹ã¨ãƒ¦ãƒ¼ã‚¶ã®åˆ©ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå¸Œè–„ã«ãªã‚ŠãŒã¡ã§ã™</li></ul></li><li>é–‹ç™ºå´ãŒæƒ³å®šã—ã¦ã„ãªã„ä½¿ã‚ã‚Œæ–¹ã‚’ã—ã¦ã„ã‚‹<ul><li>ãã®åˆ©ç”¨æ–¹æ³•ã§ã‚ã‚Œã°ã‚‚ã£ã¨åˆ¥ã®å®Ÿç¾æ–¹æ³•ãŒã‚ã£ãŸã®ã§ã¯ï¼Ÿã¨ç”Ÿç”£çš„ãªè­°è«–ã‚’ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’é€ƒã™</li></ul></li></ul><p>æœ€çµ‚çš„ã«ã¯æ©Ÿèƒ½ä¸€è¦§ãªã©ã‚’ä½œæˆã—ãŸã‚Šã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ãŒãã‚Œã«å½“ãŸã‚‹ãªã©ã«ãªã‚‹ã“ã¨ã¯è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚ãã‚Œã‚’ä½œã‚‹å‰ã«ã€ã ã‚Œã®ãŸã‚ã«ã©ã†ã„ã£ãŸã“ã¨ãŒã§ãã‚‹ã¨è‰¯ã„ã‹ã¨ã„ã£ãŸã€ä½•ã‚’ä½œã‚‹ã‹ã®ç‚¹ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã¦ã€ãƒãƒ¼ãƒ å…¨ä½“ã®èªè­˜ã‚’æƒãˆã‚‹ãŸã‚ã®æ™‚é–“ã‚’ã¨ã‚‹ã¹ãã§ã™ã€‚</p><h2 id="æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã‚’ä½œã‚‹ã“ã¨ã¨ã®é•ã„"><a href="#æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã‚’ä½œã‚‹ã“ã¨ã¨ã®é•ã„" class="headerlink" title="æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã‚’ä½œã‚‹ã“ã¨ã¨ã®é•ã„"></a>æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã‚’ä½œã‚‹ã“ã¨ã¨ã®é•ã„</h2><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã¯æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã®æ•´ç†ã¨è¿‘ã„éƒ¨åˆ†ã‚‚å¤šã„ã¨ã¯æ€ã„ã¾ã™ã€‚ã—ã‹ã—ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚‚ã‚ã‚‹ç¨‹åº¦ã®ãƒ•ãƒ­ãƒ¼ã‚’è¡¨ç¾ã§ãã¾ã™ãŒã€ãƒ•ãƒ­ãƒ¼ã¯åˆ†å²ã§ãã¾ã›ã‚“ã€‚ä»£ã‚ã‚Šã«ãƒ¦ãƒ¼ã‚¶ã®å„å‹•ä½œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã€æ©Ÿèƒ½ã®å„ªå…ˆåº¦ã‚’è¡¨ç¾ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§ã™ã€‚ãƒªãƒªãƒ¼ã‚¹1,2ã§ã©ã®æ©Ÿèƒ½ã¾ã§æä¾›ã™ã‚‹ã‚“ã ã€ã¨ã„ã£ãŸã“ã¨ã‚‚ç›´æ„Ÿçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã¯è¤‡æ•°ã®ã‚¢ã‚¯ã‚¿ãƒ¼ã«ã‚ˆã‚‹æ¥­å‹™ã®ã‚„ã‚Šå–ã‚ŠãŒç™ºç”Ÿã™ã‚‹ã¨ãã«ã¯éå¸¸ã«è¦–èªæ€§ãŒé«˜ãè¡¨ç¾ã§ãã‚‹ãŸã‚ã€ãã†ã„ã£ãŸå ´é¢ã§ã¯ãœã²ä½œæˆã—ãŸã„æˆæœç‰©ã§ã™ã€‚</p><p>ã‚ã‚‹ç¨‹åº¦ã€æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒè¤‡é›‘ãªã‚‚ã®ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã ã‘ã§ã¯ãªãã€æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã‚‚ä½œæˆã™ã‚‹ã“ã¨ã§è£œå®Œã™ã‚‹ã¨è‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚</p><p>ï¼œæ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã®ã‚¤ãƒ¡ãƒ¼ã‚¸å›³ï¼</p><img src="/images/20210524a/æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³.png" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼åˆ†å‰²ä¾‹" width="848" height="662" loading="lazy"><h2 id="ãƒ„ãƒ¼ãƒ«"><a href="#ãƒ„ãƒ¼ãƒ«" class="headerlink" title="ãƒ„ãƒ¼ãƒ«"></a>ãƒ„ãƒ¼ãƒ«</h2><p>æ˜¨ä»Šã®æƒ…å‹¢ã ã¨ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«ä»˜ç®‹ã‚’ãƒšã‚¿ãƒšã‚¿è²¼ã‚‹ã®ã¯é›£ã—ã <sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>ã€ãƒªãƒ¢ãƒ¼ãƒˆã‹ã¤å…±åŒã§ä½¿ãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚</p><ul><li><a href="https://miro.com/">Miro</a><ul><li><del>ã¾ãšã€Miroã‚’è¦‹ã‚ã£ã¦ã¿ã‚“ãªè¨€ã†ã‚“ã§ã™ã‚ˆã­</del></li><li>ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨å­è¦ç´ ãŒç´ä»˜ã„ã¦ãã‚‹ã®ã§æ³¨æ„</li><li>ãŸã¾ã«å¤‰ãªæŒ™å‹•ã™ã‚‹ã®ã§ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨è‰¯ã„</li></ul></li><li><a href="https://lucidspark.com/ja/create/user-story-tool">Lucidspark</a></li><li>draw.io<ul><li>å…±åŒç·¨é›†ã‚’è«¦ã‚ã‚‹ã®ã§ã‚ã‚Œã°é¸æŠè‚¢ã«ã‚ãŒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚äººæ•°ãŒå°‘ãªã‘ã‚Œã°VS Codeã§Live Shareã—ãªãŒã‚‰åŒæ™‚ç·¨é›†ã‚‚ã§ãã¾ã™</li></ul></li></ul><h2 id="ã‚„ã£ã¦ã¿ãŸæŒ¯ã‚Šè¿”ã‚Šã¾ã¨ã‚"><a href="#ã‚„ã£ã¦ã¿ãŸæŒ¯ã‚Šè¿”ã‚Šã¾ã¨ã‚" class="headerlink" title="ã‚„ã£ã¦ã¿ãŸæŒ¯ã‚Šè¿”ã‚Šã¾ã¨ã‚"></a>ã‚„ã£ã¦ã¿ãŸæŒ¯ã‚Šè¿”ã‚Šã¾ã¨ã‚</h2><p>ä½•å›ã‹ãƒˆãƒ©ã‚¤ã—ã¦ã¿ãŸæŒ¯ã‚Šè¿”ã‚Šã‚’è¨˜è¼‰ã—ã¾ã™ã€‚å‘¨å›²ã§ã‚„ã£ãŸã“ã¨ã‚ã‚‹äººã®æ„è¦‹ã‚‚å…¥ã£ã¦ã„ã¾ã™ã€‚å”åŠ›ï¼šå¾³ç”°ã•ã‚“ã‚ã‚ŠãŒã¨ã†ï¼</p><ul><li>ç™»å ´äººç‰©ï¼ˆãƒšãƒ«ã‚½ãƒŠï¼‰ã‚’æ´—ã„å‡ºã—ãŸæ–¹ãŒè‰¯ã„<ul><li>ä¼ç”»ãƒ»è£½é€ ãƒ»ãƒãƒ¼ã‚±ãªã©ã®éƒ¨é–€ã€‚ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ»ãƒ¡ãƒ³ãƒãƒ¼ãªã©ã®å½¹è·</li><li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã©ã‚“ãªæµã‚Œã§ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ã‹ã‚’æ¤œè¨ã™ã‚‹ã®ã«ã€ãƒ¦ãƒ¼ã‚¶ã®ç¨®åˆ¥ãŒè¤‡æ•°å­˜åœ¨ã™ã‚‹ã¨è­°è«–ãŒæ··ä¹±ã—ã¾ã™ã€‚ãªã‚‹ã¹ãåˆæœŸã«æ´—ã„å‡ºã™ã¹ãã ã¨ãŠã‚‚ã„ã¾ã™</li></ul></li><li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¯å·¦ã‹ã‚‰å³ã«è¡Œã†ãŒã€ç²’åº¦ãŒåˆã‚ãªããªã£ã¦ãã‚‹ã“ã¨ã‚‚<ul><li>åˆ¥ã®æ™‚é–“è»¸ï¼ˆæ—¥æ¬¡ã§è¡Œã†ã“ã¨ã¨ã‹ã€é€±æ¬¡å‡¦ç†ã§è¡Œã†ã“ã¨ã¨ã‹ï¼‰ã¯åˆ¥ã®ã‚«ãƒ†ã‚´ãƒªã«ã™ã‚‹è‰¯ã„<ul><li>ä¾‹ãˆã°ã€éƒ¨é–€ãƒ»éƒ¨ç½²çµ±åˆã‚„ã€ECã‚µã‚¤ãƒˆã®å•†å“ã‚«ãƒ†ã‚´ãƒªçµ±åˆã«ã‚ˆã‚‹æ¥­å‹™å¤‰æ›´ãªã©ã¯æ—¥ã€…ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«æ··ãœã‚‹ã¨ç²’åº¦ãŒåˆ¥ã™ãã¦æ··ä¹±ã™ã‚‹</li></ul></li><li>å®šå¸¸ãƒ»éå®šå¸¸ã¨ã„ã†æ¥­å‹™åˆ†é¡ã®æ˜¯é<ul><li>ãƒ¦ãƒ¼ã‚¶ãŒå®šå¸¸ãƒ»éå®šå¸¸ã‚’æ„è­˜ã—ã¦ã„ã‚‹ãªã‚‰è‰¯ã„ãŒã€ãã†ã§ã¯ãªã„ãªã‚‰ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®åˆ†é¡ã¨ã—ã¦ã¯ä¸é©ãªã“ã¨ãŒã‚ã‚‹</li><li>éå®šå¸¸æ¥­å‹™ã§ã‚‚ãƒ¦ãƒ¼ã‚¶ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«å…¥ã‚Œã¦è‡ªç„¶ã§ã‚ã‚Œã°å…¥ã‚Œã¦ã—ã¾ã†ã®ã‚‚æ‰‹ã€‚æœ¬å½“ã«ã‚¤ãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼ãªæ¥­å‹™ã§ã‚ã‚Œã°æ··ä¹±ã™ã‚‹ã®ã§åˆ†ã‘ã‚‹<ul><li>åœ¨åº«ãŒåˆ‡ã‚ŒãŸæ™‚ã ã‘è¡Œã†ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¯ã€éšæ™‚ç™ºç”Ÿã ãŒãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«å…¥ã‚Œã¦ã‚‚è‰¯ã„ã“ã¨ã‚‚ã‚ã‚‹</li></ul></li></ul></li></ul></li><li>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒã ã‚“ã ã‚“æ¨ªã«é•·ããªã‚‹å•é¡ŒãŒã‚ã‚‹<ul><li>ã‚ã‚‹ç¨‹åº¦ã¯ä»•æ–¹ãªã„ãŒã€ã‚ã¾ã‚Šã«ã‚‚é•·ã„å ´åˆã«ã¯ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã”ã¨ã¸ã®åˆ†é›¢ã‚‚æ¤œè¨</li><li>è¤‡æ•°ã®ãƒšãƒ«ã‚½ãƒŠã‚’æ··ãœã‚‹ã¨æ¨ªã«é•·ããªã‚ŠãŒã¡ãªã®ã§ã€é•å’Œæ„ŸãŒãªã‘ã‚Œã°ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’åˆ†é›¢ã—ãŸæ–¹ãŒè‰¯ã‹ã£ãŸ<ul><li>è­°è«–ä¸­ã«ã€Œè£½é€ éƒ¨é–€ã®äººãŒåˆ©ç”¨ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã—ãŸã€ã¨ã„ã£ãŸè©±ã«ãªã‚‹ã¨é¢å€’ã ã£ãŸ</li><li>ä¸€ç·’ã«ã™ã‚‹å ´åˆã¯ã€ãƒšãƒ«ã‚½ãƒŠãŒã‚ã‹ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’è²¼ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚‚ã‚ã‚‹ã‚‰ã—ã„ã€‚è£½é€ éƒ¨é–€ã ã¨ğŸ­ã¨ã‹ã€ãƒãƒ¼ã‚±ã ã¨ğŸ›’ã¨ã‹çµµæ–‡å­—ã‚’ä½¿ã†ã¨è¦ªã—ã¿ã‚„ã™ã„ã‹ã‚‚</li></ul></li></ul></li><li>æ—¢å­˜ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãŒã‚ã‚‹ã¨ãã®ç”»é¢é·ç§»ãªã©ã«å¼•ããšã‚‰ã‚ŒãŒã¡<ul><li>ãƒ¦ãƒ¼ã‚¶ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¨ã„ã†è¦–ç‚¹ã‚’æ„è­˜ã™ã‚‹ã€‚æ—¢å­˜ç”»é¢ã‚„æ©Ÿèƒ½ã¯ã„ã£ãŸã‚“é ­ã®ç‰‡éš…ã«ç½®ã</li></ul></li><li>è¤‡æ•°ã®ãƒšãƒ«ã‚½ãƒŠãŒã„ã‚‹ã¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã«ä¾å­˜é–¢ä¿‚ãŒã§ã‚‹<ul><li>ç‰¹ã«æ‰¿èªãƒ•ãƒ­ãƒ¼ãŒã‚ã‚‹ã¨ã€ç·šã§ã¤ãªããŸããªã‚‹ãŒãã£ã¨æˆ‘æ…¢ã™ã‚‹ã€‚ãã‚Œã¯ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§ã¯ãªã„</li></ul></li><li>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä¸Šã¯ç•°ãªã‚‹åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã ãŒã€æ˜ã‚‰ã‹ã«æ©Ÿèƒ½ãŒé‡è¤‡ã—ãŸæ™‚<ul><li>æ©Ÿèƒ½ã¯é‡è¤‡ã—ã¦ã‚‚è‰¯ã„ã€‚å®šå¸¸ã€éå®šå¸¸æ¥­å‹™ã§æ˜ã‚‰ã‹ã«åˆ©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒç•°ãªã‚‹ãŒã€æ©Ÿèƒ½ä¸Šã¯åŒã˜ãƒã‚¹ã‚¿ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§ã‚‚ã€ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¨ã—ã¦ã¯åˆ¥ãªã®ã§é‡è¤‡ã—ã¦é…å‚™ã™ã‚‹</li></ul></li><li>ä¸€ç•ªä¸‹ã®ã‚¿ã‚¹ã‚¯ã®ç²’åº¦<ul><li>Backlogé–‹ç™ºãƒã‚±ãƒƒãƒˆç²’åº¦ã«ãªã‚‹æƒ³å®š</li></ul></li></ul><h2 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’å…ƒã«ã—ãŸè­°è«–ã‚’æœ‰æ„ç¾©ã«ã™ã‚‹ã‚³ãƒ„"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’å…ƒã«ã—ãŸè­°è«–ã‚’æœ‰æ„ç¾©ã«ã™ã‚‹ã‚³ãƒ„" class="headerlink" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’å…ƒã«ã—ãŸè­°è«–ã‚’æœ‰æ„ç¾©ã«ã™ã‚‹ã‚³ãƒ„"></a>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’å…ƒã«ã—ãŸè­°è«–ã‚’æœ‰æ„ç¾©ã«ã™ã‚‹ã‚³ãƒ„</h2><p>å¯¾è±¡ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚ˆã£ã¦è‰²ã€…ã‚³ãƒ„ãŒã‚ã‚Šãã†ã§ã™ãŒã€ä¸€ä¾‹ã‚’ä¸Šã’ã¦ã¿ã¾ã™ã€‚</p><ul><li>ãƒ¢ãƒã‚¤ãƒ«ãƒ»PCãªã©ã®åˆ©ç”¨å½¢æ…‹ã‚’å¤‰ãˆã¦ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ã¿ã‚‹<ul><li>é€šå‹¤ä¸­ãªã©ã®ã‚¹ã‚­ãƒæ™‚é–“ã§åˆ©ç”¨ã™ã‚‹ã‹ã€é›†ä¸­ã—ã¦åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã‹ã€ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã‚‚ã®ãªã®ã‹ã‚’è€ƒãˆã‚‹ã®ã‚‚è‰¯ã„</li></ul></li><li>è¤‡æ•°ã®ãƒšãƒ«ã‚½ãƒŠãŒå­˜åœ¨ã™ã‚‹æ™‚ã€ãã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¯åˆ¥ã®ãƒšãƒ«ã‚½ãƒŠã«ç§»è­²ã—ãŸã»ã†ãŒè‰¯ã„ã§ã¯ï¼Ÿã¨è€ƒãˆã‚‹<ul><li>ç‰¹ã«æ¥­å‹™ç³»ã‚·ã‚¹ãƒ†ãƒ ã®å ´åˆ</li></ul></li></ul><h2 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã‚‚ã£ã¨æœ‰æ„ç¾©ã«æ´»ã‹ã™ã‚³ãƒ„"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã‚‚ã£ã¨æœ‰æ„ç¾©ã«æ´»ã‹ã™ã‚³ãƒ„" class="headerlink" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã‚‚ã£ã¨æœ‰æ„ç¾©ã«æ´»ã‹ã™ã‚³ãƒ„"></a>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã‚‚ã£ã¨æœ‰æ„ç¾©ã«æ´»ã‹ã™ã‚³ãƒ„</h2><p>ä¸»æµãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‹ã‚‰å¤–ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚‚ã‚ã‚‹ã¯ãšã§ã™ã€‚å…ˆç¨‹ã®éƒ¨é–€çµ±åˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ã‚ˆã†ãªç‰¹æ®Šä¾‹ã§ã™ã€‚ã“ã¡ã‚‰ã¯ã€ã©ã†ã„ã£ãŸã‚±ãƒ¼ã‚¹ã§ã“ã‚Œã‚‰ãŒç™ºç”Ÿã™ã‚‹ã‹è£œè¶³ã—ãŸã»ã†ãŒå…±é€šç†è§£ãŒé€²ã‚€ã¨æ€ã„ã¾ã™ã€‚ä¸»æµã¯è¦‹ã‚Œã°ã‚ã‹ã‚Šã¾ã™ãŒã€ç‰¹æ®Šä¾‹ã¯ã©ã†ã„ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆãŒãƒˆãƒªã‚¬ãƒ¼ã¨ãªã£ã¦ç™ºç”Ÿã™ã‚‹ã‹ãŒè‡ªæ˜ã§ãªã„å ´åˆãŒå¤šã„ã‹ã‚‰ã§ã™ã€‚</p><ul><li>ä¾‹1ï¼‰ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰è£½å“ä¸è‰¯ã®é€£çµ¡ãŒã‚ã‚Œã°ã€å¯¾è±¡ã®ãƒ­ãƒƒãƒˆã‚’å›åã™ã‚‹</li><li>ä¾‹2ï¼‰å£²ä¸Šåˆ†æã‹ã‚‰é€£çµ¡ãŒã‚ã‚Šã€éƒ¨é–€é•·ã®æ‰¿èªãŒé™ã‚Šã‚Œã°å•†å“ã‚«ãƒ†ã‚´ãƒªã‚’å¤‰æ›´ã™ã‚‹</li></ul><p>..ã¨ã„ã£ãŸã“ã¨ã‚’å‚™è€ƒã«æ®‹ã™ã¨ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«å¯¾ã™ã‚‹ç†è§£ãŒãƒãƒ¼ãƒ å…¨ä½“ã§æ·±ã¾ã‚Šã¾ã™ã€‚</p><h2 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½œã£ãŸå¾Œ"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½œã£ãŸå¾Œ" class="headerlink" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½œã£ãŸå¾Œ"></a>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½œã£ãŸå¾Œ</h2><p>ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚„<a href="https://signalvnoise.com/posts/1926-a-shorthand-for-designing-ui-flows">UI Flows</a>ã‚’æ›¸ãã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚ç§ã¯æˆ‘æ…¢ã§ããšdraw.ioã¨ã‹Google Jamboardã§ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æ›¸ã„ã¦ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã™ã‚Šåˆã‚ã›ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚ä¸»è¦ç”»é¢ã®æ©Ÿèƒ½ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä»˜ã„ãŸã‚‰ã€å€‹åˆ¥ã®è¨­è¨ˆã«å…¥ã£ã¦ã„ãã¾ã™ã€‚</p><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°ã§ã¯ç¢ºå®Ÿã«è­°è«–ã§ãã¦ã„ãªã„ã ã‚ã†ã“ã¨ã¯ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€è¨­è¨ˆã—ãªãŒã‚‰ãƒˆãƒ”ãƒƒã‚¯ã‚’ä¸Šã’ã¦ã„ãã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚</p><ul><li>èªè¨¼ãƒ»èªå¯ãƒ»è¡¨ç¤ºåˆ¶å¾¡å‘¨ã‚Š</li><li>è¡¨ç¤ºé …ç›®ãƒ»åˆ¶å¾¡é …ç›®</li><li>æ¤œç´¢è¦ä»¶ã€ä¸€æ‹¬ç™»éŒ²ç³»ã®è¦ä»¶</li><li>MVPæ™‚ç‚¹ã§ã®æ¥­å‹™é‹ç”¨ãƒ»ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨å®šç¾©</li><li>éæ©Ÿèƒ½è¦ä»¶<ul><li>æ€§èƒ½ã€å¯ç”¨æ€§ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–ã€ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“ã€ç›£è¦–è¨­è¨ˆã€etc.</li></ul></li></ul><p>ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã§ã–ã£ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å›ºã‚ãŸå¾Œã«ã€UI/UXè¨­è¨ˆã™ã‚‹å ´åˆã¯Figmaã‚’æ´»ç”¨ã™ã‚‹ã¨è‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚</p><ul><li><a href="/articles/20200318/">ã€Figmaã€‘ã‚’ä½¿ã£ã¦ãƒãƒ¼ãƒ ã§UI/UXè¨­è¨ˆã™ã‚‹ã¨ã„ã„ã“ã¨</a></li></ul><h2 id="ã¾ã¨ã‚"><a href="#ã¾ã¨ã‚" class="headerlink" title="ã¾ã¨ã‚"></a>ã¾ã¨ã‚</h2><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‚’ä½¿ã£ã¦ã¿ã¦æ°—ãŒã¤ã„ãŸç‚¹ã‚’è‰²ã€…ã¾ã¨ã‚ã¾ã—ãŸã€‚è¦æ±‚å®šç¾©ã¨ã—ã¦æœ¬æ°—ã§ä½¿ãŠã†ã¨ã™ã‚‹ã¨å®Œç’§ã«ä½œã‚ã†ã¨ã—ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ä½œã£ã¦çµ‚ã‚ã‚Šã§ã¯ãªãä»Šå¾Œã‚‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ç¶šã‘ã‚‹ã®ãŒå¤§äº‹ãªã®ã§ã€ä½œã‚Šè¾¼ã¿ã™ããªã„ã®ãŒã‚³ãƒ„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p><p>å…±é€šèªè­˜ã®ãŸã‚ã®è³‡æ–™ã¨ã—ã¦ã¯å„ªç§€ãªã®ã§ã€è­°è«–ã®ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã—ã¦ãœã²æ´»ç”¨ã—ãŸã„ã§ã™ã­ï¼</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://qiita.com/Koki_jp/items/6aebc73bedd0a932dcb8">Qiita - ç°¡å˜ï¼æ¥½ã—ã„ï¼5åˆ†ã§ã‚ã‹ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°(User Story Mapping)</a></li><li><a href="https://www.oreilly.co.jp/books/9784873117324/">Oâ€™Reilly Japan - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°</a></li></ul><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="vertical-align: top; padding-right: 10px;">1.</span><span style="vertical-align: top;">Technology Innovation Groupï¼ˆTIGï¼‰ã¯ã€ã€Œæœ€å…ˆç«¯ã€ä¸”ã¤å…ˆé€²çš„ãªãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«é›†å›£ã€ã€ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå“è³ªã¨ç”Ÿç”£æ€§ã®å‘ä¸Šã€ã€ã€Œè‡ªç¤¾ã‚µãƒ¼ãƒ“ã‚¹äº‹æ¥­ã®ç«‹ã¡ä¸Šã’ã€ã‚’ä¸»ãªãƒŸãƒƒã‚·ãƒ§ãƒ³ã¨ã™ã‚‹ã€æŠ€è¡“éƒ¨éšŠã§ã™ã€‚DXãƒ¦ãƒ‹ãƒƒãƒˆã¨ã¯ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¨é€²ã™ã‚‹ãƒãƒ¼ãƒ ã§ã€IoTã‚„ã‚‰MaaSãªã©ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚«ãƒƒãƒˆã§ãƒ“ã‚¸ãƒã‚¹è»¢æ›ã‚’è¡Œã„ã¾ã™ã€‚</span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="vertical-align: top; padding-right: 10px;">2.</span><span style="vertical-align: top;">ã“ã®æƒ…å‹¢ã˜ã‚ƒãªãã¦ã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çš„ã«ã‚¢ã‚¦ãƒˆã ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</span><a href="#fnref:2" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;a href=&quot;#ã¯ã˜ã‚ã«&quot; class=&quot;headerlink&quot; title=&quot;ã¯ã˜ã‚ã«&quot;&gt;&lt;/a&gt;ã¯ã˜ã‚ã«&lt;/h2&gt;&lt;p&gt;TIG DXãƒ¦ãƒ‹ãƒƒãƒˆ  &lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1</summary>
      
    
    
    
    <category term="Business" scheme="https://future-architect.github.io/categories/Business/"/>
    
    
    <category term="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" scheme="https://future-architect.github.io/tags/%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88/"/>
    
    <category term="ãƒãƒ¼ãƒ é–‹ç™º" scheme="https://future-architect.github.io/tags/%E3%83%81%E3%83%BC%E3%83%A0%E9%96%8B%E7%99%BA/"/>
    
    <category term="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°" scheme="https://future-architect.github.io/tags/%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%83%9E%E3%83%83%E3%83%94%E3%83%B3%E3%82%B0/"/>
    
  </entry>
  
</feed>
